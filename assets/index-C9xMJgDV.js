(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function s(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(r){if(r.ep)return;r.ep=!0;const i=s(r);fetch(r.href,i)}})();/**
* @vue/shared v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Ti(t){const e=Object.create(null);for(const s of t.split(","))e[s]=1;return s=>s in e}const Ce={},As=[],xt=()=>{},xa=()=>!1,ir=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),Ci=t=>t.startsWith("onUpdate:"),Ye=Object.assign,Oi=(t,e)=>{const s=t.indexOf(e);s>-1&&t.splice(s,1)},Ku=Object.prototype.hasOwnProperty,Ee=(t,e)=>Ku.call(t,e),ne=Array.isArray,xs=t=>_n(t)==="[object Map]",or=t=>_n(t)==="[object Set]",ro=t=>_n(t)==="[object Date]",ce=t=>typeof t=="function",Ve=t=>typeof t=="string",$t=t=>typeof t=="symbol",Ae=t=>t!==null&&typeof t=="object",$a=t=>(Ae(t)||ce(t))&&ce(t.then)&&ce(t.catch),Ra=Object.prototype.toString,_n=t=>Ra.call(t),Gu=t=>_n(t).slice(8,-1),Pa=t=>_n(t)==="[object Object]",Ai=t=>Ve(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,Js=Ti(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),ar=t=>{const e=Object.create(null);return(s=>e[s]||(e[s]=t(s)))},zu=/-\w/g,vt=ar(t=>t.replace(zu,e=>e.slice(1).toUpperCase())),Ju=/\B([A-Z])/g,vs=ar(t=>t.replace(Ju,"-$1").toLowerCase()),lr=ar(t=>t.charAt(0).toUpperCase()+t.slice(1)),Or=ar(t=>t?`on${lr(t)}`:""),Yt=(t,e)=>!Object.is(t,e),Dn=(t,...e)=>{for(let s=0;s<t.length;s++)t[s](...e)},Ia=(t,e,s,n=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:n,value:s})},Vn=t=>{const e=parseFloat(t);return isNaN(e)?t:e};let io;const ur=()=>io||(io=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function cr(t){if(ne(t)){const e={};for(let s=0;s<t.length;s++){const n=t[s],r=Ve(n)?Zu(n):cr(n);if(r)for(const i in r)e[i]=r[i]}return e}else if(Ve(t)||Ae(t))return t}const Qu=/;(?![^(]*\))/g,Yu=/:([^]+)/,Xu=/\/\*[^]*?\*\//g;function Zu(t){const e={};return t.replace(Xu,"").split(Qu).forEach(s=>{if(s){const n=s.split(Yu);n.length>1&&(e[n[0].trim()]=n[1].trim())}}),e}function rt(t){let e="";if(Ve(t))e=t;else if(ne(t))for(let s=0;s<t.length;s++){const n=rt(t[s]);n&&(e+=n+" ")}else if(Ae(t))for(const s in t)t[s]&&(e+=s+" ");return e.trim()}const ec="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",tc=Ti(ec);function ja(t){return!!t||t===""}function sc(t,e){if(t.length!==e.length)return!1;let s=!0;for(let n=0;s&&n<t.length;n++)s=dr(t[n],e[n]);return s}function dr(t,e){if(t===e)return!0;let s=ro(t),n=ro(e);if(s||n)return s&&n?t.getTime()===e.getTime():!1;if(s=$t(t),n=$t(e),s||n)return t===e;if(s=ne(t),n=ne(e),s||n)return s&&n?sc(t,e):!1;if(s=Ae(t),n=Ae(e),s||n){if(!s||!n)return!1;const r=Object.keys(t).length,i=Object.keys(e).length;if(r!==i)return!1;for(const o in t){const a=t.hasOwnProperty(o),l=e.hasOwnProperty(o);if(a&&!l||!a&&l||!dr(t[o],e[o]))return!1}}return String(t)===String(e)}function nc(t,e){return t.findIndex(s=>dr(s,e))}const Na=t=>!!(t&&t.__v_isRef===!0),N=t=>Ve(t)?t:t==null?"":ne(t)||Ae(t)&&(t.toString===Ra||!ce(t.toString))?Na(t)?N(t.value):JSON.stringify(t,Da,2):String(t),Da=(t,e)=>Na(e)?Da(t,e.value):xs(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((s,[n,r],i)=>(s[Ar(n,i)+" =>"]=r,s),{})}:or(e)?{[`Set(${e.size})`]:[...e.values()].map(s=>Ar(s))}:$t(e)?Ar(e):Ae(e)&&!ne(e)&&!Pa(e)?String(e):e,Ar=(t,e="")=>{var s;return $t(t)?`Symbol(${(s=t.description)!=null?s:e})`:t};/**
* @vue/reactivity v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Ge;class Ua{constructor(e=!1){this.detached=e,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Ge,!e&&Ge&&(this.index=(Ge.scopes||(Ge.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,s;if(this.scopes)for(e=0,s=this.scopes.length;e<s;e++)this.scopes[e].pause();for(e=0,s=this.effects.length;e<s;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,s;if(this.scopes)for(e=0,s=this.scopes.length;e<s;e++)this.scopes[e].resume();for(e=0,s=this.effects.length;e<s;e++)this.effects[e].resume()}}run(e){if(this._active){const s=Ge;try{return Ge=this,e()}finally{Ge=s}}}on(){++this._on===1&&(this.prevScope=Ge,Ge=this)}off(){this._on>0&&--this._on===0&&(Ge=this.prevScope,this.prevScope=void 0)}stop(e){if(this._active){this._active=!1;let s,n;for(s=0,n=this.effects.length;s<n;s++)this.effects[s].stop();for(this.effects.length=0,s=0,n=this.cleanups.length;s<n;s++)this.cleanups[s]();if(this.cleanups.length=0,this.scopes){for(s=0,n=this.scopes.length;s<n;s++)this.scopes[s].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const r=this.parent.scopes.pop();r&&r!==this&&(this.parent.scopes[this.index]=r,r.index=this.index)}this.parent=void 0}}}function La(t){return new Ua(t)}function Ma(){return Ge}function rc(t,e=!1){Ge&&Ge.cleanups.push(t)}let Re;const xr=new WeakSet;class Ba{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Ge&&Ge.active&&Ge.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,xr.has(this)&&(xr.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||qa(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,oo(this),Fa(this);const e=Re,s=wt;Re=this,wt=!0;try{return this.fn()}finally{Ha(this),Re=e,wt=s,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)Ri(e);this.deps=this.depsTail=void 0,oo(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?xr.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){Qr(this)&&this.run()}get dirty(){return Qr(this)}}let Va=0,Qs,Ys;function qa(t,e=!1){if(t.flags|=8,e){t.next=Ys,Ys=t;return}t.next=Qs,Qs=t}function xi(){Va++}function $i(){if(--Va>0)return;if(Ys){let e=Ys;for(Ys=void 0;e;){const s=e.next;e.next=void 0,e.flags&=-9,e=s}}let t;for(;Qs;){let e=Qs;for(Qs=void 0;e;){const s=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(n){t||(t=n)}e=s}}if(t)throw t}function Fa(t){for(let e=t.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function Ha(t){let e,s=t.depsTail,n=s;for(;n;){const r=n.prevDep;n.version===-1?(n===s&&(s=r),Ri(n),ic(n)):e=n,n.dep.activeLink=n.prevActiveLink,n.prevActiveLink=void 0,n=r}t.deps=e,t.depsTail=s}function Qr(t){for(let e=t.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(Wa(e.dep.computed)||e.dep.version!==e.version))return!0;return!!t._dirty}function Wa(t){if(t.flags&4&&!(t.flags&16)||(t.flags&=-17,t.globalVersion===un)||(t.globalVersion=un,!t.isSSR&&t.flags&128&&(!t.deps&&!t._dirty||!Qr(t))))return;t.flags|=2;const e=t.dep,s=Re,n=wt;Re=t,wt=!0;try{Fa(t);const r=t.fn(t._value);(e.version===0||Yt(r,t._value))&&(t.flags|=128,t._value=r,e.version++)}catch(r){throw e.version++,r}finally{Re=s,wt=n,Ha(t),t.flags&=-3}}function Ri(t,e=!1){const{dep:s,prevSub:n,nextSub:r}=t;if(n&&(n.nextSub=r,t.prevSub=void 0),r&&(r.prevSub=n,t.nextSub=void 0),s.subs===t&&(s.subs=n,!n&&s.computed)){s.computed.flags&=-5;for(let i=s.computed.deps;i;i=i.nextDep)Ri(i,!0)}!e&&!--s.sc&&s.map&&s.map.delete(s.key)}function ic(t){const{prevDep:e,nextDep:s}=t;e&&(e.nextDep=s,t.prevDep=void 0),s&&(s.prevDep=e,t.nextDep=void 0)}let wt=!0;const Ka=[];function Bt(){Ka.push(wt),wt=!1}function Vt(){const t=Ka.pop();wt=t===void 0?!0:t}function oo(t){const{cleanup:e}=t;if(t.cleanup=void 0,e){const s=Re;Re=void 0;try{e()}finally{Re=s}}}let un=0;class oc{constructor(e,s){this.sub=e,this.dep=s,this.version=s.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class Pi{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(e){if(!Re||!wt||Re===this.computed)return;let s=this.activeLink;if(s===void 0||s.sub!==Re)s=this.activeLink=new oc(Re,this),Re.deps?(s.prevDep=Re.depsTail,Re.depsTail.nextDep=s,Re.depsTail=s):Re.deps=Re.depsTail=s,Ga(s);else if(s.version===-1&&(s.version=this.version,s.nextDep)){const n=s.nextDep;n.prevDep=s.prevDep,s.prevDep&&(s.prevDep.nextDep=n),s.prevDep=Re.depsTail,s.nextDep=void 0,Re.depsTail.nextDep=s,Re.depsTail=s,Re.deps===s&&(Re.deps=n)}return s}trigger(e){this.version++,un++,this.notify(e)}notify(e){xi();try{for(let s=this.subs;s;s=s.prevSub)s.sub.notify()&&s.sub.dep.notify()}finally{$i()}}}function Ga(t){if(t.dep.sc++,t.sub.flags&4){const e=t.dep.computed;if(e&&!t.dep.subs){e.flags|=20;for(let n=e.deps;n;n=n.nextDep)Ga(n)}const s=t.dep.subs;s!==t&&(t.prevSub=s,s&&(s.nextSub=t)),t.dep.subs=t}}const qn=new WeakMap,fs=Symbol(""),Yr=Symbol(""),cn=Symbol("");function ze(t,e,s){if(wt&&Re){let n=qn.get(t);n||qn.set(t,n=new Map);let r=n.get(s);r||(n.set(s,r=new Pi),r.map=n,r.key=s),r.track()}}function Ut(t,e,s,n,r,i){const o=qn.get(t);if(!o){un++;return}const a=l=>{l&&l.trigger()};if(xi(),e==="clear")o.forEach(a);else{const l=ne(t),c=l&&Ai(s);if(l&&s==="length"){const d=Number(n);o.forEach((h,p)=>{(p==="length"||p===cn||!$t(p)&&p>=d)&&a(h)})}else switch((s!==void 0||o.has(void 0))&&a(o.get(s)),c&&a(o.get(cn)),e){case"add":l?c&&a(o.get("length")):(a(o.get(fs)),xs(t)&&a(o.get(Yr)));break;case"delete":l||(a(o.get(fs)),xs(t)&&a(o.get(Yr)));break;case"set":xs(t)&&a(o.get(fs));break}}$i()}function ac(t,e){const s=qn.get(t);return s&&s.get(e)}function ms(t){const e=ye(t);return e===t?e:(ze(e,"iterate",cn),ft(t)?e:e.map(He))}function hr(t){return ze(t=ye(t),"iterate",cn),t}const lc={__proto__:null,[Symbol.iterator](){return $r(this,Symbol.iterator,He)},concat(...t){return ms(this).concat(...t.map(e=>ne(e)?ms(e):e))},entries(){return $r(this,"entries",t=>(t[1]=He(t[1]),t))},every(t,e){return It(this,"every",t,e,void 0,arguments)},filter(t,e){return It(this,"filter",t,e,s=>s.map(He),arguments)},find(t,e){return It(this,"find",t,e,He,arguments)},findIndex(t,e){return It(this,"findIndex",t,e,void 0,arguments)},findLast(t,e){return It(this,"findLast",t,e,He,arguments)},findLastIndex(t,e){return It(this,"findLastIndex",t,e,void 0,arguments)},forEach(t,e){return It(this,"forEach",t,e,void 0,arguments)},includes(...t){return Rr(this,"includes",t)},indexOf(...t){return Rr(this,"indexOf",t)},join(t){return ms(this).join(t)},lastIndexOf(...t){return Rr(this,"lastIndexOf",t)},map(t,e){return It(this,"map",t,e,void 0,arguments)},pop(){return Hs(this,"pop")},push(...t){return Hs(this,"push",t)},reduce(t,...e){return ao(this,"reduce",t,e)},reduceRight(t,...e){return ao(this,"reduceRight",t,e)},shift(){return Hs(this,"shift")},some(t,e){return It(this,"some",t,e,void 0,arguments)},splice(...t){return Hs(this,"splice",t)},toReversed(){return ms(this).toReversed()},toSorted(t){return ms(this).toSorted(t)},toSpliced(...t){return ms(this).toSpliced(...t)},unshift(...t){return Hs(this,"unshift",t)},values(){return $r(this,"values",He)}};function $r(t,e,s){const n=hr(t),r=n[e]();return n!==t&&!ft(t)&&(r._next=r.next,r.next=()=>{const i=r._next();return i.done||(i.value=s(i.value)),i}),r}const uc=Array.prototype;function It(t,e,s,n,r,i){const o=hr(t),a=o!==t&&!ft(t),l=o[e];if(l!==uc[e]){const h=l.apply(t,i);return a?He(h):h}let c=s;o!==t&&(a?c=function(h,p){return s.call(this,He(h),p,t)}:s.length>2&&(c=function(h,p){return s.call(this,h,p,t)}));const d=l.call(o,c,n);return a&&r?r(d):d}function ao(t,e,s,n){const r=hr(t);let i=s;return r!==t&&(ft(t)?s.length>3&&(i=function(o,a,l){return s.call(this,o,a,l,t)}):i=function(o,a,l){return s.call(this,o,He(a),l,t)}),r[e](i,...n)}function Rr(t,e,s){const n=ye(t);ze(n,"iterate",cn);const r=n[e](...s);return(r===-1||r===!1)&&Ni(s[0])?(s[0]=ye(s[0]),n[e](...s)):r}function Hs(t,e,s=[]){Bt(),xi();const n=ye(t)[e].apply(t,s);return $i(),Vt(),n}const cc=Ti("__proto__,__v_isRef,__isVue"),za=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter($t));function dc(t){$t(t)||(t=String(t));const e=ye(this);return ze(e,"has",t),e.hasOwnProperty(t)}class Ja{constructor(e=!1,s=!1){this._isReadonly=e,this._isShallow=s}get(e,s,n){if(s==="__v_skip")return e.__v_skip;const r=this._isReadonly,i=this._isShallow;if(s==="__v_isReactive")return!r;if(s==="__v_isReadonly")return r;if(s==="__v_isShallow")return i;if(s==="__v_raw")return n===(r?i?wc:Za:i?Xa:Ya).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(n)?e:void 0;const o=ne(e);if(!r){let l;if(o&&(l=lc[s]))return l;if(s==="hasOwnProperty")return dc}const a=Reflect.get(e,s,Me(e)?e:n);if(($t(s)?za.has(s):cc(s))||(r||ze(e,"get",s),i))return a;if(Me(a)){const l=o&&Ai(s)?a:a.value;return r&&Ae(l)?Zr(l):l}return Ae(a)?r?Zr(a):yn(a):a}}class Qa extends Ja{constructor(e=!1){super(!1,e)}set(e,s,n,r){let i=e[s];if(!this._isShallow){const l=Zt(i);if(!ft(n)&&!Zt(n)&&(i=ye(i),n=ye(n)),!ne(e)&&Me(i)&&!Me(n))return l||(i.value=n),!0}const o=ne(e)&&Ai(s)?Number(s)<e.length:Ee(e,s),a=Reflect.set(e,s,n,Me(e)?e:r);return e===ye(r)&&(o?Yt(n,i)&&Ut(e,"set",s,n):Ut(e,"add",s,n)),a}deleteProperty(e,s){const n=Ee(e,s);e[s];const r=Reflect.deleteProperty(e,s);return r&&n&&Ut(e,"delete",s,void 0),r}has(e,s){const n=Reflect.has(e,s);return(!$t(s)||!za.has(s))&&ze(e,"has",s),n}ownKeys(e){return ze(e,"iterate",ne(e)?"length":fs),Reflect.ownKeys(e)}}class hc extends Ja{constructor(e=!1){super(!0,e)}set(e,s){return!0}deleteProperty(e,s){return!0}}const fc=new Qa,pc=new hc,vc=new Qa(!0);const Xr=t=>t,kn=t=>Reflect.getPrototypeOf(t);function gc(t,e,s){return function(...n){const r=this.__v_raw,i=ye(r),o=xs(i),a=t==="entries"||t===Symbol.iterator&&o,l=t==="keys"&&o,c=r[t](...n),d=s?Xr:e?Fn:He;return!e&&ze(i,"iterate",l?Yr:fs),{next(){const{value:h,done:p}=c.next();return p?{value:h,done:p}:{value:a?[d(h[0]),d(h[1])]:d(h),done:p}},[Symbol.iterator](){return this}}}}function Tn(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function mc(t,e){const s={get(r){const i=this.__v_raw,o=ye(i),a=ye(r);t||(Yt(r,a)&&ze(o,"get",r),ze(o,"get",a));const{has:l}=kn(o),c=e?Xr:t?Fn:He;if(l.call(o,r))return c(i.get(r));if(l.call(o,a))return c(i.get(a));i!==o&&i.get(r)},get size(){const r=this.__v_raw;return!t&&ze(ye(r),"iterate",fs),r.size},has(r){const i=this.__v_raw,o=ye(i),a=ye(r);return t||(Yt(r,a)&&ze(o,"has",r),ze(o,"has",a)),r===a?i.has(r):i.has(r)||i.has(a)},forEach(r,i){const o=this,a=o.__v_raw,l=ye(a),c=e?Xr:t?Fn:He;return!t&&ze(l,"iterate",fs),a.forEach((d,h)=>r.call(i,c(d),c(h),o))}};return Ye(s,t?{add:Tn("add"),set:Tn("set"),delete:Tn("delete"),clear:Tn("clear")}:{add(r){!e&&!ft(r)&&!Zt(r)&&(r=ye(r));const i=ye(this);return kn(i).has.call(i,r)||(i.add(r),Ut(i,"add",r,r)),this},set(r,i){!e&&!ft(i)&&!Zt(i)&&(i=ye(i));const o=ye(this),{has:a,get:l}=kn(o);let c=a.call(o,r);c||(r=ye(r),c=a.call(o,r));const d=l.call(o,r);return o.set(r,i),c?Yt(i,d)&&Ut(o,"set",r,i):Ut(o,"add",r,i),this},delete(r){const i=ye(this),{has:o,get:a}=kn(i);let l=o.call(i,r);l||(r=ye(r),l=o.call(i,r)),a&&a.call(i,r);const c=i.delete(r);return l&&Ut(i,"delete",r,void 0),c},clear(){const r=ye(this),i=r.size!==0,o=r.clear();return i&&Ut(r,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(r=>{s[r]=gc(r,t,e)}),s}function Ii(t,e){const s=mc(t,e);return(n,r,i)=>r==="__v_isReactive"?!t:r==="__v_isReadonly"?t:r==="__v_raw"?n:Reflect.get(Ee(s,r)&&r in n?s:n,r,i)}const _c={get:Ii(!1,!1)},yc={get:Ii(!1,!0)},bc={get:Ii(!0,!1)};const Ya=new WeakMap,Xa=new WeakMap,Za=new WeakMap,wc=new WeakMap;function Ec(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Sc(t){return t.__v_skip||!Object.isExtensible(t)?0:Ec(Gu(t))}function yn(t){return Zt(t)?t:ji(t,!1,fc,_c,Ya)}function el(t){return ji(t,!1,vc,yc,Xa)}function Zr(t){return ji(t,!0,pc,bc,Za)}function ji(t,e,s,n,r){if(!Ae(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const i=Sc(t);if(i===0)return t;const o=r.get(t);if(o)return o;const a=new Proxy(t,i===2?n:s);return r.set(t,a),a}function Xt(t){return Zt(t)?Xt(t.__v_raw):!!(t&&t.__v_isReactive)}function Zt(t){return!!(t&&t.__v_isReadonly)}function ft(t){return!!(t&&t.__v_isShallow)}function Ni(t){return t?!!t.__v_raw:!1}function ye(t){const e=t&&t.__v_raw;return e?ye(e):t}function Di(t){return!Ee(t,"__v_skip")&&Object.isExtensible(t)&&Ia(t,"__v_skip",!0),t}const He=t=>Ae(t)?yn(t):t,Fn=t=>Ae(t)?Zr(t):t;function Me(t){return t?t.__v_isRef===!0:!1}function M(t){return tl(t,!1)}function kc(t){return tl(t,!0)}function tl(t,e){return Me(t)?t:new Tc(t,e)}class Tc{constructor(e,s){this.dep=new Pi,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=s?e:ye(e),this._value=s?e:He(e),this.__v_isShallow=s}get value(){return this.dep.track(),this._value}set value(e){const s=this._rawValue,n=this.__v_isShallow||ft(e)||Zt(e);e=n?e:ye(e),Yt(e,s)&&(this._rawValue=e,this._value=n?e:He(e),this.dep.trigger())}}function je(t){return Me(t)?t.value:t}const Cc={get:(t,e,s)=>e==="__v_raw"?t:je(Reflect.get(t,e,s)),set:(t,e,s,n)=>{const r=t[e];return Me(r)&&!Me(s)?(r.value=s,!0):Reflect.set(t,e,s,n)}};function sl(t){return Xt(t)?t:new Proxy(t,Cc)}function Oc(t){const e=ne(t)?new Array(t.length):{};for(const s in t)e[s]=xc(t,s);return e}class Ac{constructor(e,s,n){this._object=e,this._key=s,this._defaultValue=n,this.__v_isRef=!0,this._value=void 0}get value(){const e=this._object[this._key];return this._value=e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return ac(ye(this._object),this._key)}}function xc(t,e,s){const n=t[e];return Me(n)?n:new Ac(t,e,s)}class $c{constructor(e,s,n){this.fn=e,this.setter=s,this._value=void 0,this.dep=new Pi(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=un-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!s,this.isSSR=n}notify(){if(this.flags|=16,!(this.flags&8)&&Re!==this)return qa(this,!0),!0}get value(){const e=this.dep.track();return Wa(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function Rc(t,e,s=!1){let n,r;return ce(t)?n=t:(n=t.get,r=t.set),new $c(n,r,s)}const Cn={},Hn=new WeakMap;let os;function Pc(t,e=!1,s=os){if(s){let n=Hn.get(s);n||Hn.set(s,n=[]),n.push(t)}}function Ic(t,e,s=Ce){const{immediate:n,deep:r,once:i,scheduler:o,augmentJob:a,call:l}=s,c=S=>r?S:ft(S)||r===!1||r===0?Lt(S,1):Lt(S);let d,h,p,f,b=!1,w=!1;if(Me(t)?(h=()=>t.value,b=ft(t)):Xt(t)?(h=()=>c(t),b=!0):ne(t)?(w=!0,b=t.some(S=>Xt(S)||ft(S)),h=()=>t.map(S=>{if(Me(S))return S.value;if(Xt(S))return c(S);if(ce(S))return l?l(S,2):S()})):ce(t)?e?h=l?()=>l(t,2):t:h=()=>{if(p){Bt();try{p()}finally{Vt()}}const S=os;os=d;try{return l?l(t,3,[f]):t(f)}finally{os=S}}:h=xt,e&&r){const S=h,O=r===!0?1/0:r;h=()=>Lt(S(),O)}const E=Ma(),_=()=>{d.stop(),E&&E.active&&Oi(E.effects,d)};if(i&&e){const S=e;e=(...O)=>{S(...O),_()}}let v=w?new Array(t.length).fill(Cn):Cn;const g=S=>{if(!(!(d.flags&1)||!d.dirty&&!S))if(e){const O=d.run();if(r||b||(w?O.some((D,L)=>Yt(D,v[L])):Yt(O,v))){p&&p();const D=os;os=d;try{const L=[O,v===Cn?void 0:w&&v[0]===Cn?[]:v,f];v=O,l?l(e,3,L):e(...L)}finally{os=D}}}else d.run()};return a&&a(g),d=new Ba(h),d.scheduler=o?()=>o(g,!1):g,f=S=>Pc(S,!1,d),p=d.onStop=()=>{const S=Hn.get(d);if(S){if(l)l(S,4);else for(const O of S)O();Hn.delete(d)}},e?n?g(!0):v=d.run():o?o(g.bind(null,!0),!0):d.run(),_.pause=d.pause.bind(d),_.resume=d.resume.bind(d),_.stop=_,_}function Lt(t,e=1/0,s){if(e<=0||!Ae(t)||t.__v_skip||(s=s||new Map,(s.get(t)||0)>=e))return t;if(s.set(t,e),e--,Me(t))Lt(t.value,e,s);else if(ne(t))for(let n=0;n<t.length;n++)Lt(t[n],e,s);else if(or(t)||xs(t))t.forEach(n=>{Lt(n,e,s)});else if(Pa(t)){for(const n in t)Lt(t[n],e,s);for(const n of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,n)&&Lt(t[n],e,s)}return t}/**
* @vue/runtime-core v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function bn(t,e,s,n){try{return n?t(...n):t()}catch(r){fr(r,e,s)}}function Rt(t,e,s,n){if(ce(t)){const r=bn(t,e,s,n);return r&&$a(r)&&r.catch(i=>{fr(i,e,s)}),r}if(ne(t)){const r=[];for(let i=0;i<t.length;i++)r.push(Rt(t[i],e,s,n));return r}}function fr(t,e,s,n=!0){const r=e?e.vnode:null,{errorHandler:i,throwUnhandledErrorInProduction:o}=e&&e.appContext.config||Ce;if(e){let a=e.parent;const l=e.proxy,c=`https://vuejs.org/error-reference/#runtime-${s}`;for(;a;){const d=a.ec;if(d){for(let h=0;h<d.length;h++)if(d[h](t,l,c)===!1)return}a=a.parent}if(i){Bt(),bn(i,null,10,[t,l,c]),Vt();return}}jc(t,s,r,n,o)}function jc(t,e,s,n=!0,r=!1){if(r)throw t;console.error(t)}const et=[];let Ot=-1;const $s=[];let Gt=null,ks=0;const nl=Promise.resolve();let Wn=null;function pr(t){const e=Wn||nl;return t?e.then(this?t.bind(this):t):e}function Nc(t){let e=Ot+1,s=et.length;for(;e<s;){const n=e+s>>>1,r=et[n],i=dn(r);i<t||i===t&&r.flags&2?e=n+1:s=n}return e}function Ui(t){if(!(t.flags&1)){const e=dn(t),s=et[et.length-1];!s||!(t.flags&2)&&e>=dn(s)?et.push(t):et.splice(Nc(e),0,t),t.flags|=1,rl()}}function rl(){Wn||(Wn=nl.then(ol))}function Dc(t){ne(t)?$s.push(...t):Gt&&t.id===-1?Gt.splice(ks+1,0,t):t.flags&1||($s.push(t),t.flags|=1),rl()}function lo(t,e,s=Ot+1){for(;s<et.length;s++){const n=et[s];if(n&&n.flags&2){if(t&&n.id!==t.uid)continue;et.splice(s,1),s--,n.flags&4&&(n.flags&=-2),n(),n.flags&4||(n.flags&=-2)}}}function il(t){if($s.length){const e=[...new Set($s)].sort((s,n)=>dn(s)-dn(n));if($s.length=0,Gt){Gt.push(...e);return}for(Gt=e,ks=0;ks<Gt.length;ks++){const s=Gt[ks];s.flags&4&&(s.flags&=-2),s.flags&8||s(),s.flags&=-2}Gt=null,ks=0}}const dn=t=>t.id==null?t.flags&2?-1:1/0:t.id;function ol(t){try{for(Ot=0;Ot<et.length;Ot++){const e=et[Ot];e&&!(e.flags&8)&&(e.flags&4&&(e.flags&=-2),bn(e,e.i,e.i?15:14),e.flags&4||(e.flags&=-2))}}finally{for(;Ot<et.length;Ot++){const e=et[Ot];e&&(e.flags&=-2)}Ot=-1,et.length=0,il(),Wn=null,(et.length||$s.length)&&ol()}}let ct=null,al=null;function Kn(t){const e=ct;return ct=t,al=t&&t.type.__scopeId||null,e}function De(t,e=ct,s){if(!e||t._n)return t;const n=(...r)=>{n._d&&Jn(-1);const i=Kn(e);let o;try{o=t(...r)}finally{Kn(i),n._d&&Jn(1)}return o};return n._n=!0,n._c=!0,n._d=!0,n}function he(t,e){if(ct===null)return t;const s=br(ct),n=t.dirs||(t.dirs=[]);for(let r=0;r<e.length;r++){let[i,o,a,l=Ce]=e[r];i&&(ce(i)&&(i={mounted:i,updated:i}),i.deep&&Lt(o),n.push({dir:i,instance:s,value:o,oldValue:void 0,arg:a,modifiers:l}))}return t}function ss(t,e,s,n){const r=t.dirs,i=e&&e.dirs;for(let o=0;o<r.length;o++){const a=r[o];i&&(a.oldValue=i[o].value);let l=a.dir[n];l&&(Bt(),Rt(l,s,8,[t.el,a,t,e]),Vt())}}const Uc=Symbol("_vte"),Lc=t=>t.__isTeleport,Mc=Symbol("_leaveCb");function Li(t,e){t.shapeFlag&6&&t.component?(t.transition=e,Li(t.component.subTree,e)):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function ht(t,e){return ce(t)?Ye({name:t.name},e,{setup:t}):t}function ll(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}const Gn=new WeakMap;function Xs(t,e,s,n,r=!1){if(ne(t)){t.forEach((b,w)=>Xs(b,e&&(ne(e)?e[w]:e),s,n,r));return}if(Zs(n)&&!r){n.shapeFlag&512&&n.type.__asyncResolved&&n.component.subTree.component&&Xs(t,e,s,n.component.subTree);return}const i=n.shapeFlag&4?br(n.component):n.el,o=r?null:i,{i:a,r:l}=t,c=e&&e.r,d=a.refs===Ce?a.refs={}:a.refs,h=a.setupState,p=ye(h),f=h===Ce?xa:b=>Ee(p,b);if(c!=null&&c!==l){if(uo(e),Ve(c))d[c]=null,f(c)&&(h[c]=null);else if(Me(c)){c.value=null;const b=e;b.k&&(d[b.k]=null)}}if(ce(l))bn(l,a,12,[o,d]);else{const b=Ve(l),w=Me(l);if(b||w){const E=()=>{if(t.f){const _=b?f(l)?h[l]:d[l]:l.value;if(r)ne(_)&&Oi(_,i);else if(ne(_))_.includes(i)||_.push(i);else if(b)d[l]=[i],f(l)&&(h[l]=d[l]);else{const v=[i];l.value=v,t.k&&(d[t.k]=v)}}else b?(d[l]=o,f(l)&&(h[l]=o)):w&&(l.value=o,t.k&&(d[t.k]=o))};if(o){const _=()=>{E(),Gn.delete(t)};_.id=-1,Gn.set(t,_),ot(_,s)}else uo(t),E()}}}function uo(t){const e=Gn.get(t);e&&(e.flags|=8,Gn.delete(t))}ur().requestIdleCallback;ur().cancelIdleCallback;const Zs=t=>!!t.type.__asyncLoader,ul=t=>t.type.__isKeepAlive;function Bc(t,e){cl(t,"a",e)}function Vc(t,e){cl(t,"da",e)}function cl(t,e,s=Je){const n=t.__wdc||(t.__wdc=()=>{let r=s;for(;r;){if(r.isDeactivated)return;r=r.parent}return t()});if(vr(e,n,s),s){let r=s.parent;for(;r&&r.parent;)ul(r.parent.vnode)&&qc(n,e,s,r),r=r.parent}}function qc(t,e,s,n){const r=vr(e,t,n,!0);Mi(()=>{Oi(n[e],r)},s)}function vr(t,e,s=Je,n=!1){if(s){const r=s[t]||(s[t]=[]),i=e.__weh||(e.__weh=(...o)=>{Bt();const a=wn(s),l=Rt(e,s,t,o);return a(),Vt(),l});return n?r.unshift(i):r.push(i),i}}const qt=t=>(e,s=Je)=>{(!fn||t==="sp")&&vr(t,(...n)=>e(...n),s)},Fc=qt("bm"),gr=qt("m"),Hc=qt("bu"),Wc=qt("u"),Kc=qt("bum"),Mi=qt("um"),Gc=qt("sp"),zc=qt("rtg"),Jc=qt("rtc");function Qc(t,e=Je){vr("ec",t,e)}const Yc="components";function Pt(t,e){return Zc(Yc,t,!0,e)||t}const Xc=Symbol.for("v-ndc");function Zc(t,e,s=!0,n=!1){const r=ct||Je;if(r){const i=r.type;{const a=Vd(i,!1);if(a&&(a===e||a===vt(e)||a===lr(vt(e))))return i}const o=co(r[t]||i[t],e)||co(r.appContext[t],e);return!o&&n?i:o}}function co(t,e){return t&&(t[e]||t[vt(e)]||t[lr(vt(e))])}function Qe(t,e,s,n){let r;const i=s,o=ne(t);if(o||Ve(t)){const a=o&&Xt(t);let l=!1,c=!1;a&&(l=!ft(t),c=Zt(t),t=hr(t)),r=new Array(t.length);for(let d=0,h=t.length;d<h;d++)r[d]=e(l?c?Fn(He(t[d])):He(t[d]):t[d],d,void 0,i)}else if(typeof t=="number"){r=new Array(t);for(let a=0;a<t;a++)r[a]=e(a+1,a,void 0,i)}else if(Ae(t))if(t[Symbol.iterator])r=Array.from(t,(a,l)=>e(a,l,void 0,i));else{const a=Object.keys(t);r=new Array(a.length);for(let l=0,c=a.length;l<c;l++){const d=a[l];r[l]=e(t[d],d,l,i)}}else r=[];return r}const ei=t=>t?Rl(t)?br(t):ei(t.parent):null,en=Ye(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>ei(t.parent),$root:t=>ei(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>hl(t),$forceUpdate:t=>t.f||(t.f=()=>{Ui(t.update)}),$nextTick:t=>t.n||(t.n=pr.bind(t.proxy)),$watch:t=>wd.bind(t)}),Pr=(t,e)=>t!==Ce&&!t.__isScriptSetup&&Ee(t,e),ed={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:s,setupState:n,data:r,props:i,accessCache:o,type:a,appContext:l}=t;let c;if(e[0]!=="$"){const f=o[e];if(f!==void 0)switch(f){case 1:return n[e];case 2:return r[e];case 4:return s[e];case 3:return i[e]}else{if(Pr(n,e))return o[e]=1,n[e];if(r!==Ce&&Ee(r,e))return o[e]=2,r[e];if((c=t.propsOptions[0])&&Ee(c,e))return o[e]=3,i[e];if(s!==Ce&&Ee(s,e))return o[e]=4,s[e];ti&&(o[e]=0)}}const d=en[e];let h,p;if(d)return e==="$attrs"&&ze(t.attrs,"get",""),d(t);if((h=a.__cssModules)&&(h=h[e]))return h;if(s!==Ce&&Ee(s,e))return o[e]=4,s[e];if(p=l.config.globalProperties,Ee(p,e))return p[e]},set({_:t},e,s){const{data:n,setupState:r,ctx:i}=t;return Pr(r,e)?(r[e]=s,!0):n!==Ce&&Ee(n,e)?(n[e]=s,!0):Ee(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(i[e]=s,!0)},has({_:{data:t,setupState:e,accessCache:s,ctx:n,appContext:r,propsOptions:i,type:o}},a){let l,c;return!!(s[a]||t!==Ce&&a[0]!=="$"&&Ee(t,a)||Pr(e,a)||(l=i[0])&&Ee(l,a)||Ee(n,a)||Ee(en,a)||Ee(r.config.globalProperties,a)||(c=o.__cssModules)&&c[a])},defineProperty(t,e,s){return s.get!=null?t._.accessCache[e]=0:Ee(s,"value")&&this.set(t,e,s.value,null),Reflect.defineProperty(t,e,s)}};function ho(t){return ne(t)?t.reduce((e,s)=>(e[s]=null,e),{}):t}let ti=!0;function td(t){const e=hl(t),s=t.proxy,n=t.ctx;ti=!1,e.beforeCreate&&fo(e.beforeCreate,t,"bc");const{data:r,computed:i,methods:o,watch:a,provide:l,inject:c,created:d,beforeMount:h,mounted:p,beforeUpdate:f,updated:b,activated:w,deactivated:E,beforeDestroy:_,beforeUnmount:v,destroyed:g,unmounted:S,render:O,renderTracked:D,renderTriggered:L,errorCaptured:V,serverPrefetch:q,expose:J,inheritAttrs:A,components:ke,directives:W,filters:Ue}=e;if(c&&sd(c,n,null),o)for(const re in o){const pe=o[re];ce(pe)&&(n[re]=pe.bind(s))}if(r){const re=r.call(s,s);Ae(re)&&(t.data=yn(re))}if(ti=!0,i)for(const re in i){const pe=i[re],We=ce(pe)?pe.bind(s,s):ce(pe.get)?pe.get.bind(s,s):xt,oe=!ce(pe)&&ce(pe.set)?pe.set.bind(s):xt,T=Ie({get:We,set:oe});Object.defineProperty(n,re,{enumerable:!0,configurable:!0,get:()=>T.value,set:C=>T.value=C})}if(a)for(const re in a)dl(a[re],n,s,re);if(l){const re=ce(l)?l.call(s):l;Reflect.ownKeys(re).forEach(pe=>{Un(pe,re[pe])})}d&&fo(d,t,"c");function be(re,pe){ne(pe)?pe.forEach(We=>re(We.bind(s))):pe&&re(pe.bind(s))}if(be(Fc,h),be(gr,p),be(Hc,f),be(Wc,b),be(Bc,w),be(Vc,E),be(Qc,V),be(Jc,D),be(zc,L),be(Kc,v),be(Mi,S),be(Gc,q),ne(J))if(J.length){const re=t.exposed||(t.exposed={});J.forEach(pe=>{Object.defineProperty(re,pe,{get:()=>s[pe],set:We=>s[pe]=We,enumerable:!0})})}else t.exposed||(t.exposed={});O&&t.render===xt&&(t.render=O),A!=null&&(t.inheritAttrs=A),ke&&(t.components=ke),W&&(t.directives=W),q&&ll(t)}function sd(t,e,s=xt){ne(t)&&(t=si(t));for(const n in t){const r=t[n];let i;Ae(r)?"default"in r?i=pt(r.from||n,r.default,!0):i=pt(r.from||n):i=pt(r),Me(i)?Object.defineProperty(e,n,{enumerable:!0,configurable:!0,get:()=>i.value,set:o=>i.value=o}):e[n]=i}}function fo(t,e,s){Rt(ne(t)?t.map(n=>n.bind(e.proxy)):t.bind(e.proxy),e,s)}function dl(t,e,s,n){let r=n.includes(".")?Tl(s,n):()=>s[n];if(Ve(t)){const i=e[t];ce(i)&&Mt(r,i)}else if(ce(t))Mt(r,t.bind(s));else if(Ae(t))if(ne(t))t.forEach(i=>dl(i,e,s,n));else{const i=ce(t.handler)?t.handler.bind(s):e[t.handler];ce(i)&&Mt(r,i,t)}}function hl(t){const e=t.type,{mixins:s,extends:n}=e,{mixins:r,optionsCache:i,config:{optionMergeStrategies:o}}=t.appContext,a=i.get(e);let l;return a?l=a:!r.length&&!s&&!n?l=e:(l={},r.length&&r.forEach(c=>zn(l,c,o,!0)),zn(l,e,o)),Ae(e)&&i.set(e,l),l}function zn(t,e,s,n=!1){const{mixins:r,extends:i}=e;i&&zn(t,i,s,!0),r&&r.forEach(o=>zn(t,o,s,!0));for(const o in e)if(!(n&&o==="expose")){const a=nd[o]||s&&s[o];t[o]=a?a(t[o],e[o]):e[o]}return t}const nd={data:po,props:vo,emits:vo,methods:Gs,computed:Gs,beforeCreate:Xe,created:Xe,beforeMount:Xe,mounted:Xe,beforeUpdate:Xe,updated:Xe,beforeDestroy:Xe,beforeUnmount:Xe,destroyed:Xe,unmounted:Xe,activated:Xe,deactivated:Xe,errorCaptured:Xe,serverPrefetch:Xe,components:Gs,directives:Gs,watch:id,provide:po,inject:rd};function po(t,e){return e?t?function(){return Ye(ce(t)?t.call(this,this):t,ce(e)?e.call(this,this):e)}:e:t}function rd(t,e){return Gs(si(t),si(e))}function si(t){if(ne(t)){const e={};for(let s=0;s<t.length;s++)e[t[s]]=t[s];return e}return t}function Xe(t,e){return t?[...new Set([].concat(t,e))]:e}function Gs(t,e){return t?Ye(Object.create(null),t,e):e}function vo(t,e){return t?ne(t)&&ne(e)?[...new Set([...t,...e])]:Ye(Object.create(null),ho(t),ho(e??{})):e}function id(t,e){if(!t)return e;if(!e)return t;const s=Ye(Object.create(null),t);for(const n in e)s[n]=Xe(t[n],e[n]);return s}function fl(){return{app:null,config:{isNativeTag:xa,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let od=0;function ad(t,e){return function(n,r=null){ce(n)||(n=Ye({},n)),r!=null&&!Ae(r)&&(r=null);const i=fl(),o=new WeakSet,a=[];let l=!1;const c=i.app={_uid:od++,_component:n,_props:r,_container:null,_context:i,_instance:null,version:Fd,get config(){return i.config},set config(d){},use(d,...h){return o.has(d)||(d&&ce(d.install)?(o.add(d),d.install(c,...h)):ce(d)&&(o.add(d),d(c,...h))),c},mixin(d){return i.mixins.includes(d)||i.mixins.push(d),c},component(d,h){return h?(i.components[d]=h,c):i.components[d]},directive(d,h){return h?(i.directives[d]=h,c):i.directives[d]},mount(d,h,p){if(!l){const f=c._ceVNode||_e(n,r);return f.appContext=i,p===!0?p="svg":p===!1&&(p=void 0),t(f,d,p),l=!0,c._container=d,d.__vue_app__=c,br(f.component)}},onUnmount(d){a.push(d)},unmount(){l&&(Rt(a,c._instance,16),t(null,c._container),delete c._container.__vue_app__)},provide(d,h){return i.provides[d]=h,c},runWithContext(d){const h=ps;ps=c;try{return d()}finally{ps=h}}};return c}}let ps=null;function Un(t,e){if(Je){let s=Je.provides;const n=Je.parent&&Je.parent.provides;n===s&&(s=Je.provides=Object.create(n)),s[t]=e}}function pt(t,e,s=!1){const n=$l();if(n||ps){let r=ps?ps._context.provides:n?n.parent==null||n.ce?n.vnode.appContext&&n.vnode.appContext.provides:n.parent.provides:void 0;if(r&&t in r)return r[t];if(arguments.length>1)return s&&ce(e)?e.call(n&&n.proxy):e}}function ld(){return!!($l()||ps)}const pl={},vl=()=>Object.create(pl),gl=t=>Object.getPrototypeOf(t)===pl;function ud(t,e,s,n=!1){const r={},i=vl();t.propsDefaults=Object.create(null),ml(t,e,r,i);for(const o in t.propsOptions[0])o in r||(r[o]=void 0);s?t.props=n?r:el(r):t.type.props?t.props=r:t.props=i,t.attrs=i}function cd(t,e,s,n){const{props:r,attrs:i,vnode:{patchFlag:o}}=t,a=ye(r),[l]=t.propsOptions;let c=!1;if((n||o>0)&&!(o&16)){if(o&8){const d=t.vnode.dynamicProps;for(let h=0;h<d.length;h++){let p=d[h];if(mr(t.emitsOptions,p))continue;const f=e[p];if(l)if(Ee(i,p))f!==i[p]&&(i[p]=f,c=!0);else{const b=vt(p);r[b]=ni(l,a,b,f,t,!1)}else f!==i[p]&&(i[p]=f,c=!0)}}}else{ml(t,e,r,i)&&(c=!0);let d;for(const h in a)(!e||!Ee(e,h)&&((d=vs(h))===h||!Ee(e,d)))&&(l?s&&(s[h]!==void 0||s[d]!==void 0)&&(r[h]=ni(l,a,h,void 0,t,!0)):delete r[h]);if(i!==a)for(const h in i)(!e||!Ee(e,h))&&(delete i[h],c=!0)}c&&Ut(t.attrs,"set","")}function ml(t,e,s,n){const[r,i]=t.propsOptions;let o=!1,a;if(e)for(let l in e){if(Js(l))continue;const c=e[l];let d;r&&Ee(r,d=vt(l))?!i||!i.includes(d)?s[d]=c:(a||(a={}))[d]=c:mr(t.emitsOptions,l)||(!(l in n)||c!==n[l])&&(n[l]=c,o=!0)}if(i){const l=ye(s),c=a||Ce;for(let d=0;d<i.length;d++){const h=i[d];s[h]=ni(r,l,h,c[h],t,!Ee(c,h))}}return o}function ni(t,e,s,n,r,i){const o=t[s];if(o!=null){const a=Ee(o,"default");if(a&&n===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&ce(l)){const{propsDefaults:c}=r;if(s in c)n=c[s];else{const d=wn(r);n=c[s]=l.call(null,e),d()}}else n=l;r.ce&&r.ce._setProp(s,n)}o[0]&&(i&&!a?n=!1:o[1]&&(n===""||n===vs(s))&&(n=!0))}return n}const dd=new WeakMap;function _l(t,e,s=!1){const n=s?dd:e.propsCache,r=n.get(t);if(r)return r;const i=t.props,o={},a=[];let l=!1;if(!ce(t)){const d=h=>{l=!0;const[p,f]=_l(h,e,!0);Ye(o,p),f&&a.push(...f)};!s&&e.mixins.length&&e.mixins.forEach(d),t.extends&&d(t.extends),t.mixins&&t.mixins.forEach(d)}if(!i&&!l)return Ae(t)&&n.set(t,As),As;if(ne(i))for(let d=0;d<i.length;d++){const h=vt(i[d]);go(h)&&(o[h]=Ce)}else if(i)for(const d in i){const h=vt(d);if(go(h)){const p=i[d],f=o[h]=ne(p)||ce(p)?{type:p}:Ye({},p),b=f.type;let w=!1,E=!0;if(ne(b))for(let _=0;_<b.length;++_){const v=b[_],g=ce(v)&&v.name;if(g==="Boolean"){w=!0;break}else g==="String"&&(E=!1)}else w=ce(b)&&b.name==="Boolean";f[0]=w,f[1]=E,(w||Ee(f,"default"))&&a.push(h)}}const c=[o,a];return Ae(t)&&n.set(t,c),c}function go(t){return t[0]!=="$"&&!Js(t)}const Bi=t=>t==="_"||t==="_ctx"||t==="$stable",Vi=t=>ne(t)?t.map(At):[At(t)],hd=(t,e,s)=>{if(e._n)return e;const n=De((...r)=>Vi(e(...r)),s);return n._c=!1,n},yl=(t,e,s)=>{const n=t._ctx;for(const r in t){if(Bi(r))continue;const i=t[r];if(ce(i))e[r]=hd(r,i,n);else if(i!=null){const o=Vi(i);e[r]=()=>o}}},bl=(t,e)=>{const s=Vi(e);t.slots.default=()=>s},wl=(t,e,s)=>{for(const n in e)(s||!Bi(n))&&(t[n]=e[n])},fd=(t,e,s)=>{const n=t.slots=vl();if(t.vnode.shapeFlag&32){const r=e._;r?(wl(n,e,s),s&&Ia(n,"_",r,!0)):yl(e,n)}else e&&bl(t,e)},pd=(t,e,s)=>{const{vnode:n,slots:r}=t;let i=!0,o=Ce;if(n.shapeFlag&32){const a=e._;a?s&&a===1?i=!1:wl(r,e,s):(i=!e.$stable,yl(e,r)),o=e}else e&&(bl(t,e),o={default:1});if(i)for(const a in r)!Bi(a)&&o[a]==null&&delete r[a]},ot=xd;function vd(t){return gd(t)}function gd(t,e){const s=ur();s.__VUE__=!0;const{insert:n,remove:r,patchProp:i,createElement:o,createText:a,createComment:l,setText:c,setElementText:d,parentNode:h,nextSibling:p,setScopeId:f=xt,insertStaticContent:b}=t,w=(m,y,k,j=null,U=null,I=null,G=void 0,H=null,F=!!y.dynamicChildren)=>{if(m===y)return;m&&!Ws(m,y)&&(j=x(m),C(m,U,I,!0),m=null),y.patchFlag===-2&&(F=!1,y.dynamicChildren=null);const{type:B,ref:se,shapeFlag:Q}=y;switch(B){case _r:E(m,y,k,j);break;case es:_(m,y,k,j);break;case Ln:m==null&&v(y,k,j,G);break;case Oe:ke(m,y,k,j,U,I,G,H,F);break;default:Q&1?O(m,y,k,j,U,I,G,H,F):Q&6?W(m,y,k,j,U,I,G,H,F):(Q&64||Q&128)&&B.process(m,y,k,j,U,I,G,H,F,Z)}se!=null&&U?Xs(se,m&&m.ref,I,y||m,!y):se==null&&m&&m.ref!=null&&Xs(m.ref,null,I,m,!0)},E=(m,y,k,j)=>{if(m==null)n(y.el=a(y.children),k,j);else{const U=y.el=m.el;y.children!==m.children&&c(U,y.children)}},_=(m,y,k,j)=>{m==null?n(y.el=l(y.children||""),k,j):y.el=m.el},v=(m,y,k,j)=>{[m.el,m.anchor]=b(m.children,y,k,j,m.el,m.anchor)},g=({el:m,anchor:y},k,j)=>{let U;for(;m&&m!==y;)U=p(m),n(m,k,j),m=U;n(y,k,j)},S=({el:m,anchor:y})=>{let k;for(;m&&m!==y;)k=p(m),r(m),m=k;r(y)},O=(m,y,k,j,U,I,G,H,F)=>{y.type==="svg"?G="svg":y.type==="math"&&(G="mathml"),m==null?D(y,k,j,U,I,G,H,F):q(m,y,U,I,G,H,F)},D=(m,y,k,j,U,I,G,H)=>{let F,B;const{props:se,shapeFlag:Q,transition:ee,dirs:ie}=m;if(F=m.el=o(m.type,I,se&&se.is,se),Q&8?d(F,m.children):Q&16&&V(m.children,F,null,j,U,Ir(m,I),G,H),ie&&ss(m,null,j,"created"),L(F,m,m.scopeId,G,j),se){for(const xe in se)xe!=="value"&&!Js(xe)&&i(F,xe,null,se[xe],I,j);"value"in se&&i(F,"value",null,se.value,I),(B=se.onVnodeBeforeMount)&&Ct(B,j,m)}ie&&ss(m,null,j,"beforeMount");const ge=md(U,ee);ge&&ee.beforeEnter(F),n(F,y,k),((B=se&&se.onVnodeMounted)||ge||ie)&&ot(()=>{B&&Ct(B,j,m),ge&&ee.enter(F),ie&&ss(m,null,j,"mounted")},U)},L=(m,y,k,j,U)=>{if(k&&f(m,k),j)for(let I=0;I<j.length;I++)f(m,j[I]);if(U){let I=U.subTree;if(y===I||Ol(I.type)&&(I.ssContent===y||I.ssFallback===y)){const G=U.vnode;L(m,G,G.scopeId,G.slotScopeIds,U.parent)}}},V=(m,y,k,j,U,I,G,H,F=0)=>{for(let B=F;B<m.length;B++){const se=m[B]=H?zt(m[B]):At(m[B]);w(null,se,y,k,j,U,I,G,H)}},q=(m,y,k,j,U,I,G)=>{const H=y.el=m.el;let{patchFlag:F,dynamicChildren:B,dirs:se}=y;F|=m.patchFlag&16;const Q=m.props||Ce,ee=y.props||Ce;let ie;if(k&&ns(k,!1),(ie=ee.onVnodeBeforeUpdate)&&Ct(ie,k,y,m),se&&ss(y,m,k,"beforeUpdate"),k&&ns(k,!0),(Q.innerHTML&&ee.innerHTML==null||Q.textContent&&ee.textContent==null)&&d(H,""),B?J(m.dynamicChildren,B,H,k,j,Ir(y,U),I):G||pe(m,y,H,null,k,j,Ir(y,U),I,!1),F>0){if(F&16)A(H,Q,ee,k,U);else if(F&2&&Q.class!==ee.class&&i(H,"class",null,ee.class,U),F&4&&i(H,"style",Q.style,ee.style,U),F&8){const ge=y.dynamicProps;for(let xe=0;xe<ge.length;xe++){const Te=ge[xe],st=Q[Te],nt=ee[Te];(nt!==st||Te==="value")&&i(H,Te,st,nt,U,k)}}F&1&&m.children!==y.children&&d(H,y.children)}else!G&&B==null&&A(H,Q,ee,k,U);((ie=ee.onVnodeUpdated)||se)&&ot(()=>{ie&&Ct(ie,k,y,m),se&&ss(y,m,k,"updated")},j)},J=(m,y,k,j,U,I,G)=>{for(let H=0;H<y.length;H++){const F=m[H],B=y[H],se=F.el&&(F.type===Oe||!Ws(F,B)||F.shapeFlag&198)?h(F.el):k;w(F,B,se,null,j,U,I,G,!0)}},A=(m,y,k,j,U)=>{if(y!==k){if(y!==Ce)for(const I in y)!Js(I)&&!(I in k)&&i(m,I,y[I],null,U,j);for(const I in k){if(Js(I))continue;const G=k[I],H=y[I];G!==H&&I!=="value"&&i(m,I,H,G,U,j)}"value"in k&&i(m,"value",y.value,k.value,U)}},ke=(m,y,k,j,U,I,G,H,F)=>{const B=y.el=m?m.el:a(""),se=y.anchor=m?m.anchor:a("");let{patchFlag:Q,dynamicChildren:ee,slotScopeIds:ie}=y;ie&&(H=H?H.concat(ie):ie),m==null?(n(B,k,j),n(se,k,j),V(y.children||[],k,se,U,I,G,H,F)):Q>0&&Q&64&&ee&&m.dynamicChildren?(J(m.dynamicChildren,ee,k,U,I,G,H),(y.key!=null||U&&y===U.subTree)&&El(m,y,!0)):pe(m,y,k,se,U,I,G,H,F)},W=(m,y,k,j,U,I,G,H,F)=>{y.slotScopeIds=H,m==null?y.shapeFlag&512?U.ctx.activate(y,k,j,G,F):Ue(y,k,j,U,I,G,F):tt(m,y,F)},Ue=(m,y,k,j,U,I,G)=>{const H=m.component=Dd(m,j,U);if(ul(m)&&(H.ctx.renderer=Z),Ud(H,!1,G),H.asyncDep){if(U&&U.registerDep(H,be,G),!m.el){const F=H.subTree=_e(es);_(null,F,y,k),m.placeholder=F.el}}else be(H,m,y,k,U,I,G)},tt=(m,y,k)=>{const j=y.component=m.component;if(Od(m,y,k))if(j.asyncDep&&!j.asyncResolved){re(j,y,k);return}else j.next=y,j.update();else y.el=m.el,j.vnode=y},be=(m,y,k,j,U,I,G)=>{const H=()=>{if(m.isMounted){let{next:Q,bu:ee,u:ie,parent:ge,vnode:xe}=m;{const kt=Sl(m);if(kt){Q&&(Q.el=xe.el,re(m,Q,G)),kt.asyncDep.then(()=>{m.isUnmounted||H()});return}}let Te=Q,st;ns(m,!1),Q?(Q.el=xe.el,re(m,Q,G)):Q=xe,ee&&Dn(ee),(st=Q.props&&Q.props.onVnodeBeforeUpdate)&&Ct(st,ge,Q,xe),ns(m,!0);const nt=_o(m),St=m.subTree;m.subTree=nt,w(St,nt,h(St.el),x(St),m,U,I),Q.el=nt.el,Te===null&&Ad(m,nt.el),ie&&ot(ie,U),(st=Q.props&&Q.props.onVnodeUpdated)&&ot(()=>Ct(st,ge,Q,xe),U)}else{let Q;const{el:ee,props:ie}=y,{bm:ge,m:xe,parent:Te,root:st,type:nt}=m,St=Zs(y);ns(m,!1),ge&&Dn(ge),!St&&(Q=ie&&ie.onVnodeBeforeMount)&&Ct(Q,Te,y),ns(m,!0);{st.ce&&st.ce._def.shadowRoot!==!1&&st.ce._injectChildStyle(nt);const kt=m.subTree=_o(m);w(null,kt,k,j,m,U,I),y.el=kt.el}if(xe&&ot(xe,U),!St&&(Q=ie&&ie.onVnodeMounted)){const kt=y;ot(()=>Ct(Q,Te,kt),U)}(y.shapeFlag&256||Te&&Zs(Te.vnode)&&Te.vnode.shapeFlag&256)&&m.a&&ot(m.a,U),m.isMounted=!0,y=k=j=null}};m.scope.on();const F=m.effect=new Ba(H);m.scope.off();const B=m.update=F.run.bind(F),se=m.job=F.runIfDirty.bind(F);se.i=m,se.id=m.uid,F.scheduler=()=>Ui(se),ns(m,!0),B()},re=(m,y,k)=>{y.component=m;const j=m.vnode.props;m.vnode=y,m.next=null,cd(m,y.props,j,k),pd(m,y.children,k),Bt(),lo(m),Vt()},pe=(m,y,k,j,U,I,G,H,F=!1)=>{const B=m&&m.children,se=m?m.shapeFlag:0,Q=y.children,{patchFlag:ee,shapeFlag:ie}=y;if(ee>0){if(ee&128){oe(B,Q,k,j,U,I,G,H,F);return}else if(ee&256){We(B,Q,k,j,U,I,G,H,F);return}}ie&8?(se&16&&K(B,U,I),Q!==B&&d(k,Q)):se&16?ie&16?oe(B,Q,k,j,U,I,G,H,F):K(B,U,I,!0):(se&8&&d(k,""),ie&16&&V(Q,k,j,U,I,G,H,F))},We=(m,y,k,j,U,I,G,H,F)=>{m=m||As,y=y||As;const B=m.length,se=y.length,Q=Math.min(B,se);let ee;for(ee=0;ee<Q;ee++){const ie=y[ee]=F?zt(y[ee]):At(y[ee]);w(m[ee],ie,k,null,U,I,G,H,F)}B>se?K(m,U,I,!0,!1,Q):V(y,k,j,U,I,G,H,F,Q)},oe=(m,y,k,j,U,I,G,H,F)=>{let B=0;const se=y.length;let Q=m.length-1,ee=se-1;for(;B<=Q&&B<=ee;){const ie=m[B],ge=y[B]=F?zt(y[B]):At(y[B]);if(Ws(ie,ge))w(ie,ge,k,null,U,I,G,H,F);else break;B++}for(;B<=Q&&B<=ee;){const ie=m[Q],ge=y[ee]=F?zt(y[ee]):At(y[ee]);if(Ws(ie,ge))w(ie,ge,k,null,U,I,G,H,F);else break;Q--,ee--}if(B>Q){if(B<=ee){const ie=ee+1,ge=ie<se?y[ie].el:j;for(;B<=ee;)w(null,y[B]=F?zt(y[B]):At(y[B]),k,ge,U,I,G,H,F),B++}}else if(B>ee)for(;B<=Q;)C(m[B],U,I,!0),B++;else{const ie=B,ge=B,xe=new Map;for(B=ge;B<=ee;B++){const it=y[B]=F?zt(y[B]):At(y[B]);it.key!=null&&xe.set(it.key,B)}let Te,st=0;const nt=ee-ge+1;let St=!1,kt=0;const Fs=new Array(nt);for(B=0;B<nt;B++)Fs[B]=0;for(B=ie;B<=Q;B++){const it=m[B];if(st>=nt){C(it,U,I,!0);continue}let Tt;if(it.key!=null)Tt=xe.get(it.key);else for(Te=ge;Te<=ee;Te++)if(Fs[Te-ge]===0&&Ws(it,y[Te])){Tt=Te;break}Tt===void 0?C(it,U,I,!0):(Fs[Tt-ge]=B+1,Tt>=kt?kt=Tt:St=!0,w(it,y[Tt],k,null,U,I,G,H,F),st++)}const to=St?_d(Fs):As;for(Te=to.length-1,B=nt-1;B>=0;B--){const it=ge+B,Tt=y[it],so=y[it+1],no=it+1<se?so.el||so.placeholder:j;Fs[B]===0?w(null,Tt,k,no,U,I,G,H,F):St&&(Te<0||B!==to[Te]?T(Tt,k,no,2):Te--)}}},T=(m,y,k,j,U=null)=>{const{el:I,type:G,transition:H,children:F,shapeFlag:B}=m;if(B&6){T(m.component.subTree,y,k,j);return}if(B&128){m.suspense.move(y,k,j);return}if(B&64){G.move(m,y,k,Z);return}if(G===Oe){n(I,y,k);for(let Q=0;Q<F.length;Q++)T(F[Q],y,k,j);n(m.anchor,y,k);return}if(G===Ln){g(m,y,k);return}if(j!==2&&B&1&&H)if(j===0)H.beforeEnter(I),n(I,y,k),ot(()=>H.enter(I),U);else{const{leave:Q,delayLeave:ee,afterLeave:ie}=H,ge=()=>{m.ctx.isUnmounted?r(I):n(I,y,k)},xe=()=>{I._isLeaving&&I[Mc](!0),Q(I,()=>{ge(),ie&&ie()})};ee?ee(I,ge,xe):xe()}else n(I,y,k)},C=(m,y,k,j=!1,U=!1)=>{const{type:I,props:G,ref:H,children:F,dynamicChildren:B,shapeFlag:se,patchFlag:Q,dirs:ee,cacheIndex:ie}=m;if(Q===-2&&(U=!1),H!=null&&(Bt(),Xs(H,null,k,m,!0),Vt()),ie!=null&&(y.renderCache[ie]=void 0),se&256){y.ctx.deactivate(m);return}const ge=se&1&&ee,xe=!Zs(m);let Te;if(xe&&(Te=G&&G.onVnodeBeforeUnmount)&&Ct(Te,y,m),se&6)ue(m.component,k,j);else{if(se&128){m.suspense.unmount(k,j);return}ge&&ss(m,null,y,"beforeUnmount"),se&64?m.type.remove(m,y,k,Z,j):B&&!B.hasOnce&&(I!==Oe||Q>0&&Q&64)?K(B,y,k,!1,!0):(I===Oe&&Q&384||!U&&se&16)&&K(F,y,k),j&&P(m)}(xe&&(Te=G&&G.onVnodeUnmounted)||ge)&&ot(()=>{Te&&Ct(Te,y,m),ge&&ss(m,null,y,"unmounted")},k)},P=m=>{const{type:y,el:k,anchor:j,transition:U}=m;if(y===Oe){fe(k,j);return}if(y===Ln){S(m);return}const I=()=>{r(k),U&&!U.persisted&&U.afterLeave&&U.afterLeave()};if(m.shapeFlag&1&&U&&!U.persisted){const{leave:G,delayLeave:H}=U,F=()=>G(k,I);H?H(m.el,I,F):F()}else I()},fe=(m,y)=>{let k;for(;m!==y;)k=p(m),r(m),m=k;r(y)},ue=(m,y,k)=>{const{bum:j,scope:U,job:I,subTree:G,um:H,m:F,a:B}=m;mo(F),mo(B),j&&Dn(j),U.stop(),I&&(I.flags|=8,C(G,m,y,k)),H&&ot(H,y),ot(()=>{m.isUnmounted=!0},y)},K=(m,y,k,j=!1,U=!1,I=0)=>{for(let G=I;G<m.length;G++)C(m[G],y,k,j,U)},x=m=>{if(m.shapeFlag&6)return x(m.component.subTree);if(m.shapeFlag&128)return m.suspense.next();const y=p(m.anchor||m.el),k=y&&y[Uc];return k?p(k):y};let Y=!1;const z=(m,y,k)=>{m==null?y._vnode&&C(y._vnode,null,null,!0):w(y._vnode||null,m,y,null,null,null,k),y._vnode=m,Y||(Y=!0,lo(),il(),Y=!1)},Z={p:w,um:C,m:T,r:P,mt:Ue,mc:V,pc:pe,pbc:J,n:x,o:t};return{render:z,hydrate:void 0,createApp:ad(z)}}function Ir({type:t,props:e},s){return s==="svg"&&t==="foreignObject"||s==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:s}function ns({effect:t,job:e},s){s?(t.flags|=32,e.flags|=4):(t.flags&=-33,e.flags&=-5)}function md(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function El(t,e,s=!1){const n=t.children,r=e.children;if(ne(n)&&ne(r))for(let i=0;i<n.length;i++){const o=n[i];let a=r[i];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=r[i]=zt(r[i]),a.el=o.el),!s&&a.patchFlag!==-2&&El(o,a)),a.type===_r&&a.patchFlag!==-1&&(a.el=o.el),a.type===es&&!a.el&&(a.el=o.el)}}function _d(t){const e=t.slice(),s=[0];let n,r,i,o,a;const l=t.length;for(n=0;n<l;n++){const c=t[n];if(c!==0){if(r=s[s.length-1],t[r]<c){e[n]=r,s.push(n);continue}for(i=0,o=s.length-1;i<o;)a=i+o>>1,t[s[a]]<c?i=a+1:o=a;c<t[s[i]]&&(i>0&&(e[n]=s[i-1]),s[i]=n)}}for(i=s.length,o=s[i-1];i-- >0;)s[i]=o,o=e[o];return s}function Sl(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:Sl(e)}function mo(t){if(t)for(let e=0;e<t.length;e++)t[e].flags|=8}const yd=Symbol.for("v-scx"),bd=()=>pt(yd);function Mt(t,e,s){return kl(t,e,s)}function kl(t,e,s=Ce){const{immediate:n,deep:r,flush:i,once:o}=s,a=Ye({},s),l=e&&n||!e&&i!=="post";let c;if(fn){if(i==="sync"){const f=bd();c=f.__watcherHandles||(f.__watcherHandles=[])}else if(!l){const f=()=>{};return f.stop=xt,f.resume=xt,f.pause=xt,f}}const d=Je;a.call=(f,b,w)=>Rt(f,d,b,w);let h=!1;i==="post"?a.scheduler=f=>{ot(f,d&&d.suspense)}:i!=="sync"&&(h=!0,a.scheduler=(f,b)=>{b?f():Ui(f)}),a.augmentJob=f=>{e&&(f.flags|=4),h&&(f.flags|=2,d&&(f.id=d.uid,f.i=d))};const p=Ic(t,e,a);return fn&&(c?c.push(p):l&&p()),p}function wd(t,e,s){const n=this.proxy,r=Ve(t)?t.includes(".")?Tl(n,t):()=>n[t]:t.bind(n,n);let i;ce(e)?i=e:(i=e.handler,s=e);const o=wn(this),a=kl(r,i.bind(n),s);return o(),a}function Tl(t,e){const s=e.split(".");return()=>{let n=t;for(let r=0;r<s.length&&n;r++)n=n[s[r]];return n}}const Ed=(t,e)=>e==="modelValue"||e==="model-value"?t.modelModifiers:t[`${e}Modifiers`]||t[`${vt(e)}Modifiers`]||t[`${vs(e)}Modifiers`];function Sd(t,e,...s){if(t.isUnmounted)return;const n=t.vnode.props||Ce;let r=s;const i=e.startsWith("update:"),o=i&&Ed(n,e.slice(7));o&&(o.trim&&(r=s.map(d=>Ve(d)?d.trim():d)),o.number&&(r=s.map(Vn)));let a,l=n[a=Or(e)]||n[a=Or(vt(e))];!l&&i&&(l=n[a=Or(vs(e))]),l&&Rt(l,t,6,r);const c=n[a+"Once"];if(c){if(!t.emitted)t.emitted={};else if(t.emitted[a])return;t.emitted[a]=!0,Rt(c,t,6,r)}}const kd=new WeakMap;function Cl(t,e,s=!1){const n=s?kd:e.emitsCache,r=n.get(t);if(r!==void 0)return r;const i=t.emits;let o={},a=!1;if(!ce(t)){const l=c=>{const d=Cl(c,e,!0);d&&(a=!0,Ye(o,d))};!s&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}return!i&&!a?(Ae(t)&&n.set(t,null),null):(ne(i)?i.forEach(l=>o[l]=null):Ye(o,i),Ae(t)&&n.set(t,o),o)}function mr(t,e){return!t||!ir(e)?!1:(e=e.slice(2).replace(/Once$/,""),Ee(t,e[0].toLowerCase()+e.slice(1))||Ee(t,vs(e))||Ee(t,e))}function _o(t){const{type:e,vnode:s,proxy:n,withProxy:r,propsOptions:[i],slots:o,attrs:a,emit:l,render:c,renderCache:d,props:h,data:p,setupState:f,ctx:b,inheritAttrs:w}=t,E=Kn(t);let _,v;try{if(s.shapeFlag&4){const S=r||n,O=S;_=At(c.call(O,S,d,h,f,p,b)),v=a}else{const S=e;_=At(S.length>1?S(h,{attrs:a,slots:o,emit:l}):S(h,null)),v=e.props?a:Td(a)}}catch(S){tn.length=0,fr(S,t,1),_=_e(es)}let g=_;if(v&&w!==!1){const S=Object.keys(v),{shapeFlag:O}=g;S.length&&O&7&&(i&&S.some(Ci)&&(v=Cd(v,i)),g=Is(g,v,!1,!0))}return s.dirs&&(g=Is(g,null,!1,!0),g.dirs=g.dirs?g.dirs.concat(s.dirs):s.dirs),s.transition&&Li(g,s.transition),_=g,Kn(E),_}const Td=t=>{let e;for(const s in t)(s==="class"||s==="style"||ir(s))&&((e||(e={}))[s]=t[s]);return e},Cd=(t,e)=>{const s={};for(const n in t)(!Ci(n)||!(n.slice(9)in e))&&(s[n]=t[n]);return s};function Od(t,e,s){const{props:n,children:r,component:i}=t,{props:o,children:a,patchFlag:l}=e,c=i.emitsOptions;if(e.dirs||e.transition)return!0;if(s&&l>=0){if(l&1024)return!0;if(l&16)return n?yo(n,o,c):!!o;if(l&8){const d=e.dynamicProps;for(let h=0;h<d.length;h++){const p=d[h];if(o[p]!==n[p]&&!mr(c,p))return!0}}}else return(r||a)&&(!a||!a.$stable)?!0:n===o?!1:n?o?yo(n,o,c):!0:!!o;return!1}function yo(t,e,s){const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!0;for(let r=0;r<n.length;r++){const i=n[r];if(e[i]!==t[i]&&!mr(s,i))return!0}return!1}function Ad({vnode:t,parent:e},s){for(;e;){const n=e.subTree;if(n.suspense&&n.suspense.activeBranch===t&&(n.el=t.el),n===t)(t=e.vnode).el=s,e=e.parent;else break}}const Ol=t=>t.__isSuspense;function xd(t,e){e&&e.pendingBranch?ne(t)?e.effects.push(...t):e.effects.push(t):Dc(t)}const Oe=Symbol.for("v-fgt"),_r=Symbol.for("v-txt"),es=Symbol.for("v-cmt"),Ln=Symbol.for("v-stc"),tn=[];let dt=null;function $(t=!1){tn.push(dt=t?null:[])}function $d(){tn.pop(),dt=tn[tn.length-1]||null}let hn=1;function Jn(t,e=!1){hn+=t,t<0&&dt&&e&&(dt.hasOnce=!0)}function Al(t){return t.dynamicChildren=hn>0?dt||As:null,$d(),hn>0&&dt&&dt.push(t),t}function R(t,e,s,n,r,i){return Al(u(t,e,s,n,r,i,!0))}function sn(t,e,s,n,r){return Al(_e(t,e,s,n,r,!0))}function Qn(t){return t?t.__v_isVNode===!0:!1}function Ws(t,e){return t.type===e.type&&t.key===e.key}const xl=({key:t})=>t??null,Mn=({ref:t,ref_key:e,ref_for:s})=>(typeof t=="number"&&(t=""+t),t!=null?Ve(t)||Me(t)||ce(t)?{i:ct,r:t,k:e,f:!!s}:t:null);function u(t,e=null,s=null,n=0,r=null,i=t===Oe?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&xl(e),ref:e&&Mn(e),scopeId:al,slotScopeIds:null,children:s,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:n,dynamicProps:r,dynamicChildren:null,appContext:null,ctx:ct};return a?(qi(l,s),i&128&&t.normalize(l)):s&&(l.shapeFlag|=Ve(s)?8:16),hn>0&&!o&&dt&&(l.patchFlag>0||i&6)&&l.patchFlag!==32&&dt.push(l),l}const _e=Rd;function Rd(t,e=null,s=null,n=0,r=null,i=!1){if((!t||t===Xc)&&(t=es),Qn(t)){const a=Is(t,e,!0);return s&&qi(a,s),hn>0&&!i&&dt&&(a.shapeFlag&6?dt[dt.indexOf(t)]=a:dt.push(a)),a.patchFlag=-2,a}if(qd(t)&&(t=t.__vccOpts),e){e=Pd(e);let{class:a,style:l}=e;a&&!Ve(a)&&(e.class=rt(a)),Ae(l)&&(Ni(l)&&!ne(l)&&(l=Ye({},l)),e.style=cr(l))}const o=Ve(t)?1:Ol(t)?128:Lc(t)?64:Ae(t)?4:ce(t)?2:0;return u(t,e,s,n,r,o,i,!0)}function Pd(t){return t?Ni(t)||gl(t)?Ye({},t):t:null}function Is(t,e,s=!1,n=!1){const{props:r,ref:i,patchFlag:o,children:a,transition:l}=t,c=e?Id(r||{},e):r,d={__v_isVNode:!0,__v_skip:!0,type:t.type,props:c,key:c&&xl(c),ref:e&&e.ref?s&&i?ne(i)?i.concat(Mn(e)):[i,Mn(e)]:Mn(e):i,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:a,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==Oe?o===-1?16:o|16:o,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:l,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&Is(t.ssContent),ssFallback:t.ssFallback&&Is(t.ssFallback),placeholder:t.placeholder,el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return l&&n&&Li(d,l.clone(d)),d}function Se(t=" ",e=0){return _e(_r,null,t,e)}function yr(t,e){const s=_e(Ln,null,t);return s.staticCount=e,s}function le(t="",e=!1){return e?($(),sn(es,null,t)):_e(es,null,t)}function At(t){return t==null||typeof t=="boolean"?_e(es):ne(t)?_e(Oe,null,t.slice()):Qn(t)?zt(t):_e(_r,null,String(t))}function zt(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:Is(t)}function qi(t,e){let s=0;const{shapeFlag:n}=t;if(e==null)e=null;else if(ne(e))s=16;else if(typeof e=="object")if(n&65){const r=e.default;r&&(r._c&&(r._d=!1),qi(t,r()),r._c&&(r._d=!0));return}else{s=32;const r=e._;!r&&!gl(e)?e._ctx=ct:r===3&&ct&&(ct.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else ce(e)?(e={default:e,_ctx:ct},s=32):(e=String(e),n&64?(s=16,e=[Se(e)]):s=8);t.children=e,t.shapeFlag|=s}function Id(...t){const e={};for(let s=0;s<t.length;s++){const n=t[s];for(const r in n)if(r==="class")e.class!==n.class&&(e.class=rt([e.class,n.class]));else if(r==="style")e.style=cr([e.style,n.style]);else if(ir(r)){const i=e[r],o=n[r];o&&i!==o&&!(ne(i)&&i.includes(o))&&(e[r]=i?[].concat(i,o):o)}else r!==""&&(e[r]=n[r])}return e}function Ct(t,e,s,n=null){Rt(t,e,7,[s,n])}const jd=fl();let Nd=0;function Dd(t,e,s){const n=t.type,r=(e?e.appContext:t.appContext)||jd,i={uid:Nd++,vnode:t,type:n,parent:e,appContext:r,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new Ua(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(r.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:_l(n,r),emitsOptions:Cl(n,r),emit:null,emitted:null,propsDefaults:Ce,inheritAttrs:n.inheritAttrs,ctx:Ce,data:Ce,props:Ce,attrs:Ce,slots:Ce,refs:Ce,setupState:Ce,setupContext:null,suspense:s,suspenseId:s?s.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=e?e.root:i,i.emit=Sd.bind(null,i),t.ce&&t.ce(i),i}let Je=null;const $l=()=>Je||ct;let Yn,ri;{const t=ur(),e=(s,n)=>{let r;return(r=t[s])||(r=t[s]=[]),r.push(n),i=>{r.length>1?r.forEach(o=>o(i)):r[0](i)}};Yn=e("__VUE_INSTANCE_SETTERS__",s=>Je=s),ri=e("__VUE_SSR_SETTERS__",s=>fn=s)}const wn=t=>{const e=Je;return Yn(t),t.scope.on(),()=>{t.scope.off(),Yn(e)}},bo=()=>{Je&&Je.scope.off(),Yn(null)};function Rl(t){return t.vnode.shapeFlag&4}let fn=!1;function Ud(t,e=!1,s=!1){e&&ri(e);const{props:n,children:r}=t.vnode,i=Rl(t);ud(t,n,i,e),fd(t,r,s||e);const o=i?Ld(t,e):void 0;return e&&ri(!1),o}function Ld(t,e){const s=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,ed);const{setup:n}=s;if(n){Bt();const r=t.setupContext=n.length>1?Bd(t):null,i=wn(t),o=bn(n,t,0,[t.props,r]),a=$a(o);if(Vt(),i(),(a||t.sp)&&!Zs(t)&&ll(t),a){if(o.then(bo,bo),e)return o.then(l=>{wo(t,l)}).catch(l=>{fr(l,t,0)});t.asyncDep=o}else wo(t,o)}else Pl(t)}function wo(t,e,s){ce(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:Ae(e)&&(t.setupState=sl(e)),Pl(t)}function Pl(t,e,s){const n=t.type;t.render||(t.render=n.render||xt);{const r=wn(t);Bt();try{td(t)}finally{Vt(),r()}}}const Md={get(t,e){return ze(t,"get",""),t[e]}};function Bd(t){const e=s=>{t.exposed=s||{}};return{attrs:new Proxy(t.attrs,Md),slots:t.slots,emit:t.emit,expose:e}}function br(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(sl(Di(t.exposed)),{get(e,s){if(s in e)return e[s];if(s in en)return en[s](t)},has(e,s){return s in e||s in en}})):t.proxy}function Vd(t,e=!0){return ce(t)?t.displayName||t.name:t.name||e&&t.__name}function qd(t){return ce(t)&&"__vccOpts"in t}const Ie=(t,e)=>Rc(t,e,fn);function Il(t,e,s){try{Jn(-1);const n=arguments.length;return n===2?Ae(e)&&!ne(e)?Qn(e)?_e(t,null,[e]):_e(t,e):_e(t,null,e):(n>3?s=Array.prototype.slice.call(arguments,2):n===3&&Qn(s)&&(s=[s]),_e(t,e,s))}finally{Jn(1)}}const Fd="3.5.22";/**
* @vue/runtime-dom v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let ii;const Eo=typeof window<"u"&&window.trustedTypes;if(Eo)try{ii=Eo.createPolicy("vue",{createHTML:t=>t})}catch{}const jl=ii?t=>ii.createHTML(t):t=>t,Hd="http://www.w3.org/2000/svg",Wd="http://www.w3.org/1998/Math/MathML",Nt=typeof document<"u"?document:null,So=Nt&&Nt.createElement("template"),Kd={insert:(t,e,s)=>{e.insertBefore(t,s||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,s,n)=>{const r=e==="svg"?Nt.createElementNS(Hd,t):e==="mathml"?Nt.createElementNS(Wd,t):s?Nt.createElement(t,{is:s}):Nt.createElement(t);return t==="select"&&n&&n.multiple!=null&&r.setAttribute("multiple",n.multiple),r},createText:t=>Nt.createTextNode(t),createComment:t=>Nt.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>Nt.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,s,n,r,i){const o=s?s.previousSibling:e.lastChild;if(r&&(r===i||r.nextSibling))for(;e.insertBefore(r.cloneNode(!0),s),!(r===i||!(r=r.nextSibling)););else{So.innerHTML=jl(n==="svg"?`<svg>${t}</svg>`:n==="mathml"?`<math>${t}</math>`:t);const a=So.content;if(n==="svg"||n==="mathml"){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}e.insertBefore(a,s)}return[o?o.nextSibling:e.firstChild,s?s.previousSibling:e.lastChild]}},Gd=Symbol("_vtc");function zd(t,e,s){const n=t[Gd];n&&(e=(e?[e,...n]:[...n]).join(" ")),e==null?t.removeAttribute("class"):s?t.setAttribute("class",e):t.className=e}const ko=Symbol("_vod"),Jd=Symbol("_vsh"),Qd=Symbol(""),Yd=/(?:^|;)\s*display\s*:/;function Xd(t,e,s){const n=t.style,r=Ve(s);let i=!1;if(s&&!r){if(e)if(Ve(e))for(const o of e.split(";")){const a=o.slice(0,o.indexOf(":")).trim();s[a]==null&&Bn(n,a,"")}else for(const o in e)s[o]==null&&Bn(n,o,"");for(const o in s)o==="display"&&(i=!0),Bn(n,o,s[o])}else if(r){if(e!==s){const o=n[Qd];o&&(s+=";"+o),n.cssText=s,i=Yd.test(s)}}else e&&t.removeAttribute("style");ko in t&&(t[ko]=i?n.display:"",t[Jd]&&(n.display="none"))}const To=/\s*!important$/;function Bn(t,e,s){if(ne(s))s.forEach(n=>Bn(t,e,n));else if(s==null&&(s=""),e.startsWith("--"))t.setProperty(e,s);else{const n=Zd(t,e);To.test(s)?t.setProperty(vs(n),s.replace(To,""),"important"):t[n]=s}}const Co=["Webkit","Moz","ms"],jr={};function Zd(t,e){const s=jr[e];if(s)return s;let n=vt(e);if(n!=="filter"&&n in t)return jr[e]=n;n=lr(n);for(let r=0;r<Co.length;r++){const i=Co[r]+n;if(i in t)return jr[e]=i}return e}const Oo="http://www.w3.org/1999/xlink";function Ao(t,e,s,n,r,i=tc(e)){n&&e.startsWith("xlink:")?s==null?t.removeAttributeNS(Oo,e.slice(6,e.length)):t.setAttributeNS(Oo,e,s):s==null||i&&!ja(s)?t.removeAttribute(e):t.setAttribute(e,i?"":$t(s)?String(s):s)}function xo(t,e,s,n,r){if(e==="innerHTML"||e==="textContent"){s!=null&&(t[e]=e==="innerHTML"?jl(s):s);return}const i=t.tagName;if(e==="value"&&i!=="PROGRESS"&&!i.includes("-")){const a=i==="OPTION"?t.getAttribute("value")||"":t.value,l=s==null?t.type==="checkbox"?"on":"":String(s);(a!==l||!("_value"in t))&&(t.value=l),s==null&&t.removeAttribute(e),t._value=s;return}let o=!1;if(s===""||s==null){const a=typeof t[e];a==="boolean"?s=ja(s):s==null&&a==="string"?(s="",o=!0):a==="number"&&(s=0,o=!0)}try{t[e]=s}catch{}o&&t.removeAttribute(r||e)}function ls(t,e,s,n){t.addEventListener(e,s,n)}function eh(t,e,s,n){t.removeEventListener(e,s,n)}const $o=Symbol("_vei");function th(t,e,s,n,r=null){const i=t[$o]||(t[$o]={}),o=i[e];if(n&&o)o.value=n;else{const[a,l]=sh(e);if(n){const c=i[e]=ih(n,r);ls(t,a,c,l)}else o&&(eh(t,a,o,l),i[e]=void 0)}}const Ro=/(?:Once|Passive|Capture)$/;function sh(t){let e;if(Ro.test(t)){e={};let n;for(;n=t.match(Ro);)t=t.slice(0,t.length-n[0].length),e[n[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):vs(t.slice(2)),e]}let Nr=0;const nh=Promise.resolve(),rh=()=>Nr||(nh.then(()=>Nr=0),Nr=Date.now());function ih(t,e){const s=n=>{if(!n._vts)n._vts=Date.now();else if(n._vts<=s.attached)return;Rt(oh(n,s.value),e,5,[n])};return s.value=t,s.attached=rh(),s}function oh(t,e){if(ne(e)){const s=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{s.call(t),t._stopped=!0},e.map(n=>r=>!r._stopped&&n&&n(r))}else return e}const Po=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,ah=(t,e,s,n,r,i)=>{const o=r==="svg";e==="class"?zd(t,n,o):e==="style"?Xd(t,s,n):ir(e)?Ci(e)||th(t,e,s,n,i):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):lh(t,e,n,o))?(xo(t,e,n),!t.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&Ao(t,e,n,o,i,e!=="value")):t._isVueCE&&(/[A-Z]/.test(e)||!Ve(n))?xo(t,vt(e),n,i,e):(e==="true-value"?t._trueValue=n:e==="false-value"&&(t._falseValue=n),Ao(t,e,n,o))};function lh(t,e,s,n){if(n)return!!(e==="innerHTML"||e==="textContent"||e in t&&Po(e)&&ce(s));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="autocorrect"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const r=t.tagName;if(r==="IMG"||r==="VIDEO"||r==="CANVAS"||r==="SOURCE")return!1}return Po(e)&&Ve(s)?!1:e in t}const Xn=t=>{const e=t.props["onUpdate:modelValue"]||!1;return ne(e)?s=>Dn(e,s):e};function uh(t){t.target.composing=!0}function Io(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const Rs=Symbol("_assign"),me={created(t,{modifiers:{lazy:e,trim:s,number:n}},r){t[Rs]=Xn(r);const i=n||r.props&&r.props.type==="number";ls(t,e?"change":"input",o=>{if(o.target.composing)return;let a=t.value;s&&(a=a.trim()),i&&(a=Vn(a)),t[Rs](a)}),s&&ls(t,"change",()=>{t.value=t.value.trim()}),e||(ls(t,"compositionstart",uh),ls(t,"compositionend",Io),ls(t,"change",Io))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,oldValue:s,modifiers:{lazy:n,trim:r,number:i}},o){if(t[Rs]=Xn(o),t.composing)return;const a=(i||t.type==="number")&&!/^0\d/.test(t.value)?Vn(t.value):t.value,l=e??"";a!==l&&(document.activeElement===t&&t.type!=="range"&&(n&&e===s||r&&t.value.trim()===l)||(t.value=l))}},js={deep:!0,created(t,{value:e,modifiers:{number:s}},n){const r=or(e);ls(t,"change",()=>{const i=Array.prototype.filter.call(t.options,o=>o.selected).map(o=>s?Vn(Zn(o)):Zn(o));t[Rs](t.multiple?r?new Set(i):i:i[0]),t._assigning=!0,pr(()=>{t._assigning=!1})}),t[Rs]=Xn(n)},mounted(t,{value:e}){jo(t,e)},beforeUpdate(t,e,s){t[Rs]=Xn(s)},updated(t,{value:e}){t._assigning||jo(t,e)}};function jo(t,e){const s=t.multiple,n=ne(e);if(!(s&&!n&&!or(e))){for(let r=0,i=t.options.length;r<i;r++){const o=t.options[r],a=Zn(o);if(s)if(n){const l=typeof a;l==="string"||l==="number"?o.selected=e.some(c=>String(c)===String(a)):o.selected=nc(e,a)>-1}else o.selected=e.has(a);else if(dr(Zn(o),e)){t.selectedIndex!==r&&(t.selectedIndex=r);return}}!s&&t.selectedIndex!==-1&&(t.selectedIndex=-1)}}function Zn(t){return"_value"in t?t._value:t.value}const ch=["ctrl","shift","alt","meta"],dh={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>ch.some(s=>t[`${s}Key`]&&!e.includes(s))},Pe=(t,e)=>{const s=t._withMods||(t._withMods={}),n=e.join(".");return s[n]||(s[n]=((r,...i)=>{for(let o=0;o<e.length;o++){const a=dh[e[o]];if(a&&a(r,e))return}return t(r,...i)}))},hh=Ye({patchProp:ah},Kd);let No;function fh(){return No||(No=vd(hh))}const ph=((...t)=>{const e=fh().createApp(...t),{mount:s}=e;return e.mount=n=>{const r=gh(n);if(!r)return;const i=e._component;!ce(i)&&!i.render&&!i.template&&(i.template=r.innerHTML),r.nodeType===1&&(r.textContent="");const o=s(r,!1,vh(r));return r instanceof Element&&(r.removeAttribute("v-cloak"),r.setAttribute("data-v-app","")),o},e});function vh(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function gh(t){return Ve(t)?document.querySelector(t):t}/*!
 * pinia v3.0.3
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */let Nl;const wr=t=>Nl=t,Dl=Symbol();function oi(t){return t&&typeof t=="object"&&Object.prototype.toString.call(t)==="[object Object]"&&typeof t.toJSON!="function"}var nn;(function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"})(nn||(nn={}));function mh(){const t=La(!0),e=t.run(()=>M({}));let s=[],n=[];const r=Di({install(i){wr(r),r._a=i,i.provide(Dl,r),i.config.globalProperties.$pinia=r,n.forEach(o=>s.push(o)),n=[]},use(i){return this._a?s.push(i):n.push(i),this},_p:s,_a:null,_e:t,_s:new Map,state:e});return r}const Ul=()=>{};function Do(t,e,s,n=Ul){t.push(e);const r=()=>{const i=t.indexOf(e);i>-1&&(t.splice(i,1),n())};return!s&&Ma()&&rc(r),r}function _s(t,...e){t.slice().forEach(s=>{s(...e)})}const _h=t=>t(),Uo=Symbol(),Dr=Symbol();function ai(t,e){t instanceof Map&&e instanceof Map?e.forEach((s,n)=>t.set(n,s)):t instanceof Set&&e instanceof Set&&e.forEach(t.add,t);for(const s in e){if(!e.hasOwnProperty(s))continue;const n=e[s],r=t[s];oi(r)&&oi(n)&&t.hasOwnProperty(s)&&!Me(n)&&!Xt(n)?t[s]=ai(r,n):t[s]=n}return t}const yh=Symbol();function bh(t){return!oi(t)||!Object.prototype.hasOwnProperty.call(t,yh)}const{assign:Wt}=Object;function wh(t){return!!(Me(t)&&t.effect)}function Eh(t,e,s,n){const{state:r,actions:i,getters:o}=e,a=s.state.value[t];let l;function c(){a||(s.state.value[t]=r?r():{});const d=Oc(s.state.value[t]);return Wt(d,i,Object.keys(o||{}).reduce((h,p)=>(h[p]=Di(Ie(()=>{wr(s);const f=s._s.get(t);return o[p].call(f,f)})),h),{}))}return l=Ll(t,c,e,s,n,!0),l}function Ll(t,e,s={},n,r,i){let o;const a=Wt({actions:{}},s),l={deep:!0};let c,d,h=[],p=[],f;const b=n.state.value[t];!i&&!b&&(n.state.value[t]={}),M({});let w;function E(V){let q;c=d=!1,typeof V=="function"?(V(n.state.value[t]),q={type:nn.patchFunction,storeId:t,events:f}):(ai(n.state.value[t],V),q={type:nn.patchObject,payload:V,storeId:t,events:f});const J=w=Symbol();pr().then(()=>{w===J&&(c=!0)}),d=!0,_s(h,q,n.state.value[t])}const _=i?function(){const{state:q}=s,J=q?q():{};this.$patch(A=>{Wt(A,J)})}:Ul;function v(){o.stop(),h=[],p=[],n._s.delete(t)}const g=(V,q="")=>{if(Uo in V)return V[Dr]=q,V;const J=function(){wr(n);const A=Array.from(arguments),ke=[],W=[];function Ue(re){ke.push(re)}function tt(re){W.push(re)}_s(p,{args:A,name:J[Dr],store:O,after:Ue,onError:tt});let be;try{be=V.apply(this&&this.$id===t?this:O,A)}catch(re){throw _s(W,re),re}return be instanceof Promise?be.then(re=>(_s(ke,re),re)).catch(re=>(_s(W,re),Promise.reject(re))):(_s(ke,be),be)};return J[Uo]=!0,J[Dr]=q,J},S={_p:n,$id:t,$onAction:Do.bind(null,p),$patch:E,$reset:_,$subscribe(V,q={}){const J=Do(h,V,q.detached,()=>A()),A=o.run(()=>Mt(()=>n.state.value[t],ke=>{(q.flush==="sync"?d:c)&&V({storeId:t,type:nn.direct,events:f},ke)},Wt({},l,q)));return J},$dispose:v},O=yn(S);n._s.set(t,O);const L=(n._a&&n._a.runWithContext||_h)(()=>n._e.run(()=>(o=La()).run(()=>e({action:g}))));for(const V in L){const q=L[V];if(Me(q)&&!wh(q)||Xt(q))i||(b&&bh(q)&&(Me(q)?q.value=b[V]:ai(q,b[V])),n.state.value[t][V]=q);else if(typeof q=="function"){const J=g(q,V);L[V]=J,a.actions[V]=q}}return Wt(O,L),Wt(ye(O),L),Object.defineProperty(O,"$state",{get:()=>n.state.value[t],set:V=>{E(q=>{Wt(q,V)})}}),n._p.forEach(V=>{Wt(O,o.run(()=>V({store:O,app:n._a,pinia:n,options:a})))}),b&&i&&s.hydrate&&s.hydrate(O.$state,b),c=!0,d=!0,O}/*! #__NO_SIDE_EFFECTS__ */function Sh(t,e,s){let n;const r=typeof e=="function";n=r?s:e;function i(o,a){const l=ld();return o=o||(l?pt(Dl,null):null),o&&wr(o),o=Nl,o._s.has(t)||(r?Ll(t,e,n,o):Eh(t,n,o)),o._s.get(t)}return i.$id=t,i}const gt=(t,e)=>{const s=t.__vccOpts||t;for(const[n,r]of e)s[n]=r;return s},kh={};function Th(t,e){const s=Pt("router-view");return $(),sn(s)}const Ch=gt(kh,[["render",Th]]);/*!
 * vue-router v4.6.3
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */const Ts=typeof document<"u";function Ml(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function Oh(t){return t.__esModule||t[Symbol.toStringTag]==="Module"||t.default&&Ml(t.default)}const we=Object.assign;function Ur(t,e){const s={};for(const n in e){const r=e[n];s[n]=Et(r)?r.map(t):t(r)}return s}const rn=()=>{},Et=Array.isArray;function Lo(t,e){const s={};for(const n in t)s[n]=n in e?e[n]:t[n];return s}const Bl=/#/g,Ah=/&/g,xh=/\//g,$h=/=/g,Rh=/\?/g,Vl=/\+/g,Ph=/%5B/g,Ih=/%5D/g,ql=/%5E/g,jh=/%60/g,Fl=/%7B/g,Nh=/%7C/g,Hl=/%7D/g,Dh=/%20/g;function Fi(t){return t==null?"":encodeURI(""+t).replace(Nh,"|").replace(Ph,"[").replace(Ih,"]")}function Uh(t){return Fi(t).replace(Fl,"{").replace(Hl,"}").replace(ql,"^")}function li(t){return Fi(t).replace(Vl,"%2B").replace(Dh,"+").replace(Bl,"%23").replace(Ah,"%26").replace(jh,"`").replace(Fl,"{").replace(Hl,"}").replace(ql,"^")}function Lh(t){return li(t).replace($h,"%3D")}function Mh(t){return Fi(t).replace(Bl,"%23").replace(Rh,"%3F")}function Bh(t){return Mh(t).replace(xh,"%2F")}function pn(t){if(t==null)return null;try{return decodeURIComponent(""+t)}catch{}return""+t}const Vh=/\/$/,qh=t=>t.replace(Vh,"");function Lr(t,e,s="/"){let n,r={},i="",o="";const a=e.indexOf("#");let l=e.indexOf("?");return l=a>=0&&l>a?-1:l,l>=0&&(n=e.slice(0,l),i=e.slice(l,a>0?a:e.length),r=t(i.slice(1))),a>=0&&(n=n||e.slice(0,a),o=e.slice(a,e.length)),n=Kh(n??e,s),{fullPath:n+i+o,path:n,query:r,hash:pn(o)}}function Fh(t,e){const s=e.query?t(e.query):"";return e.path+(s&&"?")+s+(e.hash||"")}function Mo(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function Hh(t,e,s){const n=e.matched.length-1,r=s.matched.length-1;return n>-1&&n===r&&Ns(e.matched[n],s.matched[r])&&Wl(e.params,s.params)&&t(e.query)===t(s.query)&&e.hash===s.hash}function Ns(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function Wl(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const s in t)if(!Wh(t[s],e[s]))return!1;return!0}function Wh(t,e){return Et(t)?Bo(t,e):Et(e)?Bo(e,t):t===e}function Bo(t,e){return Et(e)?t.length===e.length&&t.every((s,n)=>s===e[n]):t.length===1&&t[0]===e}function Kh(t,e){if(t.startsWith("/"))return t;if(!t)return e;const s=e.split("/"),n=t.split("/"),r=n[n.length-1];(r===".."||r===".")&&n.push("");let i=s.length-1,o,a;for(o=0;o<n.length;o++)if(a=n[o],a!==".")if(a==="..")i>1&&i--;else break;return s.slice(0,i).join("/")+"/"+n.slice(o).join("/")}const Ft={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};let ui=(function(t){return t.pop="pop",t.push="push",t})({}),Mr=(function(t){return t.back="back",t.forward="forward",t.unknown="",t})({});function Gh(t){if(!t)if(Ts){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),qh(t)}const zh=/^[^#]+#/;function Jh(t,e){return t.replace(zh,"#")+e}function Qh(t,e){const s=document.documentElement.getBoundingClientRect(),n=t.getBoundingClientRect();return{behavior:e.behavior,left:n.left-s.left-(e.left||0),top:n.top-s.top-(e.top||0)}}const Er=()=>({left:window.scrollX,top:window.scrollY});function Yh(t){let e;if("el"in t){const s=t.el,n=typeof s=="string"&&s.startsWith("#"),r=typeof s=="string"?n?document.getElementById(s.slice(1)):document.querySelector(s):s;if(!r)return;e=Qh(r,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.scrollX,e.top!=null?e.top:window.scrollY)}function Vo(t,e){return(history.state?history.state.position-e:-1)+t}const ci=new Map;function Xh(t,e){ci.set(t,e)}function Zh(t){const e=ci.get(t);return ci.delete(t),e}function ef(t){return typeof t=="string"||t&&typeof t=="object"}function Kl(t){return typeof t=="string"||typeof t=="symbol"}let Le=(function(t){return t[t.MATCHER_NOT_FOUND=1]="MATCHER_NOT_FOUND",t[t.NAVIGATION_GUARD_REDIRECT=2]="NAVIGATION_GUARD_REDIRECT",t[t.NAVIGATION_ABORTED=4]="NAVIGATION_ABORTED",t[t.NAVIGATION_CANCELLED=8]="NAVIGATION_CANCELLED",t[t.NAVIGATION_DUPLICATED=16]="NAVIGATION_DUPLICATED",t})({});const Gl=Symbol("");Le.MATCHER_NOT_FOUND+"",Le.NAVIGATION_GUARD_REDIRECT+"",Le.NAVIGATION_ABORTED+"",Le.NAVIGATION_CANCELLED+"",Le.NAVIGATION_DUPLICATED+"";function Ds(t,e){return we(new Error,{type:t,[Gl]:!0},e)}function jt(t,e){return t instanceof Error&&Gl in t&&(e==null||!!(t.type&e))}const tf=["params","query","hash"];function sf(t){if(typeof t=="string")return t;if(t.path!=null)return t.path;const e={};for(const s of tf)s in t&&(e[s]=t[s]);return JSON.stringify(e,null,2)}function nf(t){const e={};if(t===""||t==="?")return e;const s=(t[0]==="?"?t.slice(1):t).split("&");for(let n=0;n<s.length;++n){const r=s[n].replace(Vl," "),i=r.indexOf("="),o=pn(i<0?r:r.slice(0,i)),a=i<0?null:pn(r.slice(i+1));if(o in e){let l=e[o];Et(l)||(l=e[o]=[l]),l.push(a)}else e[o]=a}return e}function qo(t){let e="";for(let s in t){const n=t[s];if(s=Lh(s),n==null){n!==void 0&&(e+=(e.length?"&":"")+s);continue}(Et(n)?n.map(r=>r&&li(r)):[n&&li(n)]).forEach(r=>{r!==void 0&&(e+=(e.length?"&":"")+s,r!=null&&(e+="="+r))})}return e}function rf(t){const e={};for(const s in t){const n=t[s];n!==void 0&&(e[s]=Et(n)?n.map(r=>r==null?null:""+r):n==null?n:""+n)}return e}const of=Symbol(""),Fo=Symbol(""),Sr=Symbol(""),Hi=Symbol(""),di=Symbol("");function Ks(){let t=[];function e(n){return t.push(n),()=>{const r=t.indexOf(n);r>-1&&t.splice(r,1)}}function s(){t=[]}return{add:e,list:()=>t.slice(),reset:s}}function Jt(t,e,s,n,r,i=o=>o()){const o=n&&(n.enterCallbacks[r]=n.enterCallbacks[r]||[]);return()=>new Promise((a,l)=>{const c=p=>{p===!1?l(Ds(Le.NAVIGATION_ABORTED,{from:s,to:e})):p instanceof Error?l(p):ef(p)?l(Ds(Le.NAVIGATION_GUARD_REDIRECT,{from:e,to:p})):(o&&n.enterCallbacks[r]===o&&typeof p=="function"&&o.push(p),a())},d=i(()=>t.call(n&&n.instances[r],e,s,c));let h=Promise.resolve(d);t.length<3&&(h=h.then(c)),h.catch(p=>l(p))})}function Br(t,e,s,n,r=i=>i()){const i=[];for(const o of t)for(const a in o.components){let l=o.components[a];if(!(e!=="beforeRouteEnter"&&!o.instances[a]))if(Ml(l)){const c=(l.__vccOpts||l)[e];c&&i.push(Jt(c,s,n,o,a,r))}else{let c=l();i.push(()=>c.then(d=>{if(!d)throw new Error(`Couldn't resolve component "${a}" at "${o.path}"`);const h=Oh(d)?d.default:d;o.mods[a]=d,o.components[a]=h;const p=(h.__vccOpts||h)[e];return p&&Jt(p,s,n,o,a,r)()}))}}return i}function af(t,e){const s=[],n=[],r=[],i=Math.max(e.matched.length,t.matched.length);for(let o=0;o<i;o++){const a=e.matched[o];a&&(t.matched.find(c=>Ns(c,a))?n.push(a):s.push(a));const l=t.matched[o];l&&(e.matched.find(c=>Ns(c,l))||r.push(l))}return[s,n,r]}/*!
 * vue-router v4.6.3
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */let lf=()=>location.protocol+"//"+location.host;function zl(t,e){const{pathname:s,search:n,hash:r}=e,i=t.indexOf("#");if(i>-1){let o=r.includes(t.slice(i))?t.slice(i).length:1,a=r.slice(o);return a[0]!=="/"&&(a="/"+a),Mo(a,"")}return Mo(s,t)+n+r}function uf(t,e,s,n){let r=[],i=[],o=null;const a=({state:p})=>{const f=zl(t,location),b=s.value,w=e.value;let E=0;if(p){if(s.value=f,e.value=p,o&&o===b){o=null;return}E=w?p.position-w.position:0}else n(f);r.forEach(_=>{_(s.value,b,{delta:E,type:ui.pop,direction:E?E>0?Mr.forward:Mr.back:Mr.unknown})})};function l(){o=s.value}function c(p){r.push(p);const f=()=>{const b=r.indexOf(p);b>-1&&r.splice(b,1)};return i.push(f),f}function d(){if(document.visibilityState==="hidden"){const{history:p}=window;if(!p.state)return;p.replaceState(we({},p.state,{scroll:Er()}),"")}}function h(){for(const p of i)p();i=[],window.removeEventListener("popstate",a),window.removeEventListener("pagehide",d),document.removeEventListener("visibilitychange",d)}return window.addEventListener("popstate",a),window.addEventListener("pagehide",d),document.addEventListener("visibilitychange",d),{pauseListeners:l,listen:c,destroy:h}}function Ho(t,e,s,n=!1,r=!1){return{back:t,current:e,forward:s,replaced:n,position:window.history.length,scroll:r?Er():null}}function cf(t){const{history:e,location:s}=window,n={value:zl(t,s)},r={value:e.state};r.value||i(n.value,{back:null,current:n.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function i(l,c,d){const h=t.indexOf("#"),p=h>-1?(s.host&&document.querySelector("base")?t:t.slice(h))+l:lf()+t+l;try{e[d?"replaceState":"pushState"](c,"",p),r.value=c}catch(f){console.error(f),s[d?"replace":"assign"](p)}}function o(l,c){i(l,we({},e.state,Ho(r.value.back,l,r.value.forward,!0),c,{position:r.value.position}),!0),n.value=l}function a(l,c){const d=we({},r.value,e.state,{forward:l,scroll:Er()});i(d.current,d,!0),i(l,we({},Ho(n.value,l,null),{position:d.position+1},c),!1),n.value=l}return{location:n,state:r,push:a,replace:o}}function df(t){t=Gh(t);const e=cf(t),s=uf(t,e.state,e.location,e.replace);function n(i,o=!0){o||s.pauseListeners(),history.go(i)}const r=we({location:"",base:t,go:n,createHref:Jh.bind(null,t)},e,s);return Object.defineProperty(r,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(r,"state",{enumerable:!0,get:()=>e.state.value}),r}function hf(t){return t=location.host?t||location.pathname+location.search:"",t.includes("#")||(t+="#"),df(t)}let ds=(function(t){return t[t.Static=0]="Static",t[t.Param=1]="Param",t[t.Group=2]="Group",t})({});var qe=(function(t){return t[t.Static=0]="Static",t[t.Param=1]="Param",t[t.ParamRegExp=2]="ParamRegExp",t[t.ParamRegExpEnd=3]="ParamRegExpEnd",t[t.EscapeNext=4]="EscapeNext",t})(qe||{});const ff={type:ds.Static,value:""},pf=/[a-zA-Z0-9_]/;function vf(t){if(!t)return[[]];if(t==="/")return[[ff]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(f){throw new Error(`ERR (${s})/"${c}": ${f}`)}let s=qe.Static,n=s;const r=[];let i;function o(){i&&r.push(i),i=[]}let a=0,l,c="",d="";function h(){c&&(s===qe.Static?i.push({type:ds.Static,value:c}):s===qe.Param||s===qe.ParamRegExp||s===qe.ParamRegExpEnd?(i.length>1&&(l==="*"||l==="+")&&e(`A repeatable param (${c}) must be alone in its segment. eg: '/:ids+.`),i.push({type:ds.Param,value:c,regexp:d,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):e("Invalid state to consume buffer"),c="")}function p(){c+=l}for(;a<t.length;){if(l=t[a++],l==="\\"&&s!==qe.ParamRegExp){n=s,s=qe.EscapeNext;continue}switch(s){case qe.Static:l==="/"?(c&&h(),o()):l===":"?(h(),s=qe.Param):p();break;case qe.EscapeNext:p(),s=n;break;case qe.Param:l==="("?s=qe.ParamRegExp:pf.test(l)?p():(h(),s=qe.Static,l!=="*"&&l!=="?"&&l!=="+"&&a--);break;case qe.ParamRegExp:l===")"?d[d.length-1]=="\\"?d=d.slice(0,-1)+l:s=qe.ParamRegExpEnd:d+=l;break;case qe.ParamRegExpEnd:h(),s=qe.Static,l!=="*"&&l!=="?"&&l!=="+"&&a--,d="";break;default:e("Unknown state");break}}return s===qe.ParamRegExp&&e(`Unfinished custom RegExp for param "${c}"`),h(),o(),r}const Wo="[^/]+?",gf={sensitive:!1,strict:!1,start:!0,end:!0};var Ze=(function(t){return t[t._multiplier=10]="_multiplier",t[t.Root=90]="Root",t[t.Segment=40]="Segment",t[t.SubSegment=30]="SubSegment",t[t.Static=40]="Static",t[t.Dynamic=20]="Dynamic",t[t.BonusCustomRegExp=10]="BonusCustomRegExp",t[t.BonusWildcard=-50]="BonusWildcard",t[t.BonusRepeatable=-20]="BonusRepeatable",t[t.BonusOptional=-8]="BonusOptional",t[t.BonusStrict=.7000000000000001]="BonusStrict",t[t.BonusCaseSensitive=.25]="BonusCaseSensitive",t})(Ze||{});const mf=/[.+*?^${}()[\]/\\]/g;function _f(t,e){const s=we({},gf,e),n=[];let r=s.start?"^":"";const i=[];for(const c of t){const d=c.length?[]:[Ze.Root];s.strict&&!c.length&&(r+="/");for(let h=0;h<c.length;h++){const p=c[h];let f=Ze.Segment+(s.sensitive?Ze.BonusCaseSensitive:0);if(p.type===ds.Static)h||(r+="/"),r+=p.value.replace(mf,"\\$&"),f+=Ze.Static;else if(p.type===ds.Param){const{value:b,repeatable:w,optional:E,regexp:_}=p;i.push({name:b,repeatable:w,optional:E});const v=_||Wo;if(v!==Wo){f+=Ze.BonusCustomRegExp;try{`${v}`}catch(S){throw new Error(`Invalid custom RegExp for param "${b}" (${v}): `+S.message)}}let g=w?`((?:${v})(?:/(?:${v}))*)`:`(${v})`;h||(g=E&&c.length<2?`(?:/${g})`:"/"+g),E&&(g+="?"),r+=g,f+=Ze.Dynamic,E&&(f+=Ze.BonusOptional),w&&(f+=Ze.BonusRepeatable),v===".*"&&(f+=Ze.BonusWildcard)}d.push(f)}n.push(d)}if(s.strict&&s.end){const c=n.length-1;n[c][n[c].length-1]+=Ze.BonusStrict}s.strict||(r+="/?"),s.end?r+="$":s.strict&&!r.endsWith("/")&&(r+="(?:/|$)");const o=new RegExp(r,s.sensitive?"":"i");function a(c){const d=c.match(o),h={};if(!d)return null;for(let p=1;p<d.length;p++){const f=d[p]||"",b=i[p-1];h[b.name]=f&&b.repeatable?f.split("/"):f}return h}function l(c){let d="",h=!1;for(const p of t){(!h||!d.endsWith("/"))&&(d+="/"),h=!1;for(const f of p)if(f.type===ds.Static)d+=f.value;else if(f.type===ds.Param){const{value:b,repeatable:w,optional:E}=f,_=b in c?c[b]:"";if(Et(_)&&!w)throw new Error(`Provided param "${b}" is an array but it is not repeatable (* or + modifiers)`);const v=Et(_)?_.join("/"):_;if(!v)if(E)p.length<2&&(d.endsWith("/")?d=d.slice(0,-1):h=!0);else throw new Error(`Missing required param "${b}"`);d+=v}}return d||"/"}return{re:o,score:n,keys:i,parse:a,stringify:l}}function yf(t,e){let s=0;for(;s<t.length&&s<e.length;){const n=e[s]-t[s];if(n)return n;s++}return t.length<e.length?t.length===1&&t[0]===Ze.Static+Ze.Segment?-1:1:t.length>e.length?e.length===1&&e[0]===Ze.Static+Ze.Segment?1:-1:0}function Jl(t,e){let s=0;const n=t.score,r=e.score;for(;s<n.length&&s<r.length;){const i=yf(n[s],r[s]);if(i)return i;s++}if(Math.abs(r.length-n.length)===1){if(Ko(n))return 1;if(Ko(r))return-1}return r.length-n.length}function Ko(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const bf={strict:!1,end:!0,sensitive:!1};function wf(t,e,s){const n=_f(vf(t.path),s),r=we(n,{record:t,parent:e,children:[],alias:[]});return e&&!r.record.aliasOf==!e.record.aliasOf&&e.children.push(r),r}function Ef(t,e){const s=[],n=new Map;e=Lo(bf,e);function r(h){return n.get(h)}function i(h,p,f){const b=!f,w=zo(h);w.aliasOf=f&&f.record;const E=Lo(e,h),_=[w];if("alias"in h){const S=typeof h.alias=="string"?[h.alias]:h.alias;for(const O of S)_.push(zo(we({},w,{components:f?f.record.components:w.components,path:O,aliasOf:f?f.record:w})))}let v,g;for(const S of _){const{path:O}=S;if(p&&O[0]!=="/"){const D=p.record.path,L=D[D.length-1]==="/"?"":"/";S.path=p.record.path+(O&&L+O)}if(v=wf(S,p,E),f?f.alias.push(v):(g=g||v,g!==v&&g.alias.push(v),b&&h.name&&!Jo(v)&&o(h.name)),Ql(v)&&l(v),w.children){const D=w.children;for(let L=0;L<D.length;L++)i(D[L],v,f&&f.children[L])}f=f||v}return g?()=>{o(g)}:rn}function o(h){if(Kl(h)){const p=n.get(h);p&&(n.delete(h),s.splice(s.indexOf(p),1),p.children.forEach(o),p.alias.forEach(o))}else{const p=s.indexOf(h);p>-1&&(s.splice(p,1),h.record.name&&n.delete(h.record.name),h.children.forEach(o),h.alias.forEach(o))}}function a(){return s}function l(h){const p=Tf(h,s);s.splice(p,0,h),h.record.name&&!Jo(h)&&n.set(h.record.name,h)}function c(h,p){let f,b={},w,E;if("name"in h&&h.name){if(f=n.get(h.name),!f)throw Ds(Le.MATCHER_NOT_FOUND,{location:h});E=f.record.name,b=we(Go(p.params,f.keys.filter(g=>!g.optional).concat(f.parent?f.parent.keys.filter(g=>g.optional):[]).map(g=>g.name)),h.params&&Go(h.params,f.keys.map(g=>g.name))),w=f.stringify(b)}else if(h.path!=null)w=h.path,f=s.find(g=>g.re.test(w)),f&&(b=f.parse(w),E=f.record.name);else{if(f=p.name?n.get(p.name):s.find(g=>g.re.test(p.path)),!f)throw Ds(Le.MATCHER_NOT_FOUND,{location:h,currentLocation:p});E=f.record.name,b=we({},p.params,h.params),w=f.stringify(b)}const _=[];let v=f;for(;v;)_.unshift(v.record),v=v.parent;return{name:E,path:w,params:b,matched:_,meta:kf(_)}}t.forEach(h=>i(h));function d(){s.length=0,n.clear()}return{addRoute:i,resolve:c,removeRoute:o,clearRoutes:d,getRoutes:a,getRecordMatcher:r}}function Go(t,e){const s={};for(const n of e)n in t&&(s[n]=t[n]);return s}function zo(t){const e={path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:t.aliasOf,beforeEnter:t.beforeEnter,props:Sf(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}};return Object.defineProperty(e,"mods",{value:{}}),e}function Sf(t){const e={},s=t.props||!1;if("component"in t)e.default=s;else for(const n in t.components)e[n]=typeof s=="object"?s[n]:s;return e}function Jo(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function kf(t){return t.reduce((e,s)=>we(e,s.meta),{})}function Tf(t,e){let s=0,n=e.length;for(;s!==n;){const i=s+n>>1;Jl(t,e[i])<0?n=i:s=i+1}const r=Cf(t);return r&&(n=e.lastIndexOf(r,n-1)),n}function Cf(t){let e=t;for(;e=e.parent;)if(Ql(e)&&Jl(t,e)===0)return e}function Ql({record:t}){return!!(t.name||t.components&&Object.keys(t.components).length||t.redirect)}function Qo(t){const e=pt(Sr),s=pt(Hi),n=Ie(()=>{const l=je(t.to);return e.resolve(l)}),r=Ie(()=>{const{matched:l}=n.value,{length:c}=l,d=l[c-1],h=s.matched;if(!d||!h.length)return-1;const p=h.findIndex(Ns.bind(null,d));if(p>-1)return p;const f=Yo(l[c-2]);return c>1&&Yo(d)===f&&h[h.length-1].path!==f?h.findIndex(Ns.bind(null,l[c-2])):p}),i=Ie(()=>r.value>-1&&Rf(s.params,n.value.params)),o=Ie(()=>r.value>-1&&r.value===s.matched.length-1&&Wl(s.params,n.value.params));function a(l={}){if($f(l)){const c=e[je(t.replace)?"replace":"push"](je(t.to)).catch(rn);return t.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>c),c}return Promise.resolve()}return{route:n,href:Ie(()=>n.value.href),isActive:i,isExactActive:o,navigate:a}}function Of(t){return t.length===1?t[0]:t}const Af=ht({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"},viewTransition:Boolean},useLink:Qo,setup(t,{slots:e}){const s=yn(Qo(t)),{options:n}=pt(Sr),r=Ie(()=>({[Xo(t.activeClass,n.linkActiveClass,"router-link-active")]:s.isActive,[Xo(t.exactActiveClass,n.linkExactActiveClass,"router-link-exact-active")]:s.isExactActive}));return()=>{const i=e.default&&Of(e.default(s));return t.custom?i:Il("a",{"aria-current":s.isExactActive?t.ariaCurrentValue:null,href:s.href,onClick:s.navigate,class:r.value},i)}}}),xf=Af;function $f(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function Rf(t,e){for(const s in e){const n=e[s],r=t[s];if(typeof n=="string"){if(n!==r)return!1}else if(!Et(r)||r.length!==n.length||n.some((i,o)=>i!==r[o]))return!1}return!0}function Yo(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const Xo=(t,e,s)=>t??e??s,Pf=ht({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:s}){const n=pt(di),r=Ie(()=>t.route||n.value),i=pt(Fo,0),o=Ie(()=>{let c=je(i);const{matched:d}=r.value;let h;for(;(h=d[c])&&!h.components;)c++;return c}),a=Ie(()=>r.value.matched[o.value]);Un(Fo,Ie(()=>o.value+1)),Un(of,a),Un(di,r);const l=M();return Mt(()=>[l.value,a.value,t.name],([c,d,h],[p,f,b])=>{d&&(d.instances[h]=c,f&&f!==d&&c&&c===p&&(d.leaveGuards.size||(d.leaveGuards=f.leaveGuards),d.updateGuards.size||(d.updateGuards=f.updateGuards))),c&&d&&(!f||!Ns(d,f)||!p)&&(d.enterCallbacks[h]||[]).forEach(w=>w(c))},{flush:"post"}),()=>{const c=r.value,d=t.name,h=a.value,p=h&&h.components[d];if(!p)return Zo(s.default,{Component:p,route:c});const f=h.props[d],b=f?f===!0?c.params:typeof f=="function"?f(c):f:null,E=Il(p,we({},b,e,{onVnodeUnmounted:_=>{_.component.isUnmounted&&(h.instances[d]=null)},ref:l}));return Zo(s.default,{Component:E,route:c})||E}}});function Zo(t,e){if(!t)return null;const s=t(e);return s.length===1?s[0]:s}const If=Pf;function jf(t){const e=Ef(t.routes,t),s=t.parseQuery||nf,n=t.stringifyQuery||qo,r=t.history,i=Ks(),o=Ks(),a=Ks(),l=kc(Ft);let c=Ft;Ts&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const d=Ur.bind(null,x=>""+x),h=Ur.bind(null,Bh),p=Ur.bind(null,pn);function f(x,Y){let z,Z;return Kl(x)?(z=e.getRecordMatcher(x),Z=Y):Z=x,e.addRoute(Z,z)}function b(x){const Y=e.getRecordMatcher(x);Y&&e.removeRoute(Y)}function w(){return e.getRoutes().map(x=>x.record)}function E(x){return!!e.getRecordMatcher(x)}function _(x,Y){if(Y=we({},Y||l.value),typeof x=="string"){const k=Lr(s,x,Y.path),j=e.resolve({path:k.path},Y),U=r.createHref(k.fullPath);return we(k,j,{params:p(j.params),hash:pn(k.hash),redirectedFrom:void 0,href:U})}let z;if(x.path!=null)z=we({},x,{path:Lr(s,x.path,Y.path).path});else{const k=we({},x.params);for(const j in k)k[j]==null&&delete k[j];z=we({},x,{params:h(k)}),Y.params=h(Y.params)}const Z=e.resolve(z,Y),ve=x.hash||"";Z.params=d(p(Z.params));const m=Fh(n,we({},x,{hash:Uh(ve),path:Z.path})),y=r.createHref(m);return we({fullPath:m,hash:ve,query:n===qo?rf(x.query):x.query||{}},Z,{redirectedFrom:void 0,href:y})}function v(x){return typeof x=="string"?Lr(s,x,l.value.path):we({},x)}function g(x,Y){if(c!==x)return Ds(Le.NAVIGATION_CANCELLED,{from:Y,to:x})}function S(x){return L(x)}function O(x){return S(we(v(x),{replace:!0}))}function D(x,Y){const z=x.matched[x.matched.length-1];if(z&&z.redirect){const{redirect:Z}=z;let ve=typeof Z=="function"?Z(x,Y):Z;return typeof ve=="string"&&(ve=ve.includes("?")||ve.includes("#")?ve=v(ve):{path:ve},ve.params={}),we({query:x.query,hash:x.hash,params:ve.path!=null?{}:x.params},ve)}}function L(x,Y){const z=c=_(x),Z=l.value,ve=x.state,m=x.force,y=x.replace===!0,k=D(z,Z);if(k)return L(we(v(k),{state:typeof k=="object"?we({},ve,k.state):ve,force:m,replace:y}),Y||z);const j=z;j.redirectedFrom=Y;let U;return!m&&Hh(n,Z,z)&&(U=Ds(Le.NAVIGATION_DUPLICATED,{to:j,from:Z}),T(Z,Z,!0,!1)),(U?Promise.resolve(U):J(j,Z)).catch(I=>jt(I)?jt(I,Le.NAVIGATION_GUARD_REDIRECT)?I:oe(I):pe(I,j,Z)).then(I=>{if(I){if(jt(I,Le.NAVIGATION_GUARD_REDIRECT))return L(we({replace:y},v(I.to),{state:typeof I.to=="object"?we({},ve,I.to.state):ve,force:m}),Y||j)}else I=ke(j,Z,!0,y,ve);return A(j,Z,I),I})}function V(x,Y){const z=g(x,Y);return z?Promise.reject(z):Promise.resolve()}function q(x){const Y=fe.values().next().value;return Y&&typeof Y.runWithContext=="function"?Y.runWithContext(x):x()}function J(x,Y){let z;const[Z,ve,m]=af(x,Y);z=Br(Z.reverse(),"beforeRouteLeave",x,Y);for(const k of Z)k.leaveGuards.forEach(j=>{z.push(Jt(j,x,Y))});const y=V.bind(null,x,Y);return z.push(y),K(z).then(()=>{z=[];for(const k of i.list())z.push(Jt(k,x,Y));return z.push(y),K(z)}).then(()=>{z=Br(ve,"beforeRouteUpdate",x,Y);for(const k of ve)k.updateGuards.forEach(j=>{z.push(Jt(j,x,Y))});return z.push(y),K(z)}).then(()=>{z=[];for(const k of m)if(k.beforeEnter)if(Et(k.beforeEnter))for(const j of k.beforeEnter)z.push(Jt(j,x,Y));else z.push(Jt(k.beforeEnter,x,Y));return z.push(y),K(z)}).then(()=>(x.matched.forEach(k=>k.enterCallbacks={}),z=Br(m,"beforeRouteEnter",x,Y,q),z.push(y),K(z))).then(()=>{z=[];for(const k of o.list())z.push(Jt(k,x,Y));return z.push(y),K(z)}).catch(k=>jt(k,Le.NAVIGATION_CANCELLED)?k:Promise.reject(k))}function A(x,Y,z){a.list().forEach(Z=>q(()=>Z(x,Y,z)))}function ke(x,Y,z,Z,ve){const m=g(x,Y);if(m)return m;const y=Y===Ft,k=Ts?history.state:{};z&&(Z||y?r.replace(x.fullPath,we({scroll:y&&k&&k.scroll},ve)):r.push(x.fullPath,ve)),l.value=x,T(x,Y,z,y),oe()}let W;function Ue(){W||(W=r.listen((x,Y,z)=>{if(!ue.listening)return;const Z=_(x),ve=D(Z,ue.currentRoute.value);if(ve){L(we(ve,{replace:!0,force:!0}),Z).catch(rn);return}c=Z;const m=l.value;Ts&&Xh(Vo(m.fullPath,z.delta),Er()),J(Z,m).catch(y=>jt(y,Le.NAVIGATION_ABORTED|Le.NAVIGATION_CANCELLED)?y:jt(y,Le.NAVIGATION_GUARD_REDIRECT)?(L(we(v(y.to),{force:!0}),Z).then(k=>{jt(k,Le.NAVIGATION_ABORTED|Le.NAVIGATION_DUPLICATED)&&!z.delta&&z.type===ui.pop&&r.go(-1,!1)}).catch(rn),Promise.reject()):(z.delta&&r.go(-z.delta,!1),pe(y,Z,m))).then(y=>{y=y||ke(Z,m,!1),y&&(z.delta&&!jt(y,Le.NAVIGATION_CANCELLED)?r.go(-z.delta,!1):z.type===ui.pop&&jt(y,Le.NAVIGATION_ABORTED|Le.NAVIGATION_DUPLICATED)&&r.go(-1,!1)),A(Z,m,y)}).catch(rn)}))}let tt=Ks(),be=Ks(),re;function pe(x,Y,z){oe(x);const Z=be.list();return Z.length?Z.forEach(ve=>ve(x,Y,z)):console.error(x),Promise.reject(x)}function We(){return re&&l.value!==Ft?Promise.resolve():new Promise((x,Y)=>{tt.add([x,Y])})}function oe(x){return re||(re=!x,Ue(),tt.list().forEach(([Y,z])=>x?z(x):Y()),tt.reset()),x}function T(x,Y,z,Z){const{scrollBehavior:ve}=t;if(!Ts||!ve)return Promise.resolve();const m=!z&&Zh(Vo(x.fullPath,0))||(Z||!z)&&history.state&&history.state.scroll||null;return pr().then(()=>ve(x,Y,m)).then(y=>y&&Yh(y)).catch(y=>pe(y,x,Y))}const C=x=>r.go(x);let P;const fe=new Set,ue={currentRoute:l,listening:!0,addRoute:f,removeRoute:b,clearRoutes:e.clearRoutes,hasRoute:E,getRoutes:w,resolve:_,options:t,push:S,replace:O,go:C,back:()=>C(-1),forward:()=>C(1),beforeEach:i.add,beforeResolve:o.add,afterEach:a.add,onError:be.add,isReady:We,install(x){x.component("RouterLink",xf),x.component("RouterView",If),x.config.globalProperties.$router=ue,Object.defineProperty(x.config.globalProperties,"$route",{enumerable:!0,get:()=>je(l)}),Ts&&!P&&l.value===Ft&&(P=!0,S(r.location).catch(Z=>{}));const Y={};for(const Z in Ft)Object.defineProperty(Y,Z,{get:()=>l.value[Z],enumerable:!0});x.provide(Sr,ue),x.provide(Hi,el(Y)),x.provide(di,l);const z=x.unmount;fe.add(x),x.unmount=function(){fe.delete(x),fe.size<1&&(c=Ft,W&&W(),W=null,l.value=Ft,P=!1,re=!1),z()}}};function K(x){return x.reduce((Y,z)=>Y.then(()=>q(z)),Promise.resolve())}return ue}function Ms(){return pt(Sr)}function Yl(t){return pt(Hi)}var hi=function(t,e){return hi=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,n){s.__proto__=n}||function(s,n){for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(s[r]=n[r])},hi(t,e)};function Xl(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");hi(t,e);function s(){this.constructor=t}t.prototype=e===null?Object.create(e):(s.prototype=e.prototype,new s)}var er=function(){return er=Object.assign||function(e){for(var s,n=1,r=arguments.length;n<r;n++){s=arguments[n];for(var i in s)Object.prototype.hasOwnProperty.call(s,i)&&(e[i]=s[i])}return e},er.apply(this,arguments)};function Bs(t,e){var s={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(s[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(t);r<n.length;r++)e.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(t,n[r])&&(s[n[r]]=t[n[r]]);return s}function Zl(t,e,s,n){var r=arguments.length,i=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,s):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,s,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(r<3?o(i):r>3?o(e,s,i):o(e,s))||i);return r>3&&i&&Object.defineProperty(e,s,i),i}function eu(t,e){return function(s,n){e(s,n,t)}}function tu(t,e,s,n,r,i){function o(_){if(_!==void 0&&typeof _!="function")throw new TypeError("Function expected");return _}for(var a=n.kind,l=a==="getter"?"get":a==="setter"?"set":"value",c=!e&&t?n.static?t:t.prototype:null,d=e||(c?Object.getOwnPropertyDescriptor(c,n.name):{}),h,p=!1,f=s.length-1;f>=0;f--){var b={};for(var w in n)b[w]=w==="access"?{}:n[w];for(var w in n.access)b.access[w]=n.access[w];b.addInitializer=function(_){if(p)throw new TypeError("Cannot add initializers after decoration has completed");i.push(o(_||null))};var E=(0,s[f])(a==="accessor"?{get:d.get,set:d.set}:d[l],b);if(a==="accessor"){if(E===void 0)continue;if(E===null||typeof E!="object")throw new TypeError("Object expected");(h=o(E.get))&&(d.get=h),(h=o(E.set))&&(d.set=h),(h=o(E.init))&&r.unshift(h)}else(h=o(E))&&(a==="field"?r.unshift(h):d[l]=h)}c&&Object.defineProperty(c,n.name,d),p=!0}function su(t,e,s){for(var n=arguments.length>2,r=0;r<e.length;r++)s=n?e[r].call(t,s):e[r].call(t);return n?s:void 0}function nu(t){return typeof t=="symbol"?t:"".concat(t)}function ru(t,e,s){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(t,"name",{configurable:!0,value:s?"".concat(s," ",e):e})}function iu(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function X(t,e,s,n){function r(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(d){try{c(n.next(d))}catch(h){o(h)}}function l(d){try{c(n.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):r(d.value).then(a,l)}c((n=n.apply(t,e||[])).next())})}function ou(t,e){var s={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,r,i,o=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return o.next=a(0),o.throw=a(1),o.return=a(2),typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(c){return function(d){return l([c,d])}}function l(c){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,c[0]&&(s=0)),s;)try{if(n=1,r&&(i=c[0]&2?r.return:c[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,c[1])).done)return i;switch(r=0,i&&(c=[c[0]&2,i.value]),c[0]){case 0:case 1:i=c;break;case 4:return s.label++,{value:c[1],done:!1};case 5:s.label++,r=c[1],c=[0];continue;case 7:c=s.ops.pop(),s.trys.pop();continue;default:if(i=s.trys,!(i=i.length>0&&i[i.length-1])&&(c[0]===6||c[0]===2)){s=0;continue}if(c[0]===3&&(!i||c[1]>i[0]&&c[1]<i[3])){s.label=c[1];break}if(c[0]===6&&s.label<i[1]){s.label=i[1],i=c;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(c);break}i[2]&&s.ops.pop(),s.trys.pop();continue}c=e.call(t,s)}catch(d){c=[6,d],r=0}finally{n=i=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}var kr=Object.create?(function(t,e,s,n){n===void 0&&(n=s);var r=Object.getOwnPropertyDescriptor(e,s);(!r||("get"in r?!e.__esModule:r.writable||r.configurable))&&(r={enumerable:!0,get:function(){return e[s]}}),Object.defineProperty(t,n,r)}):(function(t,e,s,n){n===void 0&&(n=s),t[n]=e[s]});function au(t,e){for(var s in t)s!=="default"&&!Object.prototype.hasOwnProperty.call(e,s)&&kr(e,t,s)}function tr(t){var e=typeof Symbol=="function"&&Symbol.iterator,s=e&&t[e],n=0;if(s)return s.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Wi(t,e){var s=typeof Symbol=="function"&&t[Symbol.iterator];if(!s)return t;var n=s.call(t),r,i=[],o;try{for(;(e===void 0||e-- >0)&&!(r=n.next()).done;)i.push(r.value)}catch(a){o={error:a}}finally{try{r&&!r.done&&(s=n.return)&&s.call(n)}finally{if(o)throw o.error}}return i}function lu(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(Wi(arguments[e]));return t}function uu(){for(var t=0,e=0,s=arguments.length;e<s;e++)t+=arguments[e].length;for(var n=Array(t),r=0,e=0;e<s;e++)for(var i=arguments[e],o=0,a=i.length;o<a;o++,r++)n[r]=i[o];return n}function cu(t,e,s){if(s||arguments.length===2)for(var n=0,r=e.length,i;n<r;n++)(i||!(n in e))&&(i||(i=Array.prototype.slice.call(e,0,n)),i[n]=e[n]);return t.concat(i||Array.prototype.slice.call(e))}function Us(t){return this instanceof Us?(this.v=t,this):new Us(t)}function du(t,e,s){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=s.apply(t,e||[]),r,i=[];return r=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",o),r[Symbol.asyncIterator]=function(){return this},r;function o(f){return function(b){return Promise.resolve(b).then(f,h)}}function a(f,b){n[f]&&(r[f]=function(w){return new Promise(function(E,_){i.push([f,w,E,_])>1||l(f,w)})},b&&(r[f]=b(r[f])))}function l(f,b){try{c(n[f](b))}catch(w){p(i[0][3],w)}}function c(f){f.value instanceof Us?Promise.resolve(f.value.v).then(d,h):p(i[0][2],f)}function d(f){l("next",f)}function h(f){l("throw",f)}function p(f,b){f(b),i.shift(),i.length&&l(i[0][0],i[0][1])}}function hu(t){var e,s;return e={},n("next"),n("throw",function(r){throw r}),n("return"),e[Symbol.iterator]=function(){return this},e;function n(r,i){e[r]=t[r]?function(o){return(s=!s)?{value:Us(t[r](o)),done:!1}:i?i(o):o}:i}}function fu(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],s;return e?e.call(t):(t=typeof tr=="function"?tr(t):t[Symbol.iterator](),s={},n("next"),n("throw"),n("return"),s[Symbol.asyncIterator]=function(){return this},s);function n(i){s[i]=t[i]&&function(o){return new Promise(function(a,l){o=t[i](o),r(a,l,o.done,o.value)})}}function r(i,o,a,l){Promise.resolve(l).then(function(c){i({value:c,done:a})},o)}}function pu(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}var Nf=Object.create?(function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}):function(t,e){t.default=e},fi=function(t){return fi=Object.getOwnPropertyNames||function(e){var s=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(s[s.length]=n);return s},fi(t)};function vu(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var s=fi(t),n=0;n<s.length;n++)s[n]!=="default"&&kr(e,t,s[n]);return Nf(e,t),e}function gu(t){return t&&t.__esModule?t:{default:t}}function mu(t,e,s,n){if(s==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return s==="m"?n:s==="a"?n.call(t):n?n.value:e.get(t)}function _u(t,e,s,n,r){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?r.call(t,s):r?r.value=s:e.set(t,s),s}function yu(t,e){if(e===null||typeof e!="object"&&typeof e!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof t=="function"?e===t:t.has(e)}function bu(t,e,s){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var n,r;if(s){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=e[Symbol.asyncDispose]}if(n===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=e[Symbol.dispose],s&&(r=n)}if(typeof n!="function")throw new TypeError("Object not disposable.");r&&(n=function(){try{r.call(this)}catch(i){return Promise.reject(i)}}),t.stack.push({value:e,dispose:n,async:s})}else s&&t.stack.push({async:!0});return e}var Df=typeof SuppressedError=="function"?SuppressedError:function(t,e,s){var n=new Error(s);return n.name="SuppressedError",n.error=t,n.suppressed=e,n};function wu(t){function e(i){t.error=t.hasError?new Df(i,t.error,"An error was suppressed during disposal."):i,t.hasError=!0}var s,n=0;function r(){for(;s=t.stack.pop();)try{if(!s.async&&n===1)return n=0,t.stack.push(s),Promise.resolve().then(r);if(s.dispose){var i=s.dispose.call(s.value);if(s.async)return n|=2,Promise.resolve(i).then(r,function(o){return e(o),r()})}else n|=1}catch(o){e(o)}if(n===1)return t.hasError?Promise.reject(t.error):Promise.resolve();if(t.hasError)throw t.error}return r()}function Eu(t,e){return typeof t=="string"&&/^\.\.?\//.test(t)?t.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(s,n,r,i,o){return n?e?".jsx":".js":r&&(!i||!o)?s:r+i+"."+o.toLowerCase()+"js"}):t}const Uf={__extends:Xl,__assign:er,__rest:Bs,__decorate:Zl,__param:eu,__esDecorate:tu,__runInitializers:su,__propKey:nu,__setFunctionName:ru,__metadata:iu,__awaiter:X,__generator:ou,__createBinding:kr,__exportStar:au,__values:tr,__read:Wi,__spread:lu,__spreadArrays:uu,__spreadArray:cu,__await:Us,__asyncGenerator:du,__asyncDelegator:hu,__asyncValues:fu,__makeTemplateObject:pu,__importStar:vu,__importDefault:gu,__classPrivateFieldGet:mu,__classPrivateFieldSet:_u,__classPrivateFieldIn:yu,__addDisposableResource:bu,__disposeResources:wu,__rewriteRelativeImportExtension:Eu},Lf=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:bu,get __assign(){return er},__asyncDelegator:hu,__asyncGenerator:du,__asyncValues:fu,__await:Us,__awaiter:X,__classPrivateFieldGet:mu,__classPrivateFieldIn:yu,__classPrivateFieldSet:_u,__createBinding:kr,__decorate:Zl,__disposeResources:wu,__esDecorate:tu,__exportStar:au,__extends:Xl,__generator:ou,__importDefault:gu,__importStar:vu,__makeTemplateObject:pu,__metadata:iu,__param:eu,__propKey:nu,__read:Wi,__rest:Bs,__rewriteRelativeImportExtension:Eu,__runInitializers:su,__setFunctionName:ru,__spread:lu,__spreadArray:cu,__spreadArrays:uu,__values:tr,default:Uf},Symbol.toStringTag,{value:"Module"})),Mf="modulepreload",Bf=function(t){return"/web_train/"+t},ea={},Vs=function(e,s,n){let r=Promise.resolve();if(s&&s.length>0){let c=function(d){return Promise.all(d.map(h=>Promise.resolve(h).then(p=>({status:"fulfilled",value:p}),p=>({status:"rejected",reason:p}))))};var o=c;document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),l=a?.nonce||a?.getAttribute("nonce");r=c(s.map(d=>{if(d=Bf(d),d in ea)return;ea[d]=!0;const h=d.endsWith(".css"),p=h?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${p}`))return;const f=document.createElement("link");if(f.rel=h?"stylesheet":Mf,h||(f.as="script"),f.crossOrigin="",f.href=d,l&&f.setAttribute("nonce",l),document.head.appendChild(f),h)return new Promise((b,w)=>{f.addEventListener("load",b),f.addEventListener("error",()=>w(new Error(`Unable to preload CSS for ${d}`)))})}))}function i(a){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=a,window.dispatchEvent(l),!l.defaultPrevented)throw a}return r.then(a=>{for(const l of a||[])l.status==="rejected"&&i(l.reason);return e().catch(i)})},Vf=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...s)=>Vs(async()=>{const{default:n}=await Promise.resolve().then(()=>gs);return{default:n}},void 0).then(({default:n})=>n(...s)):e=fetch,(...s)=>e(...s)};class Ki extends Error{constructor(e,s="FunctionsError",n){super(e),this.name=s,this.context=n}}class ta extends Ki{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class sa extends Ki{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class na extends Ki{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var pi;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(pi||(pi={}));class qf{constructor(e,{headers:s={},customFetch:n,region:r=pi.Any}={}){this.url=e,this.headers=s,this.region=r,this.fetch=Vf(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return X(this,arguments,void 0,function*(s,n={}){var r;try{const{headers:i,method:o,body:a,signal:l}=n;let c={},{region:d}=n;d||(d=this.region);const h=new URL(`${this.url}/${s}`);d&&d!=="any"&&(c["x-region"]=d,h.searchParams.set("forceFunctionRegion",d));let p;a&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)?typeof Blob<"u"&&a instanceof Blob||a instanceof ArrayBuffer?(c["Content-Type"]="application/octet-stream",p=a):typeof a=="string"?(c["Content-Type"]="text/plain",p=a):typeof FormData<"u"&&a instanceof FormData?p=a:(c["Content-Type"]="application/json",p=JSON.stringify(a)):p=a;const f=yield this.fetch(h.toString(),{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},c),this.headers),i),body:p,signal:l}).catch(_=>{throw _.name==="AbortError"?_:new ta(_)}),b=f.headers.get("x-relay-error");if(b&&b==="true")throw new sa(f);if(!f.ok)throw new na(f);let w=((r=f.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),E;return w==="application/json"?E=yield f.json():w==="application/octet-stream"||w==="application/pdf"?E=yield f.blob():w==="text/event-stream"?E=f:w==="multipart/form-data"?E=yield f.formData():E=yield f.text(),{data:E,error:null,response:f}}catch(i){return i instanceof Error&&i.name==="AbortError"?{data:null,error:new ta(i)}:{data:null,error:i,response:i instanceof na||i instanceof sa?i.context:void 0}}})}}function Ff(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Su(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var s=function n(){var r=!1;try{r=this instanceof n}catch{}return r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};s.prototype=e.prototype}else s={};return Object.defineProperty(s,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var r=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(s,n,r.get?r:{enumerable:!0,get:function(){return t[n]}})}),s}var Ke={};const qs=Su(Lf);var On={},An={},xn={},$n={},Rn={},Hf=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Ls=Hf();const Wf=Ls.fetch,ku=Ls.fetch.bind(Ls),Tu=Ls.Headers,Kf=Ls.Request,Gf=Ls.Response,gs=Object.freeze(Object.defineProperty({__proto__:null,Headers:Tu,Request:Kf,Response:Gf,default:ku,fetch:Wf},Symbol.toStringTag,{value:"Module"})),zf=Su(gs);var Pn={},ra;function Cu(){if(ra)return Pn;ra=1,Object.defineProperty(Pn,"__esModule",{value:!0});class t extends Error{constructor(s){super(s.message),this.name="PostgrestError",this.details=s.details,this.hint=s.hint,this.code=s.code}}return Pn.default=t,Pn}var ia;function Ou(){if(ia)return Rn;ia=1,Object.defineProperty(Rn,"__esModule",{value:!0});const t=qs,e=t.__importDefault(zf),s=t.__importDefault(Cu());class n{constructor(i){var o,a;this.shouldThrowOnError=!1,this.method=i.method,this.url=i.url,this.headers=new Headers(i.headers),this.schema=i.schema,this.body=i.body,this.shouldThrowOnError=(o=i.shouldThrowOnError)!==null&&o!==void 0?o:!1,this.signal=i.signal,this.isMaybeSingle=(a=i.isMaybeSingle)!==null&&a!==void 0?a:!1,i.fetch?this.fetch=i.fetch:typeof fetch>"u"?this.fetch=e.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(i,o){return this.headers=new Headers(this.headers),this.headers.set(i,o),this}then(i,o){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const a=this.fetch;let l=a(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async c=>{var d,h,p,f;let b=null,w=null,E=null,_=c.status,v=c.statusText;if(c.ok){if(this.method!=="HEAD"){const D=await c.text();D===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((d=this.headers.get("Accept"))===null||d===void 0)&&d.includes("application/vnd.pgrst.plan+text"))?w=D:w=JSON.parse(D))}const S=(h=this.headers.get("Prefer"))===null||h===void 0?void 0:h.match(/count=(exact|planned|estimated)/),O=(p=c.headers.get("content-range"))===null||p===void 0?void 0:p.split("/");S&&O&&O.length>1&&(E=parseInt(O[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(w)&&(w.length>1?(b={code:"PGRST116",details:`Results contain ${w.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},w=null,E=null,_=406,v="Not Acceptable"):w.length===1?w=w[0]:w=null)}else{const S=await c.text();try{b=JSON.parse(S),Array.isArray(b)&&c.status===404&&(w=[],b=null,_=200,v="OK")}catch{c.status===404&&S===""?(_=204,v="No Content"):b={message:S}}if(b&&this.isMaybeSingle&&(!((f=b?.details)===null||f===void 0)&&f.includes("0 rows"))&&(b=null,_=200,v="OK"),b&&this.shouldThrowOnError)throw new s.default(b)}return{error:b,data:w,count:E,status:_,statusText:v}});return this.shouldThrowOnError||(l=l.catch(c=>{var d,h,p;return{error:{message:`${(d=c?.name)!==null&&d!==void 0?d:"FetchError"}: ${c?.message}`,details:`${(h=c?.stack)!==null&&h!==void 0?h:""}`,hint:"",code:`${(p=c?.code)!==null&&p!==void 0?p:""}`},data:null,count:null,status:0,statusText:""}})),l.then(i,o)}returns(){return this}overrideTypes(){return this}}return Rn.default=n,Rn}var oa;function Au(){if(oa)return $n;oa=1,Object.defineProperty($n,"__esModule",{value:!0});const e=qs.__importDefault(Ou());class s extends e.default{select(r){let i=!1;const o=(r??"*").split("").map(a=>/\s/.test(a)&&!i?"":(a==='"'&&(i=!i),a)).join("");return this.url.searchParams.set("select",o),this.headers.append("Prefer","return=representation"),this}order(r,{ascending:i=!0,nullsFirst:o,foreignTable:a,referencedTable:l=a}={}){const c=l?`${l}.order`:"order",d=this.url.searchParams.get(c);return this.url.searchParams.set(c,`${d?`${d},`:""}${r}.${i?"asc":"desc"}${o===void 0?"":o?".nullsfirst":".nullslast"}`),this}limit(r,{foreignTable:i,referencedTable:o=i}={}){const a=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(a,`${r}`),this}range(r,i,{foreignTable:o,referencedTable:a=o}={}){const l=typeof a>"u"?"offset":`${a}.offset`,c=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(l,`${r}`),this.url.searchParams.set(c,`${i-r+1}`),this}abortSignal(r){return this.signal=r,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:r=!1,verbose:i=!1,settings:o=!1,buffers:a=!1,wal:l=!1,format:c="text"}={}){var d;const h=[r?"analyze":null,i?"verbose":null,o?"settings":null,a?"buffers":null,l?"wal":null].filter(Boolean).join("|"),p=(d=this.headers.get("Accept"))!==null&&d!==void 0?d:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${c}; for="${p}"; options=${h};`),c==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(r){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${r}`),this}}return $n.default=s,$n}var aa;function Gi(){if(aa)return xn;aa=1,Object.defineProperty(xn,"__esModule",{value:!0});const e=qs.__importDefault(Au());class s extends e.default{eq(r,i){return this.url.searchParams.append(r,`eq.${i}`),this}neq(r,i){return this.url.searchParams.append(r,`neq.${i}`),this}gt(r,i){return this.url.searchParams.append(r,`gt.${i}`),this}gte(r,i){return this.url.searchParams.append(r,`gte.${i}`),this}lt(r,i){return this.url.searchParams.append(r,`lt.${i}`),this}lte(r,i){return this.url.searchParams.append(r,`lte.${i}`),this}like(r,i){return this.url.searchParams.append(r,`like.${i}`),this}likeAllOf(r,i){return this.url.searchParams.append(r,`like(all).{${i.join(",")}}`),this}likeAnyOf(r,i){return this.url.searchParams.append(r,`like(any).{${i.join(",")}}`),this}ilike(r,i){return this.url.searchParams.append(r,`ilike.${i}`),this}ilikeAllOf(r,i){return this.url.searchParams.append(r,`ilike(all).{${i.join(",")}}`),this}ilikeAnyOf(r,i){return this.url.searchParams.append(r,`ilike(any).{${i.join(",")}}`),this}is(r,i){return this.url.searchParams.append(r,`is.${i}`),this}in(r,i){const o=Array.from(new Set(i)).map(a=>typeof a=="string"&&new RegExp("[,()]").test(a)?`"${a}"`:`${a}`).join(",");return this.url.searchParams.append(r,`in.(${o})`),this}contains(r,i){return typeof i=="string"?this.url.searchParams.append(r,`cs.${i}`):Array.isArray(i)?this.url.searchParams.append(r,`cs.{${i.join(",")}}`):this.url.searchParams.append(r,`cs.${JSON.stringify(i)}`),this}containedBy(r,i){return typeof i=="string"?this.url.searchParams.append(r,`cd.${i}`):Array.isArray(i)?this.url.searchParams.append(r,`cd.{${i.join(",")}}`):this.url.searchParams.append(r,`cd.${JSON.stringify(i)}`),this}rangeGt(r,i){return this.url.searchParams.append(r,`sr.${i}`),this}rangeGte(r,i){return this.url.searchParams.append(r,`nxl.${i}`),this}rangeLt(r,i){return this.url.searchParams.append(r,`sl.${i}`),this}rangeLte(r,i){return this.url.searchParams.append(r,`nxr.${i}`),this}rangeAdjacent(r,i){return this.url.searchParams.append(r,`adj.${i}`),this}overlaps(r,i){return typeof i=="string"?this.url.searchParams.append(r,`ov.${i}`):this.url.searchParams.append(r,`ov.{${i.join(",")}}`),this}textSearch(r,i,{config:o,type:a}={}){let l="";a==="plain"?l="pl":a==="phrase"?l="ph":a==="websearch"&&(l="w");const c=o===void 0?"":`(${o})`;return this.url.searchParams.append(r,`${l}fts${c}.${i}`),this}match(r){return Object.entries(r).forEach(([i,o])=>{this.url.searchParams.append(i,`eq.${o}`)}),this}not(r,i,o){return this.url.searchParams.append(r,`not.${i}.${o}`),this}or(r,{foreignTable:i,referencedTable:o=i}={}){const a=o?`${o}.or`:"or";return this.url.searchParams.append(a,`(${r})`),this}filter(r,i,o){return this.url.searchParams.append(r,`${i}.${o}`),this}}return xn.default=s,xn}var la;function xu(){if(la)return An;la=1,Object.defineProperty(An,"__esModule",{value:!0});const e=qs.__importDefault(Gi());class s{constructor(r,{headers:i={},schema:o,fetch:a}){this.url=r,this.headers=new Headers(i),this.schema=o,this.fetch=a}select(r,i){const{head:o=!1,count:a}=i??{},l=o?"HEAD":"GET";let c=!1;const d=(r??"*").split("").map(h=>/\s/.test(h)&&!c?"":(h==='"'&&(c=!c),h)).join("");return this.url.searchParams.set("select",d),a&&this.headers.append("Prefer",`count=${a}`),new e.default({method:l,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(r,{count:i,defaultToNull:o=!0}={}){var a;const l="POST";if(i&&this.headers.append("Prefer",`count=${i}`),o||this.headers.append("Prefer","missing=default"),Array.isArray(r)){const c=r.reduce((d,h)=>d.concat(Object.keys(h)),[]);if(c.length>0){const d=[...new Set(c)].map(h=>`"${h}"`);this.url.searchParams.set("columns",d.join(","))}}return new e.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:r,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}upsert(r,{onConflict:i,ignoreDuplicates:o=!1,count:a,defaultToNull:l=!0}={}){var c;const d="POST";if(this.headers.append("Prefer",`resolution=${o?"ignore":"merge"}-duplicates`),i!==void 0&&this.url.searchParams.set("on_conflict",i),a&&this.headers.append("Prefer",`count=${a}`),l||this.headers.append("Prefer","missing=default"),Array.isArray(r)){const h=r.reduce((p,f)=>p.concat(Object.keys(f)),[]);if(h.length>0){const p=[...new Set(h)].map(f=>`"${f}"`);this.url.searchParams.set("columns",p.join(","))}}return new e.default({method:d,url:this.url,headers:this.headers,schema:this.schema,body:r,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}update(r,{count:i}={}){var o;const a="PATCH";return i&&this.headers.append("Prefer",`count=${i}`),new e.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:r,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}delete({count:r}={}){var i;const o="DELETE";return r&&this.headers.append("Prefer",`count=${r}`),new e.default({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}}return An.default=s,An}var ua;function Jf(){if(ua)return On;ua=1,Object.defineProperty(On,"__esModule",{value:!0});const t=qs,e=t.__importDefault(xu()),s=t.__importDefault(Gi());class n{constructor(i,{headers:o={},schema:a,fetch:l}={}){this.url=i,this.headers=new Headers(o),this.schemaName=a,this.fetch=l}from(i){const o=new URL(`${this.url}/${i}`);return new e.default(o,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(i){return new n(this.url,{headers:this.headers,schema:i,fetch:this.fetch})}rpc(i,o={},{head:a=!1,get:l=!1,count:c}={}){var d;let h;const p=new URL(`${this.url}/rpc/${i}`);let f;a||l?(h=a?"HEAD":"GET",Object.entries(o).filter(([w,E])=>E!==void 0).map(([w,E])=>[w,Array.isArray(E)?`{${E.join(",")}}`:`${E}`]).forEach(([w,E])=>{p.searchParams.append(w,E)})):(h="POST",f=o);const b=new Headers(this.headers);return c&&b.set("Prefer",`count=${c}`),new s.default({method:h,url:p,headers:b,schema:this.schemaName,body:f,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}}return On.default=n,On}var ca;function Qf(){if(ca)return Ke;ca=1,Object.defineProperty(Ke,"__esModule",{value:!0}),Ke.PostgrestError=Ke.PostgrestBuilder=Ke.PostgrestTransformBuilder=Ke.PostgrestFilterBuilder=Ke.PostgrestQueryBuilder=Ke.PostgrestClient=void 0;const t=qs,e=t.__importDefault(Jf());Ke.PostgrestClient=e.default;const s=t.__importDefault(xu());Ke.PostgrestQueryBuilder=s.default;const n=t.__importDefault(Gi());Ke.PostgrestFilterBuilder=n.default;const r=t.__importDefault(Au());Ke.PostgrestTransformBuilder=r.default;const i=t.__importDefault(Ou());Ke.PostgrestBuilder=i.default;const o=t.__importDefault(Cu());return Ke.PostgrestError=o.default,Ke.default={PostgrestClient:e.default,PostgrestQueryBuilder:s.default,PostgrestFilterBuilder:n.default,PostgrestTransformBuilder:r.default,PostgrestBuilder:i.default,PostgrestError:o.default},Ke}var Yf=Qf();const Xf=Ff(Yf),{PostgrestClient:Zf,PostgrestQueryBuilder:u1,PostgrestFilterBuilder:c1,PostgrestTransformBuilder:d1,PostgrestBuilder:h1,PostgrestError:f1}=Xf;class ep{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const s=process.versions;if(s&&s.node){const n=s.node,r=parseInt(n.replace(/^v/,"").split(".")[0]);return r>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${r} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${r} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let s=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(s+=`

Suggested solution: ${e.workaround}`),new Error(s)}static createWebSocket(e,s){const n=this.getWebSocketConstructor();return new n(e,s)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const tp="2.76.1",sp=`realtime-js/${tp}`,np="1.0.0",vi=1e4,rp=1e3,ip=100;var on;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(on||(on={}));var Fe;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(Fe||(Fe={}));var bt;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(bt||(bt={}));var gi;(function(t){t.websocket="websocket"})(gi||(gi={}));var us;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(us||(us={}));class op{constructor(){this.HEADER_LENGTH=1}decode(e,s){return e.constructor===ArrayBuffer?s(this._binaryDecode(e)):s(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const s=new DataView(e),n=new TextDecoder;return this._decodeBroadcast(e,s,n)}_decodeBroadcast(e,s,n){const r=s.getUint8(1),i=s.getUint8(2);let o=this.HEADER_LENGTH+2;const a=n.decode(e.slice(o,o+r));o=o+r;const l=n.decode(e.slice(o,o+i));o=o+i;const c=JSON.parse(n.decode(e.slice(o,e.byteLength)));return{ref:null,topic:a,event:l,payload:c}}}class $u{constructor(e,s){this.callback=e,this.timerCalc=s,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=s}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var $e;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})($e||($e={}));const da=(t,e,s={})=>{var n;const r=(n=s.skipTypes)!==null&&n!==void 0?n:[];return e?Object.keys(e).reduce((i,o)=>(i[o]=ap(o,t,e,r),i),{}):{}},ap=(t,e,s,n)=>{const r=e.find(a=>a.name===t),i=r?.type,o=s[t];return i&&!n.includes(i)?Ru(i,o):mi(o)},Ru=(t,e)=>{if(t.charAt(0)==="_"){const s=t.slice(1,t.length);return dp(e,s)}switch(t){case $e.bool:return lp(e);case $e.float4:case $e.float8:case $e.int2:case $e.int4:case $e.int8:case $e.numeric:case $e.oid:return up(e);case $e.json:case $e.jsonb:return cp(e);case $e.timestamp:return hp(e);case $e.abstime:case $e.date:case $e.daterange:case $e.int4range:case $e.int8range:case $e.money:case $e.reltime:case $e.text:case $e.time:case $e.timestamptz:case $e.timetz:case $e.tsrange:case $e.tstzrange:return mi(e);default:return mi(e)}},mi=t=>t,lp=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},up=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},cp=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},dp=(t,e)=>{if(typeof t!="string")return t;const s=t.length-1,n=t[s];if(t[0]==="{"&&n==="}"){let i;const o=t.slice(1,s);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(a=>Ru(e,a))}return t},hp=t=>typeof t=="string"?t.replace(" ","T"):t,Pu=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class Vr{constructor(e,s,n={},r=vi){this.channel=e,this.event=s,this.payload=n,this.timeout=r,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,s){var n;return this._hasReceived(e)&&s((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:s}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=s=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=s,this._matchReceive(s)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,s){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:s})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:s}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(s))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var ha;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(ha||(ha={}));class an{constructor(e,s){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=s?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},r=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=an.syncState(this.state,r,i,o),this.pendingDiffs.forEach(l=>{this.state=an.syncDiff(this.state,l,i,o)}),this.pendingDiffs=[],a()}),this.channel._on(n.diff,{},r=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(r):(this.state=an.syncDiff(this.state,r,i,o),a())}),this.onJoin((r,i,o)=>{this.channel._trigger("presence",{event:"join",key:r,currentPresences:i,newPresences:o})}),this.onLeave((r,i,o)=>{this.channel._trigger("presence",{event:"leave",key:r,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,s,n,r){const i=this.cloneDeep(e),o=this.transformState(s),a={},l={};return this.map(i,(c,d)=>{o[c]||(l[c]=d)}),this.map(o,(c,d)=>{const h=i[c];if(h){const p=d.map(E=>E.presence_ref),f=h.map(E=>E.presence_ref),b=d.filter(E=>f.indexOf(E.presence_ref)<0),w=h.filter(E=>p.indexOf(E.presence_ref)<0);b.length>0&&(a[c]=b),w.length>0&&(l[c]=w)}else a[c]=d}),this.syncDiff(i,{joins:a,leaves:l},n,r)}static syncDiff(e,s,n,r){const{joins:i,leaves:o}={joins:this.transformState(s.joins),leaves:this.transformState(s.leaves)};return n||(n=()=>{}),r||(r=()=>{}),this.map(i,(a,l)=>{var c;const d=(c=e[a])!==null&&c!==void 0?c:[];if(e[a]=this.cloneDeep(l),d.length>0){const h=e[a].map(f=>f.presence_ref),p=d.filter(f=>h.indexOf(f.presence_ref)<0);e[a].unshift(...p)}n(a,d,l)}),this.map(o,(a,l)=>{let c=e[a];if(!c)return;const d=l.map(h=>h.presence_ref);c=c.filter(h=>d.indexOf(h.presence_ref)<0),e[a]=c,r(a,c,l),c.length===0&&delete e[a]}),e}static map(e,s){return Object.getOwnPropertyNames(e).map(n=>s(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((s,n)=>{const r=e[n];return"metas"in r?s[n]=r.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):s[n]=r,s},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var fa;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(fa||(fa={}));var ln;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(ln||(ln={}));var Dt;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Dt||(Dt={}));class zi{constructor(e,s={config:{}},n){var r,i;if(this.topic=e,this.params=s,this.socket=n,this.bindings={},this.state=Fe.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},s.config),this.timeout=this.socket.timeout,this.joinPush=new Vr(this,bt.join,this.params,this.timeout),this.rejoinTimer=new $u(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Fe.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Fe.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Fe.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Fe.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Fe.errored,this.rejoinTimer.scheduleTimeout())}),this._on(bt.reply,{},(o,a)=>{this._trigger(this._replyEventName(a),o)}),this.presence=new an(this),this.broadcastEndpointURL=Pu(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(r=this.params.config)===null||r===void 0?void 0:r.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,s=this.timeout){var n,r,i;if(this.socket.isConnected()||this.socket.connect(),this.state==Fe.closed){const{config:{broadcast:o,presence:a,private:l}}=this.params,c=(r=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(f=>f.filter))!==null&&r!==void 0?r:[],d=!!this.bindings[ln.PRESENCE]&&this.bindings[ln.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,h={},p={broadcast:o,presence:Object.assign(Object.assign({},a),{enabled:d}),postgres_changes:c,private:l};this.socket.accessTokenValue&&(h.access_token=this.socket.accessTokenValue),this._onError(f=>e?.(Dt.CHANNEL_ERROR,f)),this._onClose(()=>e?.(Dt.CLOSED)),this.updateJoinPayload(Object.assign({config:p},h)),this.joinedOnce=!0,this._rejoin(s),this.joinPush.receive("ok",async({postgres_changes:f})=>{var b;if(this.socket.setAuth(),f===void 0){e?.(Dt.SUBSCRIBED);return}else{const w=this.bindings.postgres_changes,E=(b=w?.length)!==null&&b!==void 0?b:0,_=[];for(let v=0;v<E;v++){const g=w[v],{filter:{event:S,schema:O,table:D,filter:L}}=g,V=f&&f[v];if(V&&V.event===S&&V.schema===O&&V.table===D&&V.filter===L)_.push(Object.assign(Object.assign({},g),{id:V.id}));else{this.unsubscribe(),this.state=Fe.errored,e?.(Dt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=_,e&&e(Dt.SUBSCRIBED);return}}).receive("error",f=>{this.state=Fe.errored,e?.(Dt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(f).join(", ")||"error")))}).receive("timeout",()=>{e?.(Dt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,s={}){return await this.send({type:"presence",event:"track",payload:e},s.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,s,n){return this.state===Fe.joined&&e===ln.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,s,n)}async httpSend(e,s,n={}){var r;const i=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(s==null)return Promise.reject("Payload is required for httpSend()");const o={method:"POST",headers:{Authorization:i,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:s,private:this.private}]})},a=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);if(a.status===202)return{success:!0};let l=a.statusText;try{const c=await a.json();l=c.error||c.message||l}catch{}return Promise.reject(new Error(l))}async send(e,s={}){var n,r;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:i,payload:o}=e,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(n=s.timeout)!==null&&n!==void 0?n:this.timeout);return await((r=c.body)===null||r===void 0?void 0:r.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,a,l;const c=this._push(e.type,e,s.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&i("ok"),c.receive("ok",()=>i("ok")),c.receive("error",()=>i("error")),c.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Fe.leaving;const s=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(bt.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(r=>{n=new Vr(this,bt.leave,{},e),n.receive("ok",()=>{s(),r("ok")}).receive("timeout",()=>{s(),r("timed out")}).receive("error",()=>{r("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n?.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Fe.closed,this.bindings={}}async _fetchWithTimeout(e,s,n){const r=new AbortController,i=setTimeout(()=>r.abort(),n),o=await this.socket.fetch(e,Object.assign(Object.assign({},s),{signal:r.signal}));return clearTimeout(i),o}_push(e,s,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let r=new Vr(this,e,s,n);return this._canPush()?r.send():this._addToPushBuffer(r),r}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>ip){const s=this.pushBuffer.shift();s&&(s.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${s.event}`,s.payload))}}_onMessage(e,s,n){return s}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,s,n){var r,i;const o=e.toLocaleLowerCase(),{close:a,error:l,leave:c,join:d}=bt;if(n&&[a,l,c,d].indexOf(o)>=0&&n!==this._joinRef())return;let p=this._onMessage(o,s,n);if(s&&!p)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(r=this.bindings.postgres_changes)===null||r===void 0||r.filter(f=>{var b,w,E;return((b=f.filter)===null||b===void 0?void 0:b.event)==="*"||((E=(w=f.filter)===null||w===void 0?void 0:w.event)===null||E===void 0?void 0:E.toLocaleLowerCase())===o}).map(f=>f.callback(p,n)):(i=this.bindings[o])===null||i===void 0||i.filter(f=>{var b,w,E,_,v,g;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in f){const S=f.id,O=(b=f.filter)===null||b===void 0?void 0:b.event;return S&&((w=s.ids)===null||w===void 0?void 0:w.includes(S))&&(O==="*"||O?.toLocaleLowerCase()===((E=s.data)===null||E===void 0?void 0:E.type.toLocaleLowerCase()))}else{const S=(v=(_=f?.filter)===null||_===void 0?void 0:_.event)===null||v===void 0?void 0:v.toLocaleLowerCase();return S==="*"||S===((g=s?.event)===null||g===void 0?void 0:g.toLocaleLowerCase())}else return f.type.toLocaleLowerCase()===o}).map(f=>{if(typeof p=="object"&&"ids"in p){const b=p.data,{schema:w,table:E,commit_timestamp:_,type:v,errors:g}=b;p=Object.assign(Object.assign({},{schema:w,table:E,commit_timestamp:_,eventType:v,new:{},old:{},errors:g}),this._getPayloadRecords(b))}f.callback(p,n)})}_isClosed(){return this.state===Fe.closed}_isJoined(){return this.state===Fe.joined}_isJoining(){return this.state===Fe.joining}_isLeaving(){return this.state===Fe.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,s,n){const r=e.toLocaleLowerCase(),i={type:r,filter:s,callback:n};return this.bindings[r]?this.bindings[r].push(i):this.bindings[r]=[i],this}_off(e,s){const n=e.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(r=>{var i;return!(((i=r.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&zi.isEqual(r.filter,s))})),this}static isEqual(e,s){if(Object.keys(e).length!==Object.keys(s).length)return!1;for(const n in e)if(e[n]!==s[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(bt.close,{},e)}_onError(e){this._on(bt.error,{},s=>e(s))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Fe.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const s={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(s.new=da(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(s.old=da(e.columns,e.old_record)),s}}const qr=()=>{},In={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},fp=[1e3,2e3,5e3,1e4],pp=1e4,vp=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class gp{constructor(e,s){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=vi,this.transport=null,this.heartbeatIntervalMs=In.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=qr,this.ref=0,this.reconnectTimer=null,this.logger=qr,this.conn=null,this.sendBuffer=[],this.serializer=new op,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=r=>{let i;return r?i=r:typeof fetch>"u"?i=(...o)=>Vs(async()=>{const{default:a}=await Promise.resolve().then(()=>gs);return{default:a}},void 0).then(({default:a})=>a(...o)).catch(a=>{throw new Error(`Failed to load @supabase/node-fetch: ${a.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):i=fetch,(...o)=>i(...o)},!(!((n=s?.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=s.params.apikey,this.endPoint=`${e}/${gi.websocket}`,this.httpEndpoint=Pu(e),this._initializeOptions(s),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(s?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=ep.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const s=e.message;throw s.includes("Node.js")?new Error(`${s}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${s}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:np}))}disconnect(e,s){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},e?this.conn.close(e,s??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const s=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),s}async removeAllChannels(){const e=await Promise.all(this.channels.map(s=>s.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,s,n){this.logger(e,s,n)}connectionState(){switch(this.conn&&this.conn.readyState){case on.connecting:return us.Connecting;case on.open:return us.Open;case on.closing:return us.Closing;default:return us.Closed}}isConnected(){return this.connectionState()===us.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,s={config:{}}){const n=`realtime:${e}`,r=this.getChannels().find(i=>i.topic===n);if(r)return r;{const i=new zi(`realtime:${e}`,s,this);return this.channels.push(i),i}}push(e){const{topic:s,event:n,payload:r,ref:i}=e,o=()=>{this.encode(e,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${s} ${n} (${i})`,r),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(s){this.log("error","error in heartbeat callback",s)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(s){this.log("error","error in heartbeat callback",s)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(rp,"heartbeat timeout"),setTimeout(()=>{var s;this.isConnected()||(s=this.reconnectTimer)===null||s===void 0||s.scheduleTimeout()},In.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(s){this.log("error","error in heartbeat callback",s)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let s=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));s&&(this.log("transport",`leaving duplicate topic "${e}"`),s.unsubscribe())}_remove(e){this.channels=this.channels.filter(s=>s.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,s=>{if(s.topic==="phoenix"&&s.event==="phx_reply")try{this.heartbeatCallback(s.payload.status==="ok"?"ok":"error")}catch(c){this.log("error","error in heartbeat callback",c)}s.ref&&s.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:r,payload:i,ref:o}=s,a=o?`(${o})`:"",l=i.status||"";this.log("receive",`${l} ${n} ${r} ${a}`.trim(),i),this.channels.filter(c=>c._isMember(n)).forEach(c=>c._trigger(r,i,o)),this._triggerStateCallbacks("message",s)})}_clearTimer(e){var s;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((s=this.reconnectTimer)===null||s===void 0||s.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=s=>{this.log("worker","worker error",s.message),this.workerRef.terminate()},this.workerRef.onmessage=s=>{s.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var s;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(s=this.reconnectTimer)===null||s===void 0||s.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(bt.error))}_appendParams(e,s){if(Object.keys(s).length===0)return e;const n=e.match(/\?/)?"&":"?",r=new URLSearchParams(s);return`${e}${n}${r}`}_workerObjectUrl(e){let s;if(e)s=e;else{const n=new Blob([vp],{type:"application/javascript"});s=URL.createObjectURL(n)}return s}_setConnectionState(e,s=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=s)}async _performAuth(e=null){let s;e?s=e:this.accessToken?s=await this.accessToken():s=this.accessTokenValue,this.accessTokenValue!=s&&(this.accessTokenValue=s,this.channels.forEach(n=>{const r={access_token:s,version:sp};s&&n.updateJoinPayload(r),n.joinedOnce&&n._isJoined()&&n._push(bt.access_token,{access_token:s})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(s=>{this.log("error",`error setting auth in ${e}`,s)})}_triggerStateCallbacks(e,s){try{this.stateChangeCallbacks[e].forEach(n=>{try{n(s)}catch(r){this.log("error",`error in ${e} callback`,r)}})}catch(n){this.log("error",`error triggering ${e} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new $u(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},In.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var s,n,r,i,o,a,l,c,d;if(this.transport=(s=e?.transport)!==null&&s!==void 0?s:null,this.timeout=(n=e?.timeout)!==null&&n!==void 0?n:vi,this.heartbeatIntervalMs=(r=e?.heartbeatIntervalMs)!==null&&r!==void 0?r:In.HEARTBEAT_INTERVAL,this.worker=(i=e?.worker)!==null&&i!==void 0?i:!1,this.accessToken=(o=e?.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(a=e?.heartbeatCallback)!==null&&a!==void 0?a:qr,e?.params&&(this.params=e.params),e?.logger&&(this.logger=e.logger),(e?.logLevel||e?.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(l=e?.reconnectAfterMs)!==null&&l!==void 0?l:(h=>fp[h-1]||pp),this.encode=(c=e?.encode)!==null&&c!==void 0?c:((h,p)=>p(JSON.stringify(h))),this.decode=(d=e?.decode)!==null&&d!==void 0?d:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e?.workerUrl}}}class Ji extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function Ne(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class mp extends Ji{constructor(e,s,n){super(e),this.name="StorageApiError",this.status=s,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class _i extends Ji{constructor(e,s){super(e),this.name="StorageUnknownError",this.originalError=s}}const Qi=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...s)=>Vs(async()=>{const{default:n}=await Promise.resolve().then(()=>gs);return{default:n}},void 0).then(({default:n})=>n(...s)):e=fetch,(...s)=>e(...s)},_p=()=>X(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Vs(()=>Promise.resolve().then(()=>gs),void 0)).Response:Response}),yi=t=>{if(Array.isArray(t))return t.map(s=>yi(s));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([s,n])=>{const r=s.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[r]=yi(n)}),e},yp=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},Fr=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),bp=(t,e,s)=>X(void 0,void 0,void 0,function*(){const n=yield _p();t instanceof n&&!s?.noResolveJson?t.json().then(r=>{const i=t.status||500,o=r?.statusCode||i+"";e(new mp(Fr(r),i,o))}).catch(r=>{e(new _i(Fr(r),r))}):e(new _i(Fr(t),t))}),wp=(t,e,s,n)=>{const r={method:t,headers:e?.headers||{}};return t==="GET"||!n?r:(yp(n)?(r.headers=Object.assign({"Content-Type":"application/json"},e?.headers),r.body=JSON.stringify(n)):r.body=n,e?.duplex&&(r.duplex=e.duplex),Object.assign(Object.assign({},r),s))};function En(t,e,s,n,r,i){return X(this,void 0,void 0,function*(){return new Promise((o,a)=>{t(s,wp(e,n,r,i)).then(l=>{if(!l.ok)throw l;return n?.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>bp(l,a,n))})})}function vn(t,e,s,n){return X(this,void 0,void 0,function*(){return En(t,"GET",e,s,n)})}function yt(t,e,s,n,r){return X(this,void 0,void 0,function*(){return En(t,"POST",e,n,r,s)})}function bi(t,e,s,n,r){return X(this,void 0,void 0,function*(){return En(t,"PUT",e,n,r,s)})}function Ep(t,e,s,n){return X(this,void 0,void 0,function*(){return En(t,"HEAD",e,Object.assign(Object.assign({},s),{noResolveJson:!0}),n)})}function Yi(t,e,s,n,r){return X(this,void 0,void 0,function*(){return En(t,"DELETE",e,n,r,s)})}class Sp{constructor(e,s){this.downloadFn=e,this.shouldThrowOnError=s}then(e,s){return this.execute().then(e,s)}execute(){return X(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Ne(e))return{data:null,error:e};throw e}})}}var Iu;class kp{constructor(e,s){this.downloadFn=e,this.shouldThrowOnError=s,this[Iu]="BlobDownloadBuilder",this.promise=null}asStream(){return new Sp(this.downloadFn,this.shouldThrowOnError)}then(e,s){return this.getPromise().then(e,s)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return X(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Ne(e))return{data:null,error:e};throw e}})}}Iu=Symbol.toStringTag;const Tp={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},pa={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Cp{constructor(e,s={},n,r){this.shouldThrowOnError=!1,this.url=e,this.headers=s,this.bucketId=n,this.fetch=Qi(r)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,s,n,r){return X(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},pa),r);let a=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l))):(i=n,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),r?.headers&&(a=Object.assign(Object.assign({},a),r.headers));const c=this._removeEmptyFolders(s),d=this._getFinalPath(c),h=yield(e=="PUT"?bi:yt)(this.fetch,`${this.url}/object/${d}`,i,Object.assign({headers:a},o?.duplex?{duplex:o.duplex}:{}));return{data:{path:c,id:h.Id,fullPath:h.Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ne(i))return{data:null,error:i};throw i}})}upload(e,s,n){return X(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,s,n)})}uploadToSignedUrl(e,s,n,r){return X(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),o=this._getFinalPath(i),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",s);try{let l;const c=Object.assign({upsert:pa.upsert},r),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&n instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",n)):typeof FormData<"u"&&n instanceof FormData?(l=n,l.append("cacheControl",c.cacheControl)):(l=n,d["cache-control"]=`max-age=${c.cacheControl}`,d["content-type"]=c.contentType);const h=yield bi(this.fetch,a.toString(),l,{headers:d});return{data:{path:i,fullPath:h.Key},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Ne(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e,s){return X(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e);const r=Object.assign({},this.headers);s?.upsert&&(r["x-upsert"]="true");const i=yield yt(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:r}),o=new URL(this.url+i.url),a=o.searchParams.get("token");if(!a)throw new Ji("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:a},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ne(n))return{data:null,error:n};throw n}})}update(e,s,n){return X(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,s,n)})}move(e,s,n){return X(this,void 0,void 0,function*(){try{return{data:yield yt(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:s,destinationBucket:n?.destinationBucket},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ne(r))return{data:null,error:r};throw r}})}copy(e,s,n){return X(this,void 0,void 0,function*(){try{return{data:{path:(yield yt(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:s,destinationBucket:n?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ne(r))return{data:null,error:r};throw r}})}createSignedUrl(e,s,n){return X(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e),i=yield yt(this.fetch,`${this.url}/object/sign/${r}`,Object.assign({expiresIn:s},n?.transform?{transform:n.transform}:{}),{headers:this.headers});const o=n?.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ne(r))return{data:null,error:r};throw r}})}createSignedUrls(e,s,n){return X(this,void 0,void 0,function*(){try{const r=yield yt(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:s,paths:e},{headers:this.headers}),i=n?.download?`&download=${n.download===!0?"":n.download}`:"";return{data:r.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ne(r))return{data:null,error:r};throw r}})}download(e,s){const r=typeof s?.transform<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString(s?.transform||{}),o=i?`?${i}`:"",a=this._getFinalPath(e),l=()=>vn(this.fetch,`${this.url}/${r}/${a}${o}`,{headers:this.headers,noResolveJson:!0});return new kp(l,this.shouldThrowOnError)}info(e){return X(this,void 0,void 0,function*(){const s=this._getFinalPath(e);try{const n=yield vn(this.fetch,`${this.url}/object/info/${s}`,{headers:this.headers});return{data:yi(n),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ne(n))return{data:null,error:n};throw n}})}exists(e){return X(this,void 0,void 0,function*(){const s=this._getFinalPath(e);try{return yield Ep(this.fetch,`${this.url}/object/${s}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ne(n)&&n instanceof _i){const r=n.originalError;if([400,404].includes(r?.status))return{data:!1,error:n}}throw n}})}getPublicUrl(e,s){const n=this._getFinalPath(e),r=[],i=s?.download?`download=${s.download===!0?"":s.download}`:"";i!==""&&r.push(i);const a=typeof s?.transform<"u"?"render/image":"object",l=this.transformOptsToQueryString(s?.transform||{});l!==""&&r.push(l);let c=r.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${n}${c}`)}}}remove(e){return X(this,void 0,void 0,function*(){try{return{data:yield Yi(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Ne(s))return{data:null,error:s};throw s}})}list(e,s,n){return X(this,void 0,void 0,function*(){try{const r=Object.assign(Object.assign(Object.assign({},Tp),s),{prefix:e||""});return{data:yield yt(this.fetch,`${this.url}/object/list/${this.bucketId}`,r,{headers:this.headers},n),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ne(r))return{data:null,error:r};throw r}})}listV2(e,s){return X(this,void 0,void 0,function*(){try{const n=Object.assign({},e);return{data:yield yt(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},s),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ne(n))return{data:null,error:n};throw n}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const s=[];return e.width&&s.push(`width=${e.width}`),e.height&&s.push(`height=${e.height}`),e.resize&&s.push(`resize=${e.resize}`),e.format&&s.push(`format=${e.format}`),e.quality&&s.push(`quality=${e.quality}`),s.join("&")}}const ju="2.76.1",Nu={"X-Client-Info":`storage-js/${ju}`};class Op{constructor(e,s={},n,r){this.shouldThrowOnError=!1;const i=new URL(e);r?.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Nu),s),this.fetch=Qi(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return X(this,void 0,void 0,function*(){try{return{data:yield vn(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Ne(e))return{data:null,error:e};throw e}})}getBucket(e){return X(this,void 0,void 0,function*(){try{return{data:yield vn(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Ne(s))return{data:null,error:s};throw s}})}createBucket(e){return X(this,arguments,void 0,function*(s,n={public:!1}){try{return{data:yield yt(this.fetch,`${this.url}/bucket`,{id:s,name:s,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ne(r))return{data:null,error:r};throw r}})}updateBucket(e,s){return X(this,void 0,void 0,function*(){try{return{data:yield bi(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ne(n))return{data:null,error:n};throw n}})}emptyBucket(e){return X(this,void 0,void 0,function*(){try{return{data:yield yt(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Ne(s))return{data:null,error:s};throw s}})}deleteBucket(e){return X(this,void 0,void 0,function*(){try{return{data:yield Yi(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Ne(s))return{data:null,error:s};throw s}})}}class Ap{constructor(e,s={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Nu),s),this.fetch=Qi(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return X(this,void 0,void 0,function*(){try{return{data:yield yt(this.fetch,`${this.url}/bucket`,{name:e},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Ne(s))return{data:null,error:s};throw s}})}listBuckets(e){return X(this,void 0,void 0,function*(){try{const s=new URLSearchParams;e?.limit!==void 0&&s.set("limit",e.limit.toString()),e?.offset!==void 0&&s.set("offset",e.offset.toString()),e?.sortColumn&&s.set("sortColumn",e.sortColumn),e?.sortOrder&&s.set("sortOrder",e.sortOrder),e?.search&&s.set("search",e.search);const n=s.toString(),r=n?`${this.url}/bucket?${n}`:`${this.url}/bucket`,i=yield vn(this.fetch,r,{headers:this.headers});return{data:Array.isArray(i)?i.filter(a=>a.type==="ANALYTICS"):[],error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Ne(s))return{data:null,error:s};throw s}})}deleteBucket(e){return X(this,void 0,void 0,function*(){try{return{data:yield Yi(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Ne(s))return{data:null,error:s};throw s}})}}const Xi={"X-Client-Info":`storage-js/${ju}`,"Content-Type":"application/json"};class Du extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function lt(t){return typeof t=="object"&&t!==null&&"__isStorageVectorsError"in t}class Hr extends Du{constructor(e,s,n){super(e),this.name="StorageVectorsApiError",this.status=s,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class xp extends Du{constructor(e,s){super(e),this.name="StorageVectorsUnknownError",this.originalError=s}}var va;(function(t){t.InternalError="InternalError",t.S3VectorConflictException="S3VectorConflictException",t.S3VectorNotFoundException="S3VectorNotFoundException",t.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",t.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",t.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(va||(va={}));const Zi=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...s)=>Vs(async()=>{const{default:n}=await Promise.resolve().then(()=>gs);return{default:n}},void 0).then(({default:n})=>n(...s)):e=fetch,(...s)=>e(...s)},$p=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},ga=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Rp=(t,e,s)=>X(void 0,void 0,void 0,function*(){if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!s?.noResolveJson){const r=t.status||500,i=t;if(typeof i.json=="function")i.json().then(o=>{const a=o?.statusCode||o?.code||r+"";e(new Hr(ga(o),r,a))}).catch(()=>{const o=r+"",a=i.statusText||`HTTP ${r} error`;e(new Hr(a,r,o))});else{const o=r+"",a=i.statusText||`HTTP ${r} error`;e(new Hr(a,r,o))}}else e(new xp(ga(t),t))}),Pp=(t,e,s,n)=>{const r={method:t,headers:e?.headers||{}};return n?($p(n)?(r.headers=Object.assign({"Content-Type":"application/json"},e?.headers),r.body=JSON.stringify(n)):r.body=n,Object.assign(Object.assign({},r),s)):r};function Ip(t,e,s,n,r,i){return X(this,void 0,void 0,function*(){return new Promise((o,a)=>{t(s,Pp(e,n,r,i)).then(l=>{if(!l.ok)throw l;if(n?.noResolveJson)return l;const c=l.headers.get("content-type");return!c||!c.includes("application/json")?{}:l.json()}).then(l=>o(l)).catch(l=>Rp(l,a,n))})})}function ut(t,e,s,n,r){return X(this,void 0,void 0,function*(){return Ip(t,"POST",e,n,r,s)})}class jp{constructor(e,s={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Xi),s),this.fetch=Zi(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(e){return X(this,void 0,void 0,function*(){try{return{data:(yield ut(this.fetch,`${this.url}/CreateIndex`,e,{headers:this.headers}))||{},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(lt(s))return{data:null,error:s};throw s}})}getIndex(e,s){return X(this,void 0,void 0,function*(){try{return{data:yield ut(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:e,indexName:s},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(lt(n))return{data:null,error:n};throw n}})}listIndexes(e){return X(this,void 0,void 0,function*(){try{return{data:yield ut(this.fetch,`${this.url}/ListIndexes`,e,{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(lt(s))return{data:null,error:s};throw s}})}deleteIndex(e,s){return X(this,void 0,void 0,function*(){try{return{data:(yield ut(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:e,indexName:s},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(lt(n))return{data:null,error:n};throw n}})}}class Np{constructor(e,s={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Xi),s),this.fetch=Zi(n)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(e){return X(this,void 0,void 0,function*(){try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield ut(this.fetch,`${this.url}/PutVectors`,e,{headers:this.headers}))||{},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(lt(s))return{data:null,error:s};throw s}})}getVectors(e){return X(this,void 0,void 0,function*(){try{return{data:yield ut(this.fetch,`${this.url}/GetVectors`,e,{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(lt(s))return{data:null,error:s};throw s}})}listVectors(e){return X(this,void 0,void 0,function*(){try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:yield ut(this.fetch,`${this.url}/ListVectors`,e,{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(lt(s))return{data:null,error:s};throw s}})}queryVectors(e){return X(this,void 0,void 0,function*(){try{return{data:yield ut(this.fetch,`${this.url}/QueryVectors`,e,{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(lt(s))return{data:null,error:s};throw s}})}deleteVectors(e){return X(this,void 0,void 0,function*(){try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield ut(this.fetch,`${this.url}/DeleteVectors`,e,{headers:this.headers}))||{},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(lt(s))return{data:null,error:s};throw s}})}}class Dp{constructor(e,s={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Xi),s),this.fetch=Zi(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return X(this,void 0,void 0,function*(){try{return{data:(yield ut(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(lt(s))return{data:null,error:s};throw s}})}getBucket(e){return X(this,void 0,void 0,function*(){try{return{data:yield ut(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:e},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(lt(s))return{data:null,error:s};throw s}})}listBuckets(){return X(this,arguments,void 0,function*(e={}){try{return{data:yield ut(this.fetch,`${this.url}/ListVectorBuckets`,e,{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(lt(s))return{data:null,error:s};throw s}})}deleteBucket(e){return X(this,void 0,void 0,function*(){try{return{data:(yield ut(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(lt(s))return{data:null,error:s};throw s}})}}class Up extends Dp{constructor(e,s={}){super(e,s.headers||{},s.fetch)}from(e){return new Lp(this.url,this.headers,e,this.fetch)}}class Lp extends jp{constructor(e,s,n,r){super(e,s,r),this.vectorBucketName=n}createIndex(e){const s=Object.create(null,{createIndex:{get:()=>super.createIndex}});return X(this,void 0,void 0,function*(){return s.createIndex.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const e=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return X(this,arguments,void 0,function*(s={}){return e.listIndexes.call(this,Object.assign(Object.assign({},s),{vectorBucketName:this.vectorBucketName}))})}getIndex(e){const s=Object.create(null,{getIndex:{get:()=>super.getIndex}});return X(this,void 0,void 0,function*(){return s.getIndex.call(this,this.vectorBucketName,e)})}deleteIndex(e){const s=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return X(this,void 0,void 0,function*(){return s.deleteIndex.call(this,this.vectorBucketName,e)})}index(e){return new Mp(this.url,this.headers,this.vectorBucketName,e,this.fetch)}}class Mp extends Np{constructor(e,s,n,r,i){super(e,s,i),this.vectorBucketName=n,this.indexName=r}putVectors(e){const s=Object.create(null,{putVectors:{get:()=>super.putVectors}});return X(this,void 0,void 0,function*(){return s.putVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(e){const s=Object.create(null,{getVectors:{get:()=>super.getVectors}});return X(this,void 0,void 0,function*(){return s.getVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const e=Object.create(null,{listVectors:{get:()=>super.listVectors}});return X(this,arguments,void 0,function*(s={}){return e.listVectors.call(this,Object.assign(Object.assign({},s),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(e){const s=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return X(this,void 0,void 0,function*(){return s.queryVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(e){const s=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return X(this,void 0,void 0,function*(){return s.deleteVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class Bp extends Op{constructor(e,s={},n,r){super(e,s,n,r)}from(e){return new Cp(this.url,this.headers,e,this.fetch)}get vectors(){return new Up(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new Ap(this.url+"/iceberg",this.headers,this.fetch)}}const Vp="2.76.1";let zs="";typeof Deno<"u"?zs="deno":typeof document<"u"?zs="web":typeof navigator<"u"&&navigator.product==="ReactNative"?zs="react-native":zs="node";const qp={"X-Client-Info":`supabase-js-${zs}/${Vp}`},Fp={headers:qp},Hp={schema:"public"},Wp={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Kp={},Gp=t=>{let e;return t?e=t:typeof fetch>"u"?e=ku:e=fetch,(...s)=>e(...s)},zp=()=>typeof Headers>"u"?Tu:Headers,Jp=(t,e,s)=>{const n=Gp(s),r=zp();return async(i,o)=>{var a;const l=(a=await e())!==null&&a!==void 0?a:t;let c=new r(o?.headers);return c.has("apikey")||c.set("apikey",t),c.has("Authorization")||c.set("Authorization",`Bearer ${l}`),n(i,Object.assign(Object.assign({},o),{headers:c}))}};function Qp(t){return t.endsWith("/")?t:t+"/"}function Yp(t,e){var s,n;const{db:r,auth:i,realtime:o,global:a}=t,{db:l,auth:c,realtime:d,global:h}=e,p={db:Object.assign(Object.assign({},l),r),auth:Object.assign(Object.assign({},c),i),realtime:Object.assign(Object.assign({},d),o),storage:{},global:Object.assign(Object.assign(Object.assign({},h),a),{headers:Object.assign(Object.assign({},(s=h?.headers)!==null&&s!==void 0?s:{}),(n=a?.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return t.accessToken?p.accessToken=t.accessToken:delete p.accessToken,p}function Xp(t){const e=t?.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(Qp(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const Uu="2.76.1",Cs=30*1e3,wi=3,Wr=wi*Cs,Zp="http://localhost:9999",ev="supabase.auth.token",tv={"X-Client-Info":`gotrue-js/${Uu}`},Ei="X-Supabase-Api-Version",Lu={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},sv=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,nv=600*1e3;class gn extends Error{constructor(e,s,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=s,this.code=n}}function te(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class rv extends gn{constructor(e,s,n){super(e,s,n),this.name="AuthApiError",this.status=s,this.code=n}}function iv(t){return te(t)&&t.name==="AuthApiError"}class cs extends gn{constructor(e,s){super(e),this.name="AuthUnknownError",this.originalError=s}}class ts extends gn{constructor(e,s,n,r){super(e,n,r),this.name=s,this.status=n}}class Kt extends ts{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function ov(t){return te(t)&&t.name==="AuthSessionMissingError"}class ys extends ts{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class jn extends ts{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Nn extends ts{constructor(e,s=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function av(t){return te(t)&&t.name==="AuthImplicitGrantRedirectError"}class ma extends ts{constructor(e,s=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Si extends ts{constructor(e,s){super(e,"AuthRetryableFetchError",s,void 0)}}function Kr(t){return te(t)&&t.name==="AuthRetryableFetchError"}class _a extends ts{constructor(e,s,n){super(e,"AuthWeakPasswordError",s,"weak_password"),this.reasons=n}}class ki extends ts{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const sr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),ya=` 	
\r=`.split(""),lv=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<ya.length;e+=1)t[ya[e].charCodeAt(0)]=-2;for(let e=0;e<sr.length;e+=1)t[sr[e].charCodeAt(0)]=e;return t})();function ba(t,e,s){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;s(sr[n]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;s(sr[n]),e.queuedBits-=6}}function Mu(t,e,s){const n=lv[t];if(n>-1)for(e.queue=e.queue<<6|n,e.queuedBits+=6;e.queuedBits>=8;)s(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function wa(t){const e=[],s=o=>{e.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},r={queue:0,queuedBits:0},i=o=>{dv(o,n,s)};for(let o=0;o<t.length;o+=1)Mu(t.charCodeAt(o),r,i);return e.join("")}function uv(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function cv(t,e){for(let s=0;s<t.length;s+=1){let n=t.charCodeAt(s);if(n>55295&&n<=56319){const r=(n-55296)*1024&65535;n=(t.charCodeAt(s+1)-56320&65535|r)+65536,s+=1}uv(n,e)}}function dv(t,e,s){if(e.utf8seq===0){if(t<=127){s(t);return}for(let n=1;n<6;n+=1)if((t>>7-n&1)===0){e.utf8seq=n;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&s(e.codepoint)}}function Ps(t){const e=[],s={queue:0,queuedBits:0},n=r=>{e.push(r)};for(let r=0;r<t.length;r+=1)Mu(t.charCodeAt(r),s,n);return new Uint8Array(e)}function hv(t){const e=[];return cv(t,s=>e.push(s)),new Uint8Array(e)}function hs(t){const e=[],s={queue:0,queuedBits:0},n=r=>{e.push(r)};return t.forEach(r=>ba(r,s,n)),ba(null,s,n),e.join("")}function fv(t){return Math.round(Date.now()/1e3)+t}function pv(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const at=()=>typeof window<"u"&&typeof document<"u",rs={tested:!1,writable:!1},Bu=()=>{if(!at())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(rs.tested)return rs.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),rs.tested=!0,rs.writable=!0}catch{rs.tested=!0,rs.writable=!1}return rs.writable};function vv(t){const e={},s=new URL(t);if(s.hash&&s.hash[0]==="#")try{new URLSearchParams(s.hash.substring(1)).forEach((r,i)=>{e[i]=r})}catch{}return s.searchParams.forEach((n,r)=>{e[r]=n}),e}const Vu=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...s)=>Vs(async()=>{const{default:n}=await Promise.resolve().then(()=>gs);return{default:n}},void 0).then(({default:n})=>n(...s)):e=fetch,(...s)=>e(...s)},gv=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Os=async(t,e,s)=>{await t.setItem(e,JSON.stringify(s))},is=async(t,e)=>{const s=await t.getItem(e);if(!s)return null;try{return JSON.parse(s)}catch{return s}},Ht=async(t,e)=>{await t.removeItem(e)};class Tr{constructor(){this.promise=new Tr.promiseConstructor((e,s)=>{this.resolve=e,this.reject=s})}}Tr.promiseConstructor=Promise;function Gr(t){const e=t.split(".");if(e.length!==3)throw new ki("Invalid JWT structure");for(let n=0;n<e.length;n++)if(!sv.test(e[n]))throw new ki("JWT not in base64url format");return{header:JSON.parse(wa(e[0])),payload:JSON.parse(wa(e[1])),signature:Ps(e[2]),raw:{header:e[0],payload:e[1]}}}async function mv(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function _v(t,e){return new Promise((n,r)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await t(i);if(!e(i,null,o)){n(o);return}}catch(o){if(!e(i,o)){r(o);return}}})()})}function yv(t){return("0"+t.toString(16)).substr(-2)}function bv(){const e=new Uint32Array(56);if(typeof crypto>"u"){const s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=s.length;let r="";for(let i=0;i<56;i++)r+=s.charAt(Math.floor(Math.random()*n));return r}return crypto.getRandomValues(e),Array.from(e,yv).join("")}async function wv(t){const s=new TextEncoder().encode(t),n=await crypto.subtle.digest("SHA-256",s),r=new Uint8Array(n);return Array.from(r).map(i=>String.fromCharCode(i)).join("")}async function Ev(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const s=await wv(t);return btoa(s).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function bs(t,e,s=!1){const n=bv();let r=n;s&&(r+="/PASSWORD_RECOVERY"),await Os(t,`${e}-code-verifier`,r);const i=await Ev(n);return[i,n===i?"plain":"s256"]}const Sv=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function kv(t){const e=t.headers.get(Ei);if(!e||!e.match(Sv))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function Tv(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function Cv(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Ov=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function ws(t){if(!Ov.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function zr(){const t={};return new Proxy(t,{get:(e,s)=>{if(s==="__isUserNotAvailableProxy")return!0;if(typeof s=="symbol"){const n=s.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${s}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,s)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${s}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,s)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${s}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Ea(t){return JSON.parse(JSON.stringify(t))}const as=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Av=[502,503,504];async function Sa(t){var e;if(!gv(t))throw new Si(as(t),0);if(Av.includes(t.status))throw new Si(as(t),t.status);let s;try{s=await t.json()}catch(i){throw new cs(as(i),i)}let n;const r=kv(t);if(r&&r.getTime()>=Lu["2024-01-01"].timestamp&&typeof s=="object"&&s&&typeof s.code=="string"?n=s.code:typeof s=="object"&&s&&typeof s.error_code=="string"&&(n=s.error_code),n){if(n==="weak_password")throw new _a(as(s),t.status,((e=s.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(n==="session_not_found")throw new Kt}else if(typeof s=="object"&&s&&typeof s.weak_password=="object"&&s.weak_password&&Array.isArray(s.weak_password.reasons)&&s.weak_password.reasons.length&&s.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new _a(as(s),t.status,s.weak_password.reasons);throw new rv(as(s),t.status||500,n)}const xv=(t,e,s,n)=>{const r={method:t,headers:e?.headers||{}};return t==="GET"?r:(r.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e?.headers),r.body=JSON.stringify(n),Object.assign(Object.assign({},r),s))};async function ae(t,e,s,n){var r;const i=Object.assign({},n?.headers);i[Ei]||(i[Ei]=Lu["2024-01-01"].name),n?.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const o=(r=n?.query)!==null&&r!==void 0?r:{};n?.redirectTo&&(o.redirect_to=n.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await $v(t,e,s+a,{headers:i,noResolveJson:n?.noResolveJson},{},n?.body);return n?.xform?n?.xform(l):{data:Object.assign({},l),error:null}}async function $v(t,e,s,n,r,i){const o=xv(e,n,r,i);let a;try{a=await t(s,Object.assign({},o))}catch(l){throw console.error(l),new Si(as(l),0)}if(a.ok||await Sa(a),n?.noResolveJson)return a;try{return await a.json()}catch(l){await Sa(l)}}function _t(t){var e;let s=null;Iv(t)&&(s=Object.assign({},t),t.expires_at||(s.expires_at=fv(t.expires_in)));const n=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:s,user:n},error:null}}function ka(t){const e=_t(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((s,n)=>s&&typeof n=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Qt(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function Rv(t){return{data:t,error:null}}function Pv(t){const{action_link:e,email_otp:s,hashed_token:n,redirect_to:r,verification_type:i}=t,o=Bs(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:e,email_otp:s,hashed_token:n,redirect_to:r,verification_type:i},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function Ta(t){return t}function Iv(t){return t.access_token&&t.refresh_token&&t.expires_in}const Jr=["global","local","others"];class jv{constructor({url:e="",headers:s={},fetch:n}){this.url=e,this.headers=s,this.fetch=Vu(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,s=Jr[0]){if(Jr.indexOf(s)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Jr.join(", ")}`);try{return await ae(this.fetch,"POST",`${this.url}/logout?scope=${s}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(te(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,s={}){try{return await ae(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:s.data},headers:this.headers,redirectTo:s.redirectTo,xform:Qt})}catch(n){if(te(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:s}=e,n=Bs(e,["options"]),r=Object.assign(Object.assign({},n),s);return"newEmail"in n&&(r.new_email=n?.newEmail,delete r.newEmail),await ae(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:r,headers:this.headers,xform:Pv,redirectTo:s?.redirectTo})}catch(s){if(te(s))return{data:{properties:null,user:null},error:s};throw s}}async createUser(e){try{return await ae(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Qt})}catch(s){if(te(s))return{data:{user:null},error:s};throw s}}async listUsers(e){var s,n,r,i,o,a,l;try{const c={nextPage:null,lastPage:0,total:0},d=await ae(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(s=e?.page)===null||s===void 0?void 0:s.toString())!==null&&n!==void 0?n:"",per_page:(i=(r=e?.perPage)===null||r===void 0?void 0:r.toString())!==null&&i!==void 0?i:""},xform:Ta});if(d.error)throw d.error;const h=await d.json(),p=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,f=(l=(a=d.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return f.length>0&&(f.forEach(b=>{const w=parseInt(b.split(";")[0].split("=")[1].substring(0,1)),E=JSON.parse(b.split(";")[1].split("=")[1]);c[`${E}Page`]=w}),c.total=parseInt(p)),{data:Object.assign(Object.assign({},h),c),error:null}}catch(c){if(te(c))return{data:{users:[]},error:c};throw c}}async getUserById(e){ws(e);try{return await ae(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Qt})}catch(s){if(te(s))return{data:{user:null},error:s};throw s}}async updateUserById(e,s){ws(e);try{return await ae(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:s,headers:this.headers,xform:Qt})}catch(n){if(te(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,s=!1){ws(e);try{return await ae(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:s},xform:Qt})}catch(n){if(te(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){ws(e.userId);try{const{data:s,error:n}=await ae(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:r=>({data:{factors:r},error:null})});return{data:s,error:n}}catch(s){if(te(s))return{data:null,error:s};throw s}}async _deleteFactor(e){ws(e.userId),ws(e.id);try{return{data:await ae(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(s){if(te(s))return{data:null,error:s};throw s}}async _listOAuthClients(e){var s,n,r,i,o,a,l;try{const c={nextPage:null,lastPage:0,total:0},d=await ae(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(s=e?.page)===null||s===void 0?void 0:s.toString())!==null&&n!==void 0?n:"",per_page:(i=(r=e?.perPage)===null||r===void 0?void 0:r.toString())!==null&&i!==void 0?i:""},xform:Ta});if(d.error)throw d.error;const h=await d.json(),p=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,f=(l=(a=d.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return f.length>0&&(f.forEach(b=>{const w=parseInt(b.split(";")[0].split("=")[1].substring(0,1)),E=JSON.parse(b.split(";")[1].split("=")[1]);c[`${E}Page`]=w}),c.total=parseInt(p)),{data:Object.assign(Object.assign({},h),c),error:null}}catch(c){if(te(c))return{data:{clients:[]},error:c};throw c}}async _createOAuthClient(e){try{return await ae(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(te(s))return{data:null,error:s};throw s}}async _getOAuthClient(e){try{return await ae(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(te(s))return{data:null,error:s};throw s}}async _deleteOAuthClient(e){try{return await ae(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(te(s))return{data:null,error:s};throw s}}async _regenerateOAuthClientSecret(e){try{return await ae(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(te(s))return{data:null,error:s};throw s}}}function Ca(t={}){return{getItem:e=>t[e]||null,setItem:(e,s)=>{t[e]=s},removeItem:e=>{delete t[e]}}}const Es={debug:!!(globalThis&&Bu()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class qu extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class Nv extends qu{}async function Dv(t,e,s){Es.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const n=new globalThis.AbortController;return e>0&&setTimeout(()=>{n.abort(),Es.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async r=>{if(r){Es.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,r.name);try{return await s()}finally{Es.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,r.name)}}else{if(e===0)throw Es.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new Nv(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Es.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await s()}}))}function Uv(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Fu(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function Lv(t){return parseInt(t,16)}function Mv(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,n=>n.toString(16).padStart(2,"0")).join("")}function Bv(t){var e;const{chainId:s,domain:n,expirationTime:r,issuedAt:i=new Date,nonce:o,notBefore:a,requestId:l,resources:c,scheme:d,uri:h,version:p}=t;{if(!Number.isInteger(s))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${s}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!h)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(p!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${p}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const f=Fu(t.address),b=d?`${d}://${n}`:n,w=t.statement?`${t.statement}
`:"",E=`${b} wants you to sign in with your Ethereum account:
${f}

${w}`;let _=`URI: ${h}
Version: ${p}
Chain ID: ${s}${o?`
Nonce: ${o}`:""}
Issued At: ${i.toISOString()}`;if(r&&(_+=`
Expiration Time: ${r.toISOString()}`),a&&(_+=`
Not Before: ${a.toISOString()}`),l&&(_+=`
Request ID: ${l}`),c){let v=`
Resources:`;for(const g of c){if(!g||typeof g!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${g}`);v+=`
- ${g}`}_+=v}return`${E}
${_}`}class Be extends Error{constructor({message:e,code:s,cause:n,name:r}){var i;super(e,{cause:n}),this.__isWebAuthnError=!0,this.name=(i=r??(n instanceof Error?n.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=s}}class nr extends Be{constructor(e,s){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:s,message:e}),this.name="WebAuthnUnknownError",this.originalError=s}}function Vv({error:t,options:e}){var s,n,r;const{publicKey:i}=e;if(!i)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Be({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((s=i.authenticatorSelection)===null||s===void 0?void 0:s.requireResidentKey)===!0)return new Be({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((n=i.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new Be({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((r=i.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new Be({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new Be({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new Be({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return i.pubKeyCredParams.filter(a=>a.type==="public-key").length===0?new Be({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new Be({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const o=window.location.hostname;if(Hu(o)){if(i.rp.id!==o)return new Be({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new Be({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new Be({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new Be({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new Be({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function qv({error:t,options:e}){const{publicKey:s}=e;if(!s)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Be({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new Be({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const n=window.location.hostname;if(Hu(n)){if(s.rpId!==n)return new Be({message:`The RP ID "${s.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new Be({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new Be({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new Be({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class Fv{createNewAbortSignal(){if(this.controller){const s=new Error("Cancelling existing WebAuthn API call for new one");s.name="AbortError",this.controller.abort(s)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const Hv=new Fv;function Wv(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:s,excludeCredentials:n}=t,r=Bs(t,["challenge","user","excludeCredentials"]),i=Ps(e).buffer,o=Object.assign(Object.assign({},s),{id:Ps(s.id).buffer}),a=Object.assign(Object.assign({},r),{challenge:i,user:o});if(n&&n.length>0){a.excludeCredentials=new Array(n.length);for(let l=0;l<n.length;l++){const c=n[l];a.excludeCredentials[l]=Object.assign(Object.assign({},c),{id:Ps(c.id).buffer,type:c.type||"public-key",transports:c.transports})}}return a}function Kv(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:s}=t,n=Bs(t,["challenge","allowCredentials"]),r=Ps(e).buffer,i=Object.assign(Object.assign({},n),{challenge:r});if(s&&s.length>0){i.allowCredentials=new Array(s.length);for(let o=0;o<s.length;o++){const a=s[o];i.allowCredentials[o]=Object.assign(Object.assign({},a),{id:Ps(a.id).buffer,type:a.type||"public-key",transports:a.transports})}}return i}function Gv(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const s=t;return{id:t.id,rawId:t.id,response:{attestationObject:hs(new Uint8Array(t.response.attestationObject)),clientDataJSON:hs(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=s.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function zv(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const s=t,n=t.getClientExtensionResults(),r=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:hs(new Uint8Array(r.authenticatorData)),clientDataJSON:hs(new Uint8Array(r.clientDataJSON)),signature:hs(new Uint8Array(r.signature)),userHandle:r.userHandle?hs(new Uint8Array(r.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(e=s.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function Hu(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function Oa(){var t,e;return!!(at()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator?.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.get)=="function")}async function Jv(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new nr("Browser returned unexpected credential type",e)}:{data:null,error:new nr("Empty credential response",e)}}catch(e){return{data:null,error:Vv({error:e,options:t})}}}async function Qv(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new nr("Browser returned unexpected credential type",e)}:{data:null,error:new nr("Empty credential response",e)}}catch(e){return{data:null,error:qv({error:e,options:t})}}}const Yv={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},Xv={userVerification:"preferred",hints:["security-key"]};function rr(...t){const e=r=>r!==null&&typeof r=="object"&&!Array.isArray(r),s=r=>r instanceof ArrayBuffer||ArrayBuffer.isView(r),n={};for(const r of t)if(r)for(const i in r){const o=r[i];if(o!==void 0)if(Array.isArray(o))n[i]=o;else if(s(o))n[i]=o;else if(e(o)){const a=n[i];e(a)?n[i]=rr(a,o):n[i]=rr(o)}else n[i]=o}return n}function Zv(t,e){return rr(Yv,t,e||{})}function eg(t,e){return rr(Xv,t,e||{})}class tg{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:s,friendlyName:n,signal:r},i){try{const{data:o,error:a}=await this.client.mfa.challenge({factorId:e,webauthn:s});if(!o)return{data:null,error:a};const l=r??Hv.createNewAbortSignal();if(o.webauthn.type==="create"){const{user:c}=o.webauthn.credential_options.publicKey;c.name||(c.name=`${c.id}:${n}`),c.displayName||(c.displayName=c.name)}switch(o.webauthn.type){case"create":{const c=Zv(o.webauthn.credential_options.publicKey,i?.create),{data:d,error:h}=await Jv({publicKey:c,signal:l});return d?{data:{factorId:e,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:d}},error:null}:{data:null,error:h}}case"request":{const c=eg(o.webauthn.credential_options.publicKey,i?.request),{data:d,error:h}=await Qv(Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:c,signal:l}));return d?{data:{factorId:e,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:d}},error:null}:{data:null,error:h}}}}catch(o){return te(o)?{data:null,error:o}:{data:null,error:new cs("Unexpected error in challenge",o)}}}async _verify({challengeId:e,factorId:s,webauthn:n}){return this.client.mfa.verify({factorId:s,challengeId:e,webauthn:n})}async _authenticate({factorId:e,webauthn:{rpId:s=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:r}},i){if(!s)return{data:null,error:new gn("rpId is required for WebAuthn authentication")};try{if(!Oa())return{data:null,error:new cs("Browser does not support WebAuthn",null)};const{data:o,error:a}=await this.challenge({factorId:e,webauthn:{rpId:s,rpOrigins:n},signal:r},{request:i});if(!o)return{data:null,error:a};const{webauthn:l}=o;return this._verify({factorId:e,challengeId:o.challengeId,webauthn:{type:l.type,rpId:s,rpOrigins:n,credential_response:l.credential_response}})}catch(o){return te(o)?{data:null,error:o}:{data:null,error:new cs("Unexpected error in authenticate",o)}}}async _register({friendlyName:e,rpId:s=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:r},i){if(!s)return{data:null,error:new gn("rpId is required for WebAuthn registration")};try{if(!Oa())return{data:null,error:new cs("Browser does not support WebAuthn",null)};const{data:o,error:a}=await this._enroll({friendlyName:e});if(!o)return await this.client.mfa.listFactors().then(d=>{var h;return(h=d.data)===null||h===void 0?void 0:h.all.find(p=>p.factor_type==="webauthn"&&p.friendly_name===e&&p.status!=="unverified")}).then(d=>d?this.client.mfa.unenroll({factorId:d?.id}):void 0),{data:null,error:a};const{data:l,error:c}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:s,rpOrigins:n},signal:r},{create:i});return l?this._verify({factorId:o.id,challengeId:l.challengeId,webauthn:{rpId:s,rpOrigins:n,type:l.webauthn.type,credential_response:l.webauthn.credential_response}}):{data:null,error:c}}catch(o){return te(o)?{data:null,error:o}:{data:null,error:new cs("Unexpected error in register",o)}}}}Uv();const sg={url:Zp,storageKey:ev,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:tv,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Aa(t,e,s){return await s()}const Ss={};class mn{get jwks(){var e,s;return(s=(e=Ss[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&s!==void 0?s:{keys:[]}}set jwks(e){Ss[this.storageKey]=Object.assign(Object.assign({},Ss[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,s;return(s=(e=Ss[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&s!==void 0?s:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Ss[this.storageKey]=Object.assign(Object.assign({},Ss[this.storageKey]),{cachedAt:e})}constructor(e){var s,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=mn.nextInstanceID,mn.nextInstanceID+=1,this.instanceID>0&&at()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const r=Object.assign(Object.assign({},sg),e);if(this.logDebugMessages=!!r.debug,typeof r.debug=="function"&&(this.logger=r.debug),this.persistSession=r.persistSession,this.storageKey=r.storageKey,this.autoRefreshToken=r.autoRefreshToken,this.admin=new jv({url:r.url,headers:r.headers,fetch:r.fetch}),this.url=r.url,this.headers=r.headers,this.fetch=Vu(r.fetch),this.lock=r.lock||Aa,this.detectSessionInUrl=r.detectSessionInUrl,this.flowType=r.flowType,this.hasCustomAuthorizationHeader=r.hasCustomAuthorizationHeader,r.lock?this.lock=r.lock:at()&&(!((s=globalThis?.navigator)===null||s===void 0)&&s.locks)?this.lock=Dv:this.lock=Aa,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new tg(this)},this.persistSession?(r.storage?this.storage=r.storage:Bu()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Ca(this.memoryStorage)),r.userStorage&&(this.userStorage=r.userStorage)):(this.memoryStorage={},this.storage=Ca(this.memoryStorage)),at()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Uu}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const s=vv(window.location.href);let n="none";if(this._isImplicitGrantCallback(s)?n="implicit":await this._isPKCECallback(s)&&(n="pkce"),at()&&this.detectSessionInUrl&&n!=="none"){const{data:r,error:i}=await this._getSessionFromURL(s,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),av(i)){const l=(e=i.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:a}=r;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(s){return te(s)?{error:s}:{error:new cs("Unexpected error during initialization",s)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var s,n,r;try{const i=await ae(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(s=e?.options)===null||s===void 0?void 0:s.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(r=e?.options)===null||r===void 0?void 0:r.captchaToken}},xform:_t}),{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(i){if(te(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(e){var s,n,r;try{let i;if("email"in e){const{email:d,password:h,options:p}=e;let f=null,b=null;this.flowType==="pkce"&&([f,b]=await bs(this.storage,this.storageKey)),i=await ae(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:p?.emailRedirectTo,body:{email:d,password:h,data:(s=p?.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:p?.captchaToken},code_challenge:f,code_challenge_method:b},xform:_t})}else if("phone"in e){const{phone:d,password:h,options:p}=e;i=await ae(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:h,data:(n=p?.data)!==null&&n!==void 0?n:{},channel:(r=p?.channel)!==null&&r!==void 0?r:"sms",gotrue_meta_security:{captcha_token:p?.captchaToken}},xform:_t})}else throw new jn("You must provide either an email or phone number and a password");const{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(i){if(te(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(e){try{let s;if("email"in e){const{email:i,password:o,options:a}=e;s=await ae(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:a?.captchaToken}},xform:ka})}else if("phone"in e){const{phone:i,password:o,options:a}=e;s=await ae(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:a?.captchaToken}},xform:ka})}else throw new jn("You must provide either an email or phone number and a password");const{data:n,error:r}=s;return r?{data:{user:null,session:null},error:r}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new ys}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:r})}catch(s){if(te(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithOAuth(e){var s,n,r,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(s=e.options)===null||s===void 0?void 0:s.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(r=e.options)===null||r===void 0?void 0:r.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:s}=e;switch(s){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${s}"`)}}async signInWithEthereum(e){var s,n,r,i,o,a,l,c,d,h,p;let f,b;if("message"in e)f=e.message,b=e.signature;else{const{chain:w,wallet:E,statement:_,options:v}=e;let g;if(at())if(typeof E=="object")g=E;else{const q=window;if("ethereum"in q&&typeof q.ethereum=="object"&&"request"in q.ethereum&&typeof q.ethereum.request=="function")g=q.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof E!="object"||!v?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");g=E}const S=new URL((s=v?.url)!==null&&s!==void 0?s:window.location.href),O=await g.request({method:"eth_requestAccounts"}).then(q=>q).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!O||O.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const D=Fu(O[0]);let L=(n=v?.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!L){const q=await g.request({method:"eth_chainId"});L=Lv(q)}const V={domain:S.host,address:D,statement:_,uri:S.href,version:"1",chainId:L,nonce:(r=v?.signInWithEthereum)===null||r===void 0?void 0:r.nonce,issuedAt:(o=(i=v?.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(a=v?.signInWithEthereum)===null||a===void 0?void 0:a.expirationTime,notBefore:(l=v?.signInWithEthereum)===null||l===void 0?void 0:l.notBefore,requestId:(c=v?.signInWithEthereum)===null||c===void 0?void 0:c.requestId,resources:(d=v?.signInWithEthereum)===null||d===void 0?void 0:d.resources};f=Bv(V),b=await g.request({method:"personal_sign",params:[Mv(f),D]})}try{const{data:w,error:E}=await ae(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:f,signature:b},!((h=e.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(p=e.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:_t});if(E)throw E;return!w||!w.session||!w.user?{data:{user:null,session:null},error:new ys}:(w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("SIGNED_IN",w.session)),{data:Object.assign({},w),error:E})}catch(w){if(te(w))return{data:{user:null,session:null},error:w};throw w}}async signInWithSolana(e){var s,n,r,i,o,a,l,c,d,h,p,f;let b,w;if("message"in e)b=e.message,w=e.signature;else{const{chain:E,wallet:_,statement:v,options:g}=e;let S;if(at())if(typeof _=="object")S=_;else{const D=window;if("solana"in D&&typeof D.solana=="object"&&("signIn"in D.solana&&typeof D.solana.signIn=="function"||"signMessage"in D.solana&&typeof D.solana.signMessage=="function"))S=D.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof _!="object"||!g?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");S=_}const O=new URL((s=g?.url)!==null&&s!==void 0?s:window.location.href);if("signIn"in S&&S.signIn){const D=await S.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},g?.signInWithSolana),{version:"1",domain:O.host,uri:O.href}),v?{statement:v}:null));let L;if(Array.isArray(D)&&D[0]&&typeof D[0]=="object")L=D[0];else if(D&&typeof D=="object"&&"signedMessage"in D&&"signature"in D)L=D;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in L&&"signature"in L&&(typeof L.signedMessage=="string"||L.signedMessage instanceof Uint8Array)&&L.signature instanceof Uint8Array)b=typeof L.signedMessage=="string"?L.signedMessage:new TextDecoder().decode(L.signedMessage),w=L.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in S)||typeof S.signMessage!="function"||!("publicKey"in S)||typeof S!="object"||!S.publicKey||!("toBase58"in S.publicKey)||typeof S.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");b=[`${O.host} wants you to sign in with your Solana account:`,S.publicKey.toBase58(),...v?["",v,""]:[""],"Version: 1",`URI: ${O.href}`,`Issued At: ${(r=(n=g?.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&r!==void 0?r:new Date().toISOString()}`,...!((i=g?.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${g.signInWithSolana.notBefore}`]:[],...!((o=g?.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${g.signInWithSolana.expirationTime}`]:[],...!((a=g?.signInWithSolana)===null||a===void 0)&&a.chainId?[`Chain ID: ${g.signInWithSolana.chainId}`]:[],...!((l=g?.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${g.signInWithSolana.nonce}`]:[],...!((c=g?.signInWithSolana)===null||c===void 0)&&c.requestId?[`Request ID: ${g.signInWithSolana.requestId}`]:[],...!((h=(d=g?.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||h===void 0)&&h.length?["Resources",...g.signInWithSolana.resources.map(L=>`- ${L}`)]:[]].join(`
`);const D=await S.signMessage(new TextEncoder().encode(b),"utf8");if(!D||!(D instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");w=D}}try{const{data:E,error:_}=await ae(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:b,signature:hs(w)},!((p=e.options)===null||p===void 0)&&p.captchaToken?{gotrue_meta_security:{captcha_token:(f=e.options)===null||f===void 0?void 0:f.captchaToken}}:null),xform:_t});if(_)throw _;return!E||!E.session||!E.user?{data:{user:null,session:null},error:new ys}:(E.session&&(await this._saveSession(E.session),await this._notifyAllSubscribers("SIGNED_IN",E.session)),{data:Object.assign({},E),error:_})}catch(E){if(te(E))return{data:{user:null,session:null},error:E};throw E}}async _exchangeCodeForSession(e){const s=await is(this.storage,`${this.storageKey}-code-verifier`),[n,r]=(s??"").split("/");try{const{data:i,error:o}=await ae(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:_t});if(await Ht(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new ys}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:r??null}),error:o})}catch(i){if(te(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(e){try{const{options:s,provider:n,token:r,access_token:i,nonce:o}=e,a=await ae(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:r,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:s?.captchaToken}},xform:_t}),{data:l,error:c}=a;return c?{data:{user:null,session:null},error:c}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new ys}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:c})}catch(s){if(te(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithOtp(e){var s,n,r,i,o;try{if("email"in e){const{email:a,options:l}=e;let c=null,d=null;this.flowType==="pkce"&&([c,d]=await bs(this.storage,this.storageKey));const{error:h}=await ae(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(s=l?.data)!==null&&s!==void 0?s:{},create_user:(n=l?.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:l?.captchaToken},code_challenge:c,code_challenge_method:d},redirectTo:l?.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in e){const{phone:a,options:l}=e,{data:c,error:d}=await ae(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(r=l?.data)!==null&&r!==void 0?r:{},create_user:(i=l?.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l?.captchaToken},channel:(o=l?.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:c?.message_id},error:d}}throw new jn("You must provide either an email or phone number.")}catch(a){if(te(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(e){var s,n;try{let r,i;"options"in e&&(r=(s=e.options)===null||s===void 0?void 0:s.redirectTo,i=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:a}=await ae(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:r,xform:_t});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,c=o.user;return l?.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(r){if(te(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithSSO(e){var s,n,r;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await bs(this.storage,this.storageKey)),await ae(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(s=e.options)===null||s===void 0?void 0:s.redirectTo)!==null&&n!==void 0?n:void 0}),!((r=e?.options)===null||r===void 0)&&r.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:Rv})}catch(i){if(te(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:s},error:n}=e;if(n)throw n;if(!s)throw new Kt;const{error:r}=await ae(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:s.access_token});return{data:{user:null,session:null},error:r}})}catch(e){if(te(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const s=`${this.url}/resend`;if("email"in e){const{email:n,type:r,options:i}=e,{error:o}=await ae(this.fetch,"POST",s,{headers:this.headers,body:{email:n,type:r,gotrue_meta_security:{captcha_token:i?.captchaToken}},redirectTo:i?.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in e){const{phone:n,type:r,options:i}=e,{data:o,error:a}=await ae(this.fetch,"POST",s,{headers:this.headers,body:{phone:n,type:r,gotrue_meta_security:{captcha_token:i?.captchaToken}}});return{data:{user:null,session:null,messageId:o?.message_id},error:a}}throw new jn("You must provide either an email or phone number and a type")}catch(s){if(te(s))return{data:{user:null,session:null},error:s};throw s}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async s=>s))}async _acquireLock(e,s){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),r=(async()=>(await n,await s()))();return this.pendingInLock.push((async()=>{try{await r}catch{}})()),r}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=s();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const r=[...this.pendingInLock];await Promise.all(r),this.pendingInLock.splice(0,r.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const s=await this.__loadSession();return await e(s)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const s=await is(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",s),s!==null&&(this._isValidSession(s)?e=s:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at*1e3-Date.now()<Wr:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.userStorage){const o=await is(this.userStorage,this.storageKey+"-user");o?.user?e.user=o.user:e.user=zr()}if(this.storage.isServer&&e.user){let o=this.suppressGetSessionWarning;e=new Proxy(e,{get:(l,c,d)=>(!o&&c==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,c,d))})}return{data:{session:e},error:null}}const{data:r,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{session:null},error:i}:{data:{session:r},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await ae(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Qt}):await this._useSession(async s=>{var n,r,i;const{data:o,error:a}=s;if(a)throw a;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Kt}:await ae(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(r=o.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0,xform:Qt})})}catch(s){if(te(s))return ov(s)&&(await this._removeSession(),await Ht(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:s};throw s}}async updateUser(e,s={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,s))}async _updateUser(e,s={}){try{return await this._useSession(async n=>{const{data:r,error:i}=n;if(i)throw i;if(!r.session)throw new Kt;const o=r.session;let a=null,l=null;this.flowType==="pkce"&&e.email!=null&&([a,l]=await bs(this.storage,this.storageKey));const{data:c,error:d}=await ae(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:s?.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:Qt});if(d)throw d;return o.user=c.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(n){if(te(n))return{data:{user:null},error:n};throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Kt;const s=Date.now()/1e3;let n=s,r=!0,i=null;const{payload:o}=Gr(e.access_token);if(o.exp&&(n=o.exp,r=n<=s),r){const{data:a,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!a)return{data:{user:null,session:null},error:null};i=a}else{const{data:a,error:l}=await this._getUser(e.access_token);if(l)throw l;i={access_token:e.access_token,refresh_token:e.refresh_token,user:a.user,token_type:"bearer",expires_in:n-s,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(s){if(te(s))return{data:{session:null,user:null},error:s};throw s}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async s=>{var n;if(!e){const{data:o,error:a}=s;if(a)throw a;e=(n=o.session)!==null&&n!==void 0?n:void 0}if(!e?.refresh_token)throw new Kt;const{data:r,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{user:null,session:null},error:i}:r?{data:{user:r.user,session:r},error:null}:{data:{user:null,session:null},error:null}})}catch(s){if(te(s))return{data:{user:null,session:null},error:s};throw s}}async _getSessionFromURL(e,s){try{if(!at())throw new Nn("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Nn(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(s){case"implicit":if(this.flowType==="pkce")throw new ma("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Nn("Not a valid implicit grant flow url.");break;default:}if(s==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new ma("No code detected.");const{data:v,error:g}=await this._exchangeCodeForSession(e.code);if(g)throw g;const S=new URL(window.location.href);return S.searchParams.delete("code"),window.history.replaceState(window.history.state,"",S.toString()),{data:{session:v.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:r,access_token:i,refresh_token:o,expires_in:a,expires_at:l,token_type:c}=e;if(!i||!a||!o||!c)throw new Nn("No session defined in URL");const d=Math.round(Date.now()/1e3),h=parseInt(a);let p=d+h;l&&(p=parseInt(l));const f=p-d;f*1e3<=Cs&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${f}s, should have been closer to ${h}s`);const b=p-h;d-b>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",b,p,d):d-b<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",b,p,d);const{data:w,error:E}=await this._getUser(i);if(E)throw E;const _={provider_token:n,provider_refresh_token:r,access_token:i,expires_in:h,expires_at:p,refresh_token:o,token_type:c,user:w.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:_,redirectType:e.type},error:null}}catch(n){if(te(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const s=await is(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&s)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async s=>{var n;const{data:r,error:i}=s;if(i)return{error:i};const o=(n=r.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:a}=await this.admin.signOut(o,e);if(a&&!(iv(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return e!=="others"&&(await this._removeSession(),await Ht(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const s=pv(),n={id:s,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",s),this.stateChangeEmitters.delete(s)}};return this._debug("#onAuthStateChange()","registered callback with id",s),this.stateChangeEmitters.set(s,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(s)})))(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async s=>{var n,r;try{const{data:{session:i},error:o}=s;if(o)throw o;await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,s={}){let n=null,r=null;this.flowType==="pkce"&&([n,r]=await bs(this.storage,this.storageKey,!0));try{return await ae(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:r,gotrue_meta_security:{captcha_token:s.captchaToken}},headers:this.headers,redirectTo:s.redirectTo})}catch(i){if(te(i))return{data:null,error:i};throw i}}async getUserIdentities(){var e;try{const{data:s,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(e=s.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(s){if(te(s))return{data:null,error:s};throw s}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var s;try{const{data:n,error:r}=await this._useSession(async i=>{var o,a,l,c,d;const{data:h,error:p}=i;if(p)throw p;const f=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await ae(this.fetch,"GET",f,{headers:this.headers,jwt:(d=(c=h.session)===null||c===void 0?void 0:c.access_token)!==null&&d!==void 0?d:void 0})});if(r)throw r;return at()&&!(!((s=e.options)===null||s===void 0)&&s.skipBrowserRedirect)&&window.location.assign(n?.url),{data:{provider:e.provider,url:n?.url},error:null}}catch(n){if(te(n))return{data:{provider:e.provider,url:null},error:n};throw n}}async linkIdentityIdToken(e){return await this._useSession(async s=>{var n;try{const{error:r,data:{session:i}}=s;if(r)throw r;const{options:o,provider:a,token:l,access_token:c,nonce:d}=e,h=await ae(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=i?.access_token)!==null&&n!==void 0?n:void 0,body:{provider:a,id_token:l,access_token:c,nonce:d,link_identity:!0,gotrue_meta_security:{captcha_token:o?.captchaToken}},xform:_t}),{data:p,error:f}=h;return f?{data:{user:null,session:null},error:f}:!p||!p.session||!p.user?{data:{user:null,session:null},error:new ys}:(p.session&&(await this._saveSession(p.session),await this._notifyAllSubscribers("USER_UPDATED",p.session)),{data:p,error:f})}catch(r){if(te(r))return{data:{user:null,session:null},error:r};throw r}})}async unlinkIdentity(e){try{return await this._useSession(async s=>{var n,r;const{data:i,error:o}=s;if(o)throw o;return await ae(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(r=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&r!==void 0?r:void 0})})}catch(s){if(te(s))return{data:null,error:s};throw s}}async _refreshAccessToken(e){const s=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{const n=Date.now();return await _v(async r=>(r>0&&await mv(200*Math.pow(2,r-1)),this._debug(s,"refreshing attempt",r),await ae(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:_t})),(r,i)=>{const o=200*Math.pow(2,r);return i&&Kr(i)&&Date.now()+o-n<Cs})}catch(n){if(this._debug(s,"error",n),te(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(s,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,s){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:s.redirectTo,scopes:s.scopes,queryParams:s.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",s,"url",n),at()&&!s.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e,s;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const r=await is(this.storage,this.storageKey);if(r&&this.userStorage){let o=await is(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:r.user},await Os(this.userStorage,this.storageKey+"-user",o)),r.user=(e=o?.user)!==null&&e!==void 0?e:zr()}else if(r&&!r.user&&!r.user){const o=await is(this.storage,this.storageKey+"-user");o&&o?.user?(r.user=o.user,await Ht(this.storage,this.storageKey+"-user"),await Os(this.storage,this.storageKey,r)):r.user=zr()}if(this._debug(n,"session from storage",r),!this._isValidSession(r)){this._debug(n,"session is not valid"),r!==null&&await this._removeSession();return}const i=((s=r.expires_at)!==null&&s!==void 0?s:1/0)*1e3-Date.now()<Wr;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${Wr}s`),i){if(this.autoRefreshToken&&r.refresh_token){const{error:o}=await this._callRefreshToken(r.refresh_token);o&&(console.error(o),Kr(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(r.user&&r.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:a}=await this._getUser(r.access_token);!a&&o?.user?(r.user=o.user,await this._saveSession(r),await this._notifyAllSubscribers("SIGNED_IN",r)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(n,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(n,"error",r),console.error(r);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var s,n;if(!e)throw new Kt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const r=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{this.refreshingDeferred=new Tr;const{data:i,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!i.session)throw new Kt;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const a={data:i.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(i){if(this._debug(r,"error",i),te(i)){const o={data:null,error:i};return Kr(i)||await this._removeSession(),(s=this.refreshingDeferred)===null||s===void 0||s.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(r,"end")}}async _notifyAllSubscribers(e,s,n=!0){const r=`#_notifyAllSubscribers(${e})`;this._debug(r,"begin",s,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:s});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(e,s)}catch(l){i.push(l)}});if(await Promise.all(o),i.length>0){for(let a=0;a<i.length;a+=1)console.error(i[a]);throw i[0]}}finally{this._debug(r,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const s=Object.assign({},e),n=s.user&&s.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&s.user&&await Os(this.userStorage,this.storageKey+"-user",{user:s.user});const r=Object.assign({},s);delete r.user;const i=Ea(r);await Os(this.storage,this.storageKey,i)}else{const r=Ea(s);await Os(this.storage,this.storageKey,r)}}async _removeSession(){this._debug("#_removeSession()"),await Ht(this.storage,this.storageKey),await Ht(this.storage,this.storageKey+"-code-verifier"),await Ht(this.storage,this.storageKey+"-user"),this.userStorage&&await Ht(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&at()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",e)}catch(s){console.error("removing visibilitychange callback failed",s)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Cs);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async s=>{const{data:{session:n}}=s;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const r=Math.floor((n.expires_at*1e3-e)/Cs);this._debug("#_autoRefreshTokenTick()",`access token expires in ${r} ticks, a tick lasts ${Cs}ms, refresh threshold is ${wi} ticks`),r<=wi&&await this._callRefreshToken(n.refresh_token)})}catch(s){console.error("Auto refresh tick failed with error. This is likely a transient error.",s)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof qu)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!at()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const s=`#_onVisibilityChanged(${e})`;this._debug(s,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(s,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,s,n){const r=[`provider=${encodeURIComponent(s)}`];if(n?.redirectTo&&r.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n?.scopes&&r.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,o]=await bs(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});r.push(a.toString())}if(n?.queryParams){const i=new URLSearchParams(n.queryParams);r.push(i.toString())}return n?.skipBrowserRedirect&&r.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${r.join("&")}`}async _unenroll(e){try{return await this._useSession(async s=>{var n;const{data:r,error:i}=s;return i?{data:null,error:i}:await ae(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=r?.session)===null||n===void 0?void 0:n.access_token})})}catch(s){if(te(s))return{data:null,error:s};throw s}}async _enroll(e){try{return await this._useSession(async s=>{var n,r;const{data:i,error:o}=s;if(o)return{data:null,error:o};const a=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:l,error:c}=await ae(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(n=i?.session)===null||n===void 0?void 0:n.access_token});return c?{data:null,error:c}:(e.factorType==="totp"&&l.type==="totp"&&(!((r=l?.totp)===null||r===void 0)&&r.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(s){if(te(s))return{data:null,error:s};throw s}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var n;const{data:r,error:i}=s;if(i)return{data:null,error:i};const o=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?Gv(e.webauthn.credential_response):zv(e.webauthn.credential_response)})}:{code:e.code}),{data:a,error:l}=await ae(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:o,headers:this.headers,jwt:(n=r?.session)===null||n===void 0?void 0:n.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),{data:a,error:l})})}catch(s){if(te(s))return{data:null,error:s};throw s}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var n;const{data:r,error:i}=s;if(i)return{data:null,error:i};const o=await ae(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(n=r?.session)===null||n===void 0?void 0:n.access_token});if(o.error)return o;const{data:a}=o;if(a.type!=="webauthn")return{data:a,error:null};switch(a.webauthn.type){case"create":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:Wv(a.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:Kv(a.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(s){if(te(s))return{data:null,error:s};throw s}})}async _challengeAndVerify(e){const{data:s,error:n}=await this._challenge({factorId:e.factorId});return n?{data:null,error:n}:await this._verify({factorId:e.factorId,challengeId:s.id,code:e.code})}async _listFactors(){var e;const{data:{user:s},error:n}=await this.getUser();if(n)return{data:null,error:n};const r={all:[],phone:[],totp:[],webauthn:[]};for(const i of(e=s?.factors)!==null&&e!==void 0?e:[])r.all.push(i),i.status==="verified"&&r[i.factor_type].push(i);return{data:r,error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var s,n;const{data:{session:r},error:i}=e;if(i)return{data:null,error:i};if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=Gr(r.access_token);let a=null;o.aal&&(a=o.aal);let l=a;((n=(s=r.user.factors)===null||s===void 0?void 0:s.filter(h=>h.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(l="aal2");const d=o.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(e,s={keys:[]}){let n=s.keys.find(a=>a.kid===e);if(n)return n;const r=Date.now();if(n=this.jwks.keys.find(a=>a.kid===e),n&&this.jwks_cached_at+nv>r)return n;const{data:i,error:o}=await ae(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=r,n=i.keys.find(a=>a.kid===e),!n)?null:n}async getClaims(e,s={}){try{let n=e;if(!n){const{data:f,error:b}=await this.getSession();if(b||!f.session)return{data:null,error:b};n=f.session.access_token}const{header:r,payload:i,signature:o,raw:{header:a,payload:l}}=Gr(n);s?.allowExpired||Tv(i.exp);const c=!r.alg||r.alg.startsWith("HS")||!r.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(r.kid,s?.keys?{keys:s.keys}:s?.jwks);if(!c){const{error:f}=await this.getUser(n);if(f)throw f;return{data:{claims:i,header:r,signature:o},error:null}}const d=Cv(r.alg),h=await crypto.subtle.importKey("jwk",c,d,!0,["verify"]);if(!await crypto.subtle.verify(d,h,o,hv(`${a}.${l}`)))throw new ki("Invalid JWT signature");return{data:{claims:i,header:r,signature:o},error:null}}catch(n){if(te(n))return{data:null,error:n};throw n}}}mn.nextInstanceID=0;const ng=mn;class rg extends ng{constructor(e){super(e)}}class ig{constructor(e,s,n){var r,i,o;this.supabaseUrl=e,this.supabaseKey=s;const a=Xp(e);if(!s)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",a),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",a),this.storageUrl=new URL("storage/v1",a),this.functionsUrl=new URL("functions/v1",a);const l=`sb-${a.hostname.split(".")[0]}-auth-token`,c={db:Hp,realtime:Kp,auth:Object.assign(Object.assign({},Wp),{storageKey:l}),global:Fp},d=Yp(n??{},c);this.storageKey=(r=d.auth.storageKey)!==null&&r!==void 0?r:"",this.headers=(i=d.global.headers)!==null&&i!==void 0?i:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(h,p)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(p)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=d.auth)!==null&&o!==void 0?o:{},this.headers,d.global.fetch),this.fetch=Jp(s,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new Zf(new URL("rest/v1",a).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),this.storage=new Bp(this.storageUrl.href,this.headers,this.fetch,n?.storage),d.accessToken||this._listenForAuthEvents()}get functions(){return new qf(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,s={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,s,n)}channel(e,s={config:{}}){return this.realtime.channel(e,s)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e,s;if(this.accessToken)return await this.accessToken();const{data:n}=await this.auth.getSession();return(s=(e=n.session)===null||e===void 0?void 0:e.access_token)!==null&&s!==void 0?s:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:s,detectSessionInUrl:n,storage:r,userStorage:i,storageKey:o,flowType:a,lock:l,debug:c},d,h){const p={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new rg({url:this.authUrl.href,headers:Object.assign(Object.assign({},p),d),storageKey:o,autoRefreshToken:e,persistSession:s,detectSessionInUrl:n,storage:r,userStorage:i,flowType:a,lock:l,debug:c,fetch:h,hasCustomAuthorizationHeader:Object.keys(this.headers).some(f=>f.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new gp(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((s,n)=>{this._handleTokenChanged(s,"CLIENT",n?.access_token)})}_handleTokenChanged(e,s,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),s=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const og=(t,e,s)=>new ig(t,e,s);function ag(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}ag()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const lg="https://cykjpbdgtwjebzoqlcpj.supabase.co",ug="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImN5a2pwYmRndHdqZWJ6b3FsY3BqIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjE0MTM3NDUsImV4cCI6MjA3Njk4OTc0NX0.W6Ua0dbnL7ThGJHcoIIjWRnc7HeQ36WypD4L0wKJOEQ",de=og(lg,ug),mt=Sh("auth",()=>{const t=M(null),e=M(null),s=M(!0),n=Ie(()=>!!t.value),r=Ie(()=>e.value?.role==="admin"),i=Ie(()=>e.value?.role==="trainer"),o=Ie(()=>e.value?.role==="trainer"||e.value?.role==="admin");async function a(){if(t.value)try{const{data:f,error:b}=await de.from("profiles").select("*").eq("id",t.value.id).single();if(b)throw b;e.value=f}catch(f){console.error("Error loading profile:",f)}}async function l(){s.value=!0;try{const{data:{session:f}}=await de.auth.getSession();t.value=f?.user??null,t.value&&await a(),de.auth.onAuthStateChange(async(b,w)=>{t.value=w?.user??null,t.value?await a():e.value=null})}catch(f){console.error("Error initializing auth:",f)}finally{s.value=!1}}async function c(f,b){const{data:w,error:E}=await de.auth.signUp({email:f,password:b});if(E)throw E;return w}async function d(f,b){const{data:w,error:E}=await de.auth.signInWithPassword({email:f,password:b});if(E)throw E;return t.value=w.user,await a(),w}async function h(){const{error:f}=await de.auth.signOut();if(f)throw f;t.value=null,e.value=null}async function p(f,b){const{error:w}=await de.from("profiles").update({role:b}).eq("id",f);if(w)throw w;f===t.value?.id&&await a()}return{user:t,profile:e,loading:s,isAuthenticated:n,isAdmin:r,isTrainer:i,isTrainerOrAdmin:o,initialize:l,signUp:c,signIn:d,signOut:h,updateRole:p}}),cg={class:"page"},dg={class:"navbar"},hg={class:"nav-container"},fg={class:"nav-content"},pg={class:"nav-buttons"},vg={class:"main-content"},gg={class:"hero"},mg={class:"cta"},_g=ht({__name:"HomeView",setup(t){const e=Ms(),s=mt();async function n(){try{await s.signOut(),e.push("/")}catch(r){console.error("Error al cerrar sesin:",r)}}return(r,i)=>{const o=Pt("router-link");return $(),R("div",cg,[u("nav",dg,[u("div",hg,[u("div",fg,[i[3]||(i[3]=u("h1",{class:"logo"},"Web Train",-1)),u("div",pg,[je(s).isAuthenticated?($(),R(Oe,{key:0},[_e(o,{to:"/dashboard",class:"nav-link"},{default:De(()=>[...i[0]||(i[0]=[Se(" Dashboard ",-1)])]),_:1}),u("button",{onClick:n,class:"btn btn-danger"}," Cerrar Sesin ")],64)):($(),R(Oe,{key:1},[_e(o,{to:"/login",class:"nav-link"},{default:De(()=>[...i[1]||(i[1]=[Se(" Iniciar Sesin ",-1)])]),_:1}),_e(o,{to:"/register",class:"btn btn-primary"},{default:De(()=>[...i[2]||(i[2]=[Se(" Registrarse ",-1)])]),_:1})],64))])])])]),u("main",vg,[u("div",gg,[i[5]||(i[5]=u("h1",{class:"title"},[Se(" Bienvenido a "),u("span",{class:"highlight"},"Web Train")],-1)),i[6]||(i[6]=u("p",{class:"subtitle"}," Una aplicacin Vue 3 con autenticacin de usuarios usando Supabase. ",-1)),u("div",mg,[_e(o,{to:"/register",class:"btn btn-large btn-primary"},{default:De(()=>[...i[4]||(i[4]=[Se(" Comenzar ",-1)])]),_:1})])]),i[7]||(i[7]=yr('<div class="features" data-v-6adf4f10><div class="feature-card" data-v-6adf4f10><svg class="icon" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-6adf4f10><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z" data-v-6adf4f10></path></svg><h3 class="feature-title" data-v-6adf4f10>Autenticacin Segura</h3><p class="feature-text" data-v-6adf4f10>Sistema de login y registro con Supabase</p></div><div class="feature-card" data-v-6adf4f10><svg class="icon" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-6adf4f10><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z" data-v-6adf4f10></path></svg><h3 class="feature-title" data-v-6adf4f10>Rpido y Eficiente</h3><p class="feature-text" data-v-6adf4f10>Construido con Vue 3 y TypeScript</p></div><div class="feature-card" data-v-6adf4f10><svg class="icon" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-6adf4f10><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z" data-v-6adf4f10></path></svg><h3 class="feature-title" data-v-6adf4f10>Rutas Protegidas</h3><p class="feature-text" data-v-6adf4f10>Guards de navegacin automticos</p></div></div>',1))])])}}}),yg=gt(_g,[["__scopeId","data-v-6adf4f10"]]),bg={class:"page"},wg={class:"container"},Eg={class:"card"},Sg={key:0,class:"alert alert-error"},kg={class:"form-group"},Tg={class:"form-group"},Cg=["disabled"],Og={class:"footer-link"},Ag=ht({__name:"LoginView",setup(t){const e=Ms(),s=mt(),n=M(""),r=M(""),i=M(""),o=M(!1);async function a(){i.value="",o.value=!0;try{await s.signIn(n.value,r.value),e.push("/dashboard")}catch(l){i.value=l.message||"Error al iniciar sesin"}finally{o.value=!1}}return(l,c)=>{const d=Pt("router-link");return $(),R("div",bg,[u("div",wg,[u("div",Eg,[c[5]||(c[5]=u("div",{class:"header"},[u("h2",{class:"title"},"Iniciar Sesin")],-1)),u("form",{onSubmit:Pe(a,["prevent"]),class:"form"},[i.value?($(),R("div",Sg,N(i.value),1)):le("",!0),u("div",kg,[c[2]||(c[2]=u("label",{for:"email",class:"label"},"Email",-1)),he(u("input",{id:"email","onUpdate:modelValue":c[0]||(c[0]=h=>n.value=h),type:"email",required:"",class:"input",placeholder:"tu@email.com"},null,512),[[me,n.value]])]),u("div",Tg,[c[3]||(c[3]=u("label",{for:"password",class:"label"},"Contrasea",-1)),he(u("input",{id:"password","onUpdate:modelValue":c[1]||(c[1]=h=>r.value=h),type:"password",required:"",class:"input",placeholder:""},null,512),[[me,r.value]])]),u("button",{type:"submit",disabled:o.value,class:"btn btn-primary btn-full"},N(o.value?"Cargando...":"Iniciar Sesin"),9,Cg),u("div",Og,[_e(d,{to:"/register",class:"link"},{default:De(()=>[...c[4]||(c[4]=[Se(" No tienes cuenta? Regstrate ",-1)])]),_:1})])],32)])])])}}}),xg=gt(Ag,[["__scopeId","data-v-3102ce8d"]]),$g={class:"page"},Rg={class:"container"},Pg={class:"card"},Ig={key:0,class:"alert alert-error"},jg={key:1,class:"alert alert-success"},Ng={class:"form-group"},Dg={class:"form-group"},Ug={class:"form-group"},Lg=["disabled"],Mg={class:"footer-link"},Bg=ht({__name:"RegisterView",setup(t){const e=mt(),s=M(""),n=M(""),r=M(""),i=M(""),o=M(!1),a=M(!1);async function l(){if(i.value="",o.value=!1,n.value!==r.value){i.value="Las contraseas no coinciden";return}if(n.value.length<6){i.value="La contrasea debe tener al menos 6 caracteres";return}a.value=!0;try{await e.signUp(s.value,n.value),o.value=!0,s.value="",n.value="",r.value=""}catch(c){i.value=c.message||"Error al crear cuenta"}finally{a.value=!1}}return(c,d)=>{const h=Pt("router-link");return $(),R("div",$g,[u("div",Rg,[u("div",Pg,[d[7]||(d[7]=u("div",{class:"header"},[u("h2",{class:"title"},"Crear Cuenta")],-1)),u("form",{onSubmit:Pe(l,["prevent"]),class:"form"},[i.value?($(),R("div",Ig,N(i.value),1)):le("",!0),o.value?($(),R("div",jg," Cuenta creada! Revisa tu email para confirmar. ")):le("",!0),u("div",Ng,[d[3]||(d[3]=u("label",{for:"email",class:"label"},"Email",-1)),he(u("input",{id:"email","onUpdate:modelValue":d[0]||(d[0]=p=>s.value=p),type:"email",required:"",class:"input",placeholder:"tu@email.com"},null,512),[[me,s.value]])]),u("div",Dg,[d[4]||(d[4]=u("label",{for:"password",class:"label"}," Contrasea (mnimo 6 caracteres) ",-1)),he(u("input",{id:"password","onUpdate:modelValue":d[1]||(d[1]=p=>n.value=p),type:"password",required:"",minlength:"6",class:"input",placeholder:""},null,512),[[me,n.value]])]),u("div",Ug,[d[5]||(d[5]=u("label",{for:"confirmPassword",class:"label"}," Confirmar Contrasea ",-1)),he(u("input",{id:"confirmPassword","onUpdate:modelValue":d[2]||(d[2]=p=>r.value=p),type:"password",required:"",class:"input",placeholder:""},null,512),[[me,r.value]])]),u("button",{type:"submit",disabled:a.value,class:"btn btn-primary btn-full"},N(a.value?"Registrando...":"Crear Cuenta"),9,Lg),u("div",Mg,[_e(h,{to:"/login",class:"link"},{default:De(()=>[...d[6]||(d[6]=[Se(" Ya tienes cuenta? Inicia sesin ",-1)])]),_:1})])],32)])])])}}}),Vg=gt(Bg,[["__scopeId","data-v-a8973040"]]),qg={class:"page"},Fg={class:"navbar"},Hg={class:"nav-container"},Wg={class:"nav-content"},Kg={class:"nav-right"},Gg={class:"user-email"},zg={class:"main-content"},Jg={class:"container"},Qg={class:"card"},Yg={class:"info-box"},Xg={class:"info-box-content"},Zg={class:"info-text"},em={class:"info-text",style:{"margin-top":"0.5rem"}},tm={class:"quick-actions"},sm={class:"actions-grid"},nm={class:"action-card action-card-static"},rm={class:"action-content"},im={class:"action-description"},om=ht({__name:"DashboardView",setup(t){const e=Ms(),s=mt();async function n(){try{await s.signOut(),e.push("/login")}catch(r){console.error("Error al cerrar sesin:",r)}}return(r,i)=>{const o=Pt("router-link");return $(),R("div",qg,[u("nav",Fg,[u("div",Hg,[u("div",Wg,[i[0]||(i[0]=u("h1",{class:"logo"},"Dashboard",-1)),u("div",Kg,[u("span",Gg,N(je(s).user?.email),1),u("button",{onClick:n,class:"btn btn-danger"}," Cerrar Sesin ")])])])]),u("main",zg,[u("div",Jg,[u("div",Qg,[i[11]||(i[11]=u("h2",{class:"welcome-title"},"Bienvenido!",-1)),i[12]||(i[12]=u("p",{class:"welcome-text"}," Has iniciado sesin correctamente. Esta es una ruta protegida que solo pueden ver usuarios autenticados. ",-1)),u("div",Yg,[u("div",Xg,[i[3]||(i[3]=u("div",{class:"info-icon"},[u("svg",{viewBox:"0 0 20 20",fill:"currentColor"},[u("path",{"fill-rule":"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z","clip-rule":"evenodd"})])],-1)),u("div",null,[u("p",Zg,[i[1]||(i[1]=u("strong",null,"ID de usuario:",-1)),Se(" "+N(je(s).user?.id),1)]),u("p",em,[i[2]||(i[2]=u("strong",null,"Email:",-1)),Se(" "+N(je(s).user?.email),1)])])])]),u("div",tm,[i[10]||(i[10]=u("h3",{class:"section-title"},"Accesos Rpidos",-1)),u("div",sm,[_e(o,{to:"/training",class:"action-card"},{default:De(()=>[...i[4]||(i[4]=[u("div",{class:"action-icon action-icon-blue"},[u("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[u("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})])],-1),u("div",{class:"action-content"},[u("p",{class:"action-title"},"Mis Entrenamientos"),u("p",{class:"action-description"},"Ver y gestionar tus rutinas")],-1)])]),_:1}),je(s).isTrainer?($(),sn(o,{key:0,to:"/trainer/templates",class:"action-card"},{default:De(()=>[...i[5]||(i[5]=[u("div",{class:"action-icon action-icon-orange"},[u("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[u("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01"})])],-1),u("div",{class:"action-content"},[u("p",{class:"action-title"},"Mis Rutinas"),u("p",{class:"action-description"},"Crear y gestionar plantillas")],-1)])]),_:1})):le("",!0),je(s).isTrainer?($(),sn(o,{key:1,to:"/trainer/students",class:"action-card"},{default:De(()=>[...i[6]||(i[6]=[u("div",{class:"action-icon action-icon-teal"},[u("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[u("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})])],-1),u("div",{class:"action-content"},[u("p",{class:"action-title"},"Mis Estudiantes"),u("p",{class:"action-description"},"Gestionar y asignar rutinas")],-1)])]),_:1})):le("",!0),je(s).isAdmin?($(),sn(o,{key:2,to:"/admin/exercises",class:"action-card"},{default:De(()=>[...i[7]||(i[7]=[u("div",{class:"action-icon action-icon-purple"},[u("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[u("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),u("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})])],-1),u("div",{class:"action-content"},[u("p",{class:"action-title"},"Administracin"),u("p",{class:"action-description"},"Gestionar ejercicios")],-1)])]),_:1})):le("",!0),u("div",nm,[i[9]||(i[9]=u("div",{class:"action-icon action-icon-green"},[u("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[u("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})])],-1)),u("div",rm,[i[8]||(i[8]=u("p",{class:"action-title"},"Estado",-1)),u("p",im,N(je(s).profile?.role==="admin"?"Administrador":"Usuario"),1)])])])])])])])])}}}),am=gt(om,[["__scopeId","data-v-f94f711f"]]);function Sn(){const t=M(!1),e=M(null);async function s(E){t.value=!0,e.value=null;try{const{data:_,error:v}=await de.from("training_days").select("*").eq("user_id",E).order("day_number");if(v)throw v;return await Promise.all((_||[]).map(async S=>{const{data:O,error:D}=await de.from("day_exercises").select(`
              *,
              exercise:exercises(*)
            `).eq("training_day_id",S.id).order("order_index");if(D)throw D;return{...S,exercises:O||[]}}))}catch(_){return e.value=_.message,[]}finally{t.value=!1}}async function n(E,_,v,g){t.value=!0,e.value=null;try{const{data:S,error:O}=await de.from("training_days").insert({user_id:E,day_number:_,day_name:v,description:g||null}).select().single();if(O)throw O;return S}catch(S){throw e.value=S.message,S}finally{t.value=!1}}async function r(E,_,v=3,g="10-12",S=60,O=0){t.value=!0,e.value=null;try{const{data:D,error:L}=await de.from("day_exercises").insert({training_day_id:E,exercise_id:_,sets:v,reps:g,rest_seconds:S,order_index:O}).select().single();if(L)throw L;return D}catch(D){throw e.value=D.message,D}finally{t.value=!1}}async function i(E){t.value=!0,e.value=null;try{const{error:_}=await de.from("day_exercises").delete().eq("id",E);if(_)throw _}catch(_){throw e.value=_.message,_}finally{t.value=!1}}async function o(){t.value=!0,e.value=null;try{const{data:E,error:_}=await de.from("exercises").select("*").order("name");if(_)throw _;return E||[]}catch(E){return e.value=E.message,[]}finally{t.value=!1}}async function a(E){t.value=!0,e.value=null;try{const{data:_,error:v}=await de.from("exercises").insert(E).select().single();if(v)throw v;return _}catch(_){throw e.value=_.message,_}finally{t.value=!1}}async function l(E,_){t.value=!0,e.value=null;try{const{data:v,error:g}=await de.from("exercises").update(_).eq("id",E).select().single();if(g)throw g;return v}catch(v){throw e.value=v.message,v}finally{t.value=!1}}async function c(E){t.value=!0,e.value=null;try{const{error:_}=await de.from("exercises").delete().eq("id",E);if(_)throw _}catch(_){throw e.value=_.message,_}finally{t.value=!1}}async function d(E,_){t.value=!0,e.value=null;try{const{error:v}=await de.from("day_exercises").update({order_index:_}).eq("id",E);if(v)throw v}catch(v){throw e.value=v.message,v}finally{t.value=!1}}async function h(E,_){t.value=!0,e.value=null;try{const{data:v,error:g}=await de.from("training_sessions").insert({user_id:E,training_day_id:_,start_time:new Date().toISOString()}).select().single();if(g)throw g;return v}catch(v){throw e.value=v.message,v}finally{t.value=!1}}async function p(E,_){t.value=!0,e.value=null;try{const v=new Date,g=new Date(_),S=Math.floor((v.getTime()-g.getTime())/1e3),{error:O}=await de.from("training_sessions").update({end_time:v.toISOString(),duration_seconds:S,completed:!0}).eq("id",E);if(O)throw O}catch(v){throw e.value=v.message,v}finally{t.value=!1}}async function f(E,_,v,g,S,O,D){t.value=!0,e.value=null;try{const{data:L,error:V}=await de.from("exercise_sets").insert({training_session_id:E,day_exercise_id:_,exercise_id:v,set_number:g,weight_kg:S,reps:O,rest_seconds:D,completed:!0}).select().single();if(V)throw V;return L}catch(L){throw e.value=L.message,L}finally{t.value=!1}}async function b(E){t.value=!0,e.value=null;try{const{data:_,error:v}=await de.from("training_sessions").select(`
          *,
          training_day:training_days(*)
        `).eq("user_id",E).order("start_time",{ascending:!1});if(v)throw v;return _||[]}catch(_){return e.value=_.message,[]}finally{t.value=!1}}async function w(E){t.value=!0,e.value=null;try{const{data:_,error:v}=await de.from("exercise_sets").select(`
          *,
          exercise:exercises(*)
        `).eq("training_session_id",E).order("created_at");if(v)throw v;return _||[]}catch(_){return e.value=_.message,[]}finally{t.value=!1}}return{loading:t,error:e,getTrainingDays:s,createTrainingDay:n,addExerciseToDay:r,removeExerciseFromDay:i,getAllExercises:o,createExercise:a,updateExercise:l,deleteExercise:c,updateExerciseOrder:d,createTrainingSession:h,finishTrainingSession:p,createExerciseSet:f,getTrainingSessions:b,getSessionSets:w}}function Cr(){const t=M(!1),e=M(null);async function s(_,v,g){t.value=!0,e.value=null;try{const{data:S,error:O}=await de.from("training_templates").insert({trainer_id:_,name:v,description:g||null}).select().single();if(O)throw O;return S}catch(S){throw e.value=S.message,S}finally{t.value=!1}}async function n(_){t.value=!0,e.value=null;try{const{data:v,error:g}=await de.from("training_templates").select("*").eq("trainer_id",_).order("created_at",{ascending:!1});if(g)throw g;return v||[]}catch(v){return e.value=v.message,[]}finally{t.value=!1}}async function r(_){t.value=!0,e.value=null;try{const{data:v,error:g}=await de.from("training_templates").select("*").eq("id",_).single();if(g)throw g;const{data:S,error:O}=await de.from("template_days").select("*").eq("template_id",_).order("day_number");if(O)throw O;const D=await Promise.all((S||[]).map(async L=>{const{data:V,error:q}=await de.from("template_day_exercises").select(`
              *,
              exercise:exercises(*)
            `).eq("template_day_id",L.id).order("order_index");if(q)throw q;return{...L,exercises:V||[]}}));return{...v,days:D}}catch(v){return e.value=v.message,null}finally{t.value=!1}}async function i(_,v,g,S){t.value=!0,e.value=null;try{const{data:O,error:D}=await de.from("template_days").insert({template_id:_,day_number:v,day_name:g,description:S||null}).select().single();if(D)throw D;return O}catch(O){throw e.value=O.message,O}finally{t.value=!1}}async function o(_,v,g=3,S="10-12",O=60,D=0){t.value=!0,e.value=null;try{const{data:L,error:V}=await de.from("template_day_exercises").insert({template_day_id:_,exercise_id:v,sets:g,reps:S,rest_seconds:O,order_index:D}).select().single();if(V)throw V;return L}catch(L){throw e.value=L.message,L}finally{t.value=!1}}async function a(_,v){t.value=!0,e.value=null;try{const{data:g,error:S}=await de.from("exercises").insert({...v,scope:"trainer",owner_id:_}).select().single();if(S)throw S;return g}catch(g){throw e.value=g.message,g}finally{t.value=!1}}async function l(_,v){t.value=!0,e.value=null;try{const{data:g,error:S}=await de.from("exercises").insert({...v,scope:"personal",owner_id:_}).select().single();if(S)throw S;return g}catch(g){throw e.value=g.message,g}finally{t.value=!1}}async function c(_,v){t.value=!0,e.value=null;try{const{data:g,error:S}=await de.from("exercises").select("*").or(`scope.eq.global,and(scope.eq.trainer,owner_id.eq.${v||"null"}),and(scope.eq.personal,owner_id.eq.${_})`).order("name");if(S)throw S;return g||[]}catch(g){return e.value=g.message,[]}finally{t.value=!1}}async function d(_,v,g,S){t.value=!0,e.value=null;try{const{data:O,error:D}=await de.from("template_assignments").insert({template_id:_,student_id:v,trainer_id:g,notes:S||null}).select().single();if(D)throw D;const{error:L}=await de.rpc("copy_template_to_user",{p_template_id:_,p_user_id:v});if(L)throw L;return O}catch(O){throw e.value=O.message,O}finally{t.value=!1}}async function h(_){t.value=!0,e.value=null;try{const{data:v,error:g}=await de.from("profiles").select("id, email, role").eq("trainer_id",_).order("email");if(g)throw g;return v||[]}catch(v){return e.value=v.message,[]}finally{t.value=!1}}async function p(_){t.value=!0,e.value=null;try{const{data:v,error:g}=await de.from("template_assignments").select(`
          *,
          template:training_templates(*)
        `).eq("student_id",_).order("assigned_at",{ascending:!1});if(g)throw g;return v||[]}catch(v){return e.value=v.message,[]}finally{t.value=!1}}async function f(_){t.value=!0,e.value=null;try{const{error:v}=await de.from("training_templates").delete().eq("id",_);if(v)throw v}catch(v){throw e.value=v.message,v}finally{t.value=!1}}async function b(_){t.value=!0,e.value=null;try{const{error:v}=await de.from("template_days").delete().eq("id",_);if(v)throw v}catch(v){throw e.value=v.message,v}finally{t.value=!1}}async function w(_){t.value=!0,e.value=null;try{const{error:v}=await de.from("template_day_exercises").delete().eq("id",_);if(v)throw v}catch(v){throw e.value=v.message,v}finally{t.value=!1}}async function E(_,v){t.value=!0,e.value=null;try{const{data:g,error:S}=await de.from("training_templates").update(v).eq("id",_).select().single();if(S)throw S;return g}catch(g){throw e.value=g.message,g}finally{t.value=!1}}return{loading:t,error:e,createTemplate:s,getTrainerTemplates:n,getTemplateComplete:r,createTemplateDay:i,addExerciseToTemplateDay:o,createTrainerExercise:a,createPersonalExercise:l,getAvailableExercises:c,assignTemplateToStudent:d,getTrainerStudents:h,getStudentAssignments:p,deleteTemplate:f,deleteTemplateDay:b,removeExerciseFromTemplateDay:w,updateTemplate:E}}const lm={class:"page"},um={class:"navbar"},cm={class:"nav-container"},dm={class:"nav-content"},hm={class:"nav-right"},fm={class:"main-content"},pm={class:"container"},vm={key:0,class:"loading"},gm={key:1,class:"empty-state"},mm={key:2,class:"days-grid"},_m={class:"day-header"},ym={class:"day-title"},bm={class:"day-number"},wm=["onClick"],Em={key:0,class:"day-description"},Sm={class:"exercises-list"},km={class:"exercise-order"},Tm=["onClick","disabled"],Cm={class:"order-number"},Om=["onClick","disabled"],Am=["onClick"],xm={class:"exercise-name"},$m={class:"exercise-details"},Rm={key:0},Pm=["onClick"],Im=["onClick"],jm={class:"form-group"},Nm={class:"form-group"},Dm={class:"form-group"},Um={class:"modal-actions"},Lm={class:"exercise-search"},Mm={class:"tabs"},Bm={key:0,class:"exercise-list-modal"},Vm=["onClick"],qm={class:"ex-name"},Fm={class:"ex-meta"},Hm={key:1},Wm={class:"form-group"},Km={class:"form-group"},Gm={class:"form-group"},zm={class:"form-group"},Jm={class:"modal-title"},Qm={class:"form-group"},Ym={class:"form-group"},Xm={class:"form-group"},Zm={class:"modal-actions"},e_={class:"modal-title"},t_={class:"exercise-detail"},s_={class:"detail-section"},n_={class:"detail-value"},r_={class:"detail-section"},i_={key:0,class:"detail-section"},o_={class:"detail-value"},a_={key:1,class:"detail-section"},l_={class:"detail-value"},u_=ht({__name:"TrainingView",setup(t){const e=Ms(),s=mt(),{loading:n,getTrainingDays:r,createTrainingDay:i,addExerciseToDay:o,removeExerciseFromDay:a,updateExerciseOrder:l}=Sn(),{getAvailableExercises:c,createPersonalExercise:d}=Cr(),h=M([]),p=M([]),f=M(!1),b=M(!1),w=M(!1),E=M(null),_=M(null),v=M(null),g=M(""),S=M("all"),O=M({dayNumber:1,name:"",description:""}),D=M({name:"",muscle_group:"",difficulty:"",instructions:""}),L=M({sets:3,reps:"10-12",rest:60}),V=Ie(()=>{if(!g.value)return p.value;const oe=g.value.toLowerCase();return p.value.filter(T=>T.name.toLowerCase().includes(oe)||T.muscle_group?.toLowerCase().includes(oe))});Mt(()=>s.isAuthenticated,oe=>{oe&&s.user&&(q(),J())},{immediate:!0});async function q(){s.user&&(h.value=await r(s.user.id))}async function J(){if(!s.user)return;const oe=s.profile?.trainer_id;p.value=await c(s.user.id,oe||void 0)}async function A(){if(s.user)try{await i(s.user.id,O.value.dayNumber,O.value.name,O.value.description),f.value=!1,O.value={dayNumber:1,name:"",description:""},await q()}catch(oe){console.error("Error:",oe)}}function ke(oe){v.value=oe,g.value="",S.value="all",b.value=!0}function W(oe){_.value=oe,b.value=!1,w.value=!0}async function Ue(){if(s.user)try{const oe=await d(s.user.id,{name:D.value.name,muscle_group:D.value.muscle_group||null,difficulty:D.value.difficulty||null,instructions:D.value.instructions||null});_.value=oe,b.value=!1,w.value=!0,D.value={name:"",muscle_group:"",difficulty:"",instructions:""},await J()}catch(oe){console.error("Error:",oe)}}async function tt(){if(!(!_.value||!v.value))try{const oe=h.value.find(C=>C.id===v.value.id),T=oe?oe.exercises.length:0;await o(v.value.id,_.value.id,L.value.sets,L.value.reps,L.value.rest,T),w.value=!1,_.value=null,L.value={sets:3,reps:"10-12",rest:60},await q()}catch(oe){console.error("Error:",oe)}}async function be(oe,T){if(confirm("Eliminar este ejercicio del da?"))try{await a(oe),await q()}catch(C){console.error("Error:",C)}}async function re(oe,T,C,P){const fe=h.value.find(x=>x.id===oe);if(!fe||!fe.exercises)return;const ue=C+P;if(ue<0||ue>=fe.exercises.length)return;const K=fe.exercises[ue];if(!(!K||!K.id))try{await l(T,ue),await l(K.id,C),await q()}catch(x){console.error("Error:",x)}}function pe(oe){oe&&(E.value=oe)}function We(oe){e.push({name:"ActiveTraining",params:{dayId:oe.id}})}return(oe,T)=>{const C=Pt("router-link");return $(),R("div",lm,[u("nav",um,[u("div",cm,[u("div",dm,[T[28]||(T[28]=u("h1",{class:"logo"},"Mis Entrenamientos",-1)),u("div",hm,[_e(C,{to:"/dashboard",class:"nav-link"},{default:De(()=>[...T[26]||(T[26]=[Se("Dashboard",-1)])]),_:1}),_e(C,{to:"/history",class:"nav-link"},{default:De(()=>[...T[27]||(T[27]=[Se("Historial",-1)])]),_:1})])])])]),u("main",fm,[u("div",pm,[je(n)&&h.value.length===0?($(),R("div",vm,"Cargando...")):h.value.length===0?($(),R("div",gm,[T[29]||(T[29]=u("p",null,"No tienes das de entrenamiento configurados an.",-1)),u("button",{onClick:T[0]||(T[0]=P=>f.value=!0),class:"btn btn-primary"}," Crear Primer Da ")])):($(),R("div",mm,[($(!0),R(Oe,null,Qe(h.value,P=>($(),R("div",{key:P.id,class:"day-card"},[u("div",_m,[u("div",null,[u("h3",ym,N(P.day_name),1),u("span",bm,"Da "+N(P.day_number),1)]),u("button",{onClick:fe=>We(P),class:"btn btn-success btn-sm"},"  Entrenar ",8,wm)]),P.description?($(),R("p",Em,N(P.description),1)):le("",!0),u("div",Sm,[($(!0),R(Oe,null,Qe(P.exercises,(fe,ue)=>($(),R("div",{key:fe.id,class:"exercise-item"},[u("div",km,[u("button",{onClick:K=>re(P.id,fe.id,ue,-1),disabled:ue===0,class:"btn-order",title:"Mover arriba"},"",8,Tm),u("span",Cm,N(ue+1),1),u("button",{onClick:K=>re(P.id,fe.id,ue,1),disabled:ue===P.exercises.length-1,class:"btn-order",title:"Mover abajo"},"",8,Om)]),u("div",{class:"exercise-info",onClick:K=>pe(fe.exercise)},[u("h4",xm,N(fe.exercise?.name),1),u("p",$m,[Se(N(fe.sets)+" series  "+N(fe.reps)+" reps ",1),fe.rest_seconds?($(),R("span",Rm,"  "+N(fe.rest_seconds)+"s",1)):le("",!0)])],8,Am),u("button",{onClick:K=>be(fe.id,P.id),class:"btn-remove",title:"Eliminar"},"  ",8,Pm)]))),128)),u("button",{onClick:fe=>ke(P),class:"btn btn-secondary btn-full"}," + Agregar Ejercicio ",8,Im)])]))),128))])),u("button",{onClick:T[1]||(T[1]=P=>f.value=!0),class:"btn btn-primary btn-floating"}," + Nuevo Da ")])]),f.value?($(),R("div",{key:0,class:"modal-overlay",onClick:T[7]||(T[7]=P=>f.value=!1)},[u("div",{class:"modal",onClick:T[6]||(T[6]=Pe(()=>{},["stop"]))},[T[34]||(T[34]=u("h3",{class:"modal-title"},"Crear Nuevo Da",-1)),u("form",{onSubmit:Pe(A,["prevent"])},[u("div",jm,[T[30]||(T[30]=u("label",{class:"label"},"Nmero del da",-1)),he(u("input",{"onUpdate:modelValue":T[2]||(T[2]=P=>O.value.dayNumber=P),type:"number",min:"1",required:"",class:"input"},null,512),[[me,O.value.dayNumber,void 0,{number:!0}]])]),u("div",Nm,[T[31]||(T[31]=u("label",{class:"label"},"Nombre",-1)),he(u("input",{"onUpdate:modelValue":T[3]||(T[3]=P=>O.value.name=P),type:"text",required:"",class:"input",placeholder:"Ej: Pecho y Trceps"},null,512),[[me,O.value.name]])]),u("div",Dm,[T[32]||(T[32]=u("label",{class:"label"},"Descripcin (opcional)",-1)),he(u("textarea",{"onUpdate:modelValue":T[4]||(T[4]=P=>O.value.description=P),class:"input",rows:"3"},null,512),[[me,O.value.description]])]),u("div",Um,[u("button",{type:"button",onClick:T[5]||(T[5]=P=>f.value=!1),class:"btn btn-secondary"}," Cancelar "),T[33]||(T[33]=u("button",{type:"submit",class:"btn btn-primary"},"Crear",-1))])],32)])])):le("",!0),b.value?($(),R("div",{key:1,class:"modal-overlay",onClick:T[16]||(T[16]=P=>b.value=!1)},[u("div",{class:"modal modal-large",onClick:T[15]||(T[15]=Pe(()=>{},["stop"]))},[T[42]||(T[42]=u("h3",{class:"modal-title"},"Agregar Ejercicio",-1)),u("div",Lm,[he(u("input",{"onUpdate:modelValue":T[8]||(T[8]=P=>g.value=P),type:"text",placeholder:"Buscar ejercicio...",class:"input"},null,512),[[me,g.value]])]),u("div",Mm,[u("button",{class:rt(["tab",{active:S.value==="all"}]),onClick:T[9]||(T[9]=P=>S.value="all")}," Todos ("+N(V.value.length)+") ",3),u("button",{class:rt(["tab",{active:S.value==="create"}]),onClick:T[10]||(T[10]=P=>S.value="create")}," + Crear Personal ",2)]),S.value==="all"?($(),R("div",Bm,[($(!0),R(Oe,null,Qe(V.value,P=>($(),R("div",{key:P.id,onClick:fe=>W(P),class:"exercise-list-item"},[u("div",null,[u("p",qm,N(P.name),1),u("p",Fm,[Se(N(P.muscle_group)+"  "+N(P.difficulty)+" ",1),P.scope!=="global"?($(),R("span",{key:0,class:rt(["badge-scope",`badge-${P.scope}`])},N(P.scope==="personal"?"Personal":"Entrenador"),3)):le("",!0)])])],8,Vm))),128))])):($(),R("div",Hm,[u("form",{onSubmit:Pe(Ue,["prevent"])},[u("div",Wm,[T[35]||(T[35]=u("label",{class:"label"},"Nombre del ejercicio *",-1)),he(u("input",{"onUpdate:modelValue":T[11]||(T[11]=P=>D.value.name=P),type:"text",required:"",class:"input"},null,512),[[me,D.value.name]])]),u("div",Km,[T[37]||(T[37]=u("label",{class:"label"},"Grupo muscular",-1)),he(u("select",{"onUpdate:modelValue":T[12]||(T[12]=P=>D.value.muscle_group=P),class:"input"},[...T[36]||(T[36]=[yr('<option value="" data-v-3dc91483>Seleccionar...</option><option value="Pecho" data-v-3dc91483>Pecho</option><option value="Espalda" data-v-3dc91483>Espalda</option><option value="Piernas" data-v-3dc91483>Piernas</option><option value="Hombros" data-v-3dc91483>Hombros</option><option value="Brazos" data-v-3dc91483>Brazos</option><option value="Core" data-v-3dc91483>Core</option>',7)])],512),[[js,D.value.muscle_group]])]),u("div",Gm,[T[39]||(T[39]=u("label",{class:"label"},"Dificultad",-1)),he(u("select",{"onUpdate:modelValue":T[13]||(T[13]=P=>D.value.difficulty=P),class:"input"},[...T[38]||(T[38]=[u("option",{value:""},"Seleccionar...",-1),u("option",{value:"principiante"},"Principiante",-1),u("option",{value:"intermedio"},"Intermedio",-1),u("option",{value:"avanzado"},"Avanzado",-1)])],512),[[js,D.value.difficulty]])]),u("div",zm,[T[40]||(T[40]=u("label",{class:"label"},"Instrucciones",-1)),he(u("textarea",{"onUpdate:modelValue":T[14]||(T[14]=P=>D.value.instructions=P),class:"input",rows:"4"},null,512),[[me,D.value.instructions]])]),T[41]||(T[41]=u("button",{type:"submit",class:"btn btn-primary btn-full"}," Crear y Agregar ",-1))],32)]))])])):le("",!0),w.value?($(),R("div",{key:2,class:"modal-overlay",onClick:T[22]||(T[22]=P=>w.value=!1)},[u("div",{class:"modal",onClick:T[21]||(T[21]=Pe(()=>{},["stop"]))},[u("h3",Jm,"Configurar: "+N(_.value?.name),1),u("form",{onSubmit:Pe(tt,["prevent"])},[u("div",Qm,[T[43]||(T[43]=u("label",{class:"label"},"Series",-1)),he(u("input",{"onUpdate:modelValue":T[17]||(T[17]=P=>L.value.sets=P),type:"number",min:"1",required:"",class:"input"},null,512),[[me,L.value.sets,void 0,{number:!0}]])]),u("div",Ym,[T[44]||(T[44]=u("label",{class:"label"},"Repeticiones",-1)),he(u("input",{"onUpdate:modelValue":T[18]||(T[18]=P=>L.value.reps=P),type:"text",required:"",class:"input",placeholder:"10-12"},null,512),[[me,L.value.reps]])]),u("div",Xm,[T[45]||(T[45]=u("label",{class:"label"},"Descanso (segundos)",-1)),he(u("input",{"onUpdate:modelValue":T[19]||(T[19]=P=>L.value.rest=P),type:"number",min:"0",required:"",class:"input"},null,512),[[me,L.value.rest,void 0,{number:!0}]])]),u("div",Zm,[u("button",{type:"button",onClick:T[20]||(T[20]=P=>w.value=!1),class:"btn btn-secondary"}," Cancelar "),T[46]||(T[46]=u("button",{type:"submit",class:"btn btn-primary"},"Agregar",-1))])],32)])])):le("",!0),E.value?($(),R("div",{key:3,class:"modal-overlay",onClick:T[25]||(T[25]=P=>E.value=null)},[u("div",{class:"modal modal-large",onClick:T[24]||(T[24]=Pe(()=>{},["stop"]))},[u("button",{class:"modal-close",onClick:T[23]||(T[23]=P=>E.value=null)},""),u("h3",e_,N(E.value.name),1),u("div",t_,[u("div",s_,[T[47]||(T[47]=u("p",{class:"detail-label"},"Grupo muscular:",-1)),u("p",n_,N(E.value.muscle_group||"No especificado"),1)]),u("div",r_,[T[48]||(T[48]=u("p",{class:"detail-label"},"Dificultad:",-1)),u("span",{class:rt(["badge",`badge-${E.value.difficulty}`])},N(E.value.difficulty||"No especificado"),3)]),E.value.description?($(),R("div",i_,[T[49]||(T[49]=u("p",{class:"detail-label"},"Descripcin:",-1)),u("p",o_,N(E.value.description),1)])):le("",!0),E.value.instructions?($(),R("div",a_,[T[50]||(T[50]=u("p",{class:"detail-label"},"Instrucciones:",-1)),u("p",l_,N(E.value.instructions),1)])):le("",!0)])])])):le("",!0)])}}}),c_=gt(u_,[["__scopeId","data-v-3dc91483"]]),d_={class:"page"},h_={class:"navbar"},f_={class:"nav-container"},p_={class:"nav-content"},v_={class:"nav-right"},g_={class:"main-content"},m_={class:"container"},__={key:0,class:"loading"},y_={key:1,class:"exercises-table-container"},b_={class:"exercises-table"},w_={class:"font-medium"},E_={key:1},S_={class:"description-cell"},k_={class:"actions"},T_=["onClick"],C_=["onClick"],O_={key:0,class:"empty-state"},A_={class:"modal-title"},x_={class:"form-grid"},$_={class:"form-group"},R_={class:"form-group"},P_={class:"form-group"},I_={class:"form-group form-group-full"},j_={class:"form-group form-group-full"},N_={class:"form-group"},D_={class:"form-group"},U_={key:0,class:"alert alert-error"},L_={class:"modal-actions"},M_=["disabled"],B_=ht({__name:"AdminExercisesView",setup(t){const{loading:e,error:s,getAllExercises:n,createExercise:r,updateExercise:i,deleteExercise:o}=Sn(),a=M([]),l=M(!1),c=M(null),d=M({name:"",description:"",muscle_group:"",difficulty:"",instructions:"",video_url:"",image_url:""});async function h(){a.value=await n()}function p(){c.value=null,d.value={name:"",description:"",muscle_group:"",difficulty:"",instructions:"",video_url:"",image_url:""},l.value=!0}function f(v){c.value=v,d.value={name:v.name,description:v.description||"",muscle_group:v.muscle_group||"",difficulty:v.difficulty||"",instructions:v.instructions||"",video_url:v.video_url||"",image_url:v.image_url||""},l.value=!0}function b(){l.value=!1,c.value=null,s.value=null}async function w(){try{const v={name:d.value.name,description:d.value.description||null,muscle_group:d.value.muscle_group||null,difficulty:d.value.difficulty||null,instructions:d.value.instructions||null,video_url:d.value.video_url||null,image_url:d.value.image_url||null};c.value?await i(c.value.id,v):await r(v),b(),await h()}catch(v){console.error("Error saving exercise:",v)}}async function E(v){if(confirm("Ests seguro de eliminar este ejercicio?"))try{await o(v),await h()}catch(g){console.error("Error deleting exercise:",g)}}function _(v,g){return v.length>g?v.substring(0,g)+"...":v}return gr(()=>{h()}),(v,g)=>{const S=Pt("router-link");return $(),R("div",d_,[u("nav",h_,[u("div",f_,[u("div",p_,[g[10]||(g[10]=u("h1",{class:"logo"}," Panel de Administracin",-1)),u("div",v_,[_e(S,{to:"/dashboard",class:"nav-link"},{default:De(()=>[...g[8]||(g[8]=[Se("Dashboard",-1)])]),_:1}),_e(S,{to:"/training",class:"nav-link"},{default:De(()=>[...g[9]||(g[9]=[Se("Entrenamientos",-1)])]),_:1})])])])]),u("main",g_,[u("div",m_,[u("div",{class:"header-section"},[g[11]||(g[11]=u("h2",{class:"page-title"},"Gestin de Ejercicios",-1)),u("button",{onClick:p,class:"btn btn-primary"}," + Nuevo Ejercicio ")]),je(e)&&a.value.length===0?($(),R("div",__," Cargando ejercicios... ")):($(),R("div",y_,[u("table",b_,[g[12]||(g[12]=u("thead",null,[u("tr",null,[u("th",null,"Nombre"),u("th",null,"Grupo Muscular"),u("th",null,"Dificultad"),u("th",null,"Descripcin"),u("th",null,"Acciones")])],-1)),u("tbody",null,[($(!0),R(Oe,null,Qe(a.value,O=>($(),R("tr",{key:O.id},[u("td",w_,N(O.name),1),u("td",null,N(O.muscle_group||"-"),1),u("td",null,[O.difficulty?($(),R("span",{key:0,class:rt(["badge",`badge-${O.difficulty}`])},N(O.difficulty),3)):($(),R("span",E_,"-"))]),u("td",S_,N(O.description?_(O.description,50):"-"),1),u("td",null,[u("div",k_,[u("button",{onClick:D=>f(O),class:"btn-icon",title:"Editar"},"  ",8,T_),u("button",{onClick:D=>E(O.id),class:"btn-icon btn-danger",title:"Eliminar"},"  ",8,C_)])])]))),128))])]),a.value.length===0&&!je(e)?($(),R("div",O_," No hay ejercicios creados an ")):le("",!0)]))])]),l.value?($(),R("div",{key:0,class:"modal-overlay",onClick:b},[u("div",{class:"modal modal-large",onClick:g[7]||(g[7]=Pe(()=>{},["stop"]))},[u("button",{class:"modal-close",onClick:b},""),u("h3",A_,N(c.value?"Editar Ejercicio":"Nuevo Ejercicio"),1),u("form",{onSubmit:Pe(w,["prevent"])},[u("div",x_,[u("div",$_,[g[13]||(g[13]=u("label",{class:"label"},"Nombre del ejercicio *",-1)),he(u("input",{"onUpdate:modelValue":g[0]||(g[0]=O=>d.value.name=O),type:"text",required:"",class:"input",placeholder:"Press de banca"},null,512),[[me,d.value.name]])]),u("div",R_,[g[15]||(g[15]=u("label",{class:"label"},"Grupo muscular",-1)),he(u("select",{"onUpdate:modelValue":g[1]||(g[1]=O=>d.value.muscle_group=O),class:"input"},[...g[14]||(g[14]=[yr('<option value="" data-v-1fa88135>Seleccionar...</option><option value="Pecho" data-v-1fa88135>Pecho</option><option value="Espalda" data-v-1fa88135>Espalda</option><option value="Piernas" data-v-1fa88135>Piernas</option><option value="Hombros" data-v-1fa88135>Hombros</option><option value="Brazos" data-v-1fa88135>Brazos</option><option value="Core" data-v-1fa88135>Core</option><option value="Full Body" data-v-1fa88135>Full Body</option>',8)])],512),[[js,d.value.muscle_group]])]),u("div",P_,[g[17]||(g[17]=u("label",{class:"label"},"Dificultad",-1)),he(u("select",{"onUpdate:modelValue":g[2]||(g[2]=O=>d.value.difficulty=O),class:"input"},[...g[16]||(g[16]=[u("option",{value:""},"Seleccionar...",-1),u("option",{value:"principiante"},"Principiante",-1),u("option",{value:"intermedio"},"Intermedio",-1),u("option",{value:"avanzado"},"Avanzado",-1)])],512),[[js,d.value.difficulty]])]),u("div",I_,[g[18]||(g[18]=u("label",{class:"label"},"Descripcin",-1)),he(u("textarea",{"onUpdate:modelValue":g[3]||(g[3]=O=>d.value.description=O),class:"input",rows:"3",placeholder:"Descripcin breve del ejercicio"},null,512),[[me,d.value.description]])]),u("div",j_,[g[19]||(g[19]=u("label",{class:"label"},"Instrucciones",-1)),he(u("textarea",{"onUpdate:modelValue":g[4]||(g[4]=O=>d.value.instructions=O),class:"input",rows:"4",placeholder:"Paso a paso de cmo realizar el ejercicio"},null,512),[[me,d.value.instructions]])]),u("div",N_,[g[20]||(g[20]=u("label",{class:"label"},"URL de video (opcional)",-1)),he(u("input",{"onUpdate:modelValue":g[5]||(g[5]=O=>d.value.video_url=O),type:"url",class:"input",placeholder:"https://youtube.com/..."},null,512),[[me,d.value.video_url]])]),u("div",D_,[g[21]||(g[21]=u("label",{class:"label"},"URL de imagen (opcional)",-1)),he(u("input",{"onUpdate:modelValue":g[6]||(g[6]=O=>d.value.image_url=O),type:"url",class:"input",placeholder:"https://..."},null,512),[[me,d.value.image_url]])])]),je(s)?($(),R("div",U_,N(je(s)),1)):le("",!0),u("div",L_,[u("button",{type:"button",onClick:b,class:"btn btn-secondary"}," Cancelar "),u("button",{type:"submit",disabled:je(e),class:"btn btn-primary"},N(je(e)?"Guardando...":c.value?"Actualizar":"Crear"),9,M_)])],32)])])):le("",!0)])}}}),V_=gt(B_,[["__scopeId","data-v-1fa88135"]]),q_={class:"page"},F_={class:"training-header"},H_={class:"header-content"},W_={class:"training-title"},K_={class:"timer"},G_={class:"main-content"},z_={key:0,class:"start-screen"},J_={key:1,class:"exercise-screen"},Q_={class:"progress-bar"},Y_={class:"exercise-info-card"},X_={class:"exercise-header"},Z_={class:"exercise-number"},ey={class:"current-exercise-name"},ty={class:"exercise-stats"},sy={class:"stat"},ny={class:"stat-value"},ry={class:"stat"},iy={class:"stat-value"},oy={class:"stat"},ay={class:"stat-value"},ly={class:"set-input-card"},uy={class:"input-grid"},cy={class:"input-group"},dy={class:"input-group"},hy=["disabled"],fy={key:0,class:"sets-history"},py={class:"sets-list"},vy={class:"set-number"},gy={class:"set-data"},my={key:1,class:"rest-overlay"},_y={class:"rest-content"},yy={class:"rest-timer"},by={key:2,class:"finish-screen"},wy={class:"finish-stats"},Ey={class:"finish-stat"},Sy={class:"finish-value"},ky={class:"finish-stat"},Ty={class:"finish-value"},Cy={class:"finish-stat"},Oy={class:"finish-value"},Ay={class:"modal-title"},xy={class:"exercise-detail"},$y={class:"detail-section"},Ry={class:"detail-value"},Py={key:0,class:"detail-section"},Iy={class:"detail-value"},jy={key:1,class:"detail-section"},Ny={class:"detail-value"},Dy=ht({__name:"ActiveTrainingView",setup(t){const e=Yl(),s=Ms(),n=mt(),{getTrainingDays:r,createTrainingSession:i,finishTrainingSession:o,createExerciseSet:a}=Sn(),l=M(null),c=M([]),d=M(!1),h=M(null),p=M(null),f=M(0),b=M(1),w=M(0),E=M(0),_=M([]),v=M(0),g=M(null),S=M(!1),O=M(0),D=M(null),L=M(!1),V=M({weight:null,reps:null}),q=Ie(()=>f.value>=c.value.length?null:c.value[f.value]),J=Ie(()=>q.value?_.value.filter(ue=>ue.day_exercise_id===q.value.id):[]),A=Ie(()=>c.value.reduce((ue,K)=>ue+K.sets,0)),ke=Ie(()=>A.value===0?0:w.value/A.value*100),W=Ie(()=>{const ue=Math.floor(v.value/3600),K=Math.floor(v.value%3600/60),x=v.value%60;return ue>0?`${ue}:${K.toString().padStart(2,"0")}:${x.toString().padStart(2,"0")}`:`${K}:${x.toString().padStart(2,"0")}`});gr(async()=>{const ue=e.params.dayId;if(!n.user){s.push("/login");return}const K=await r(n.user.id);if(l.value=K.find(x=>x.id===ue)||null,!l.value){s.push("/training");return}c.value=l.value.exercises}),Mi(()=>{be(),pe()});async function Ue(){if(!(!n.user||!l.value))try{const ue=await i(n.user.id,l.value.id);h.value=ue.id,p.value=ue.start_time,d.value=!0,tt()}catch(ue){console.error("Error starting session:",ue)}}function tt(){g.value=window.setInterval(()=>{v.value++},1e3)}function be(){g.value&&(clearInterval(g.value),g.value=null)}function re(ue){S.value=!0,O.value=ue,D.value=window.setInterval(()=>{O.value--,O.value<=0&&We()},1e3)}function pe(){D.value&&(clearInterval(D.value),D.value=null),S.value=!1}function We(){pe()}async function oe(){if(!(!h.value||!q.value||!V.value.weight||!V.value.reps))try{const ue=await a(h.value,q.value.id,q.value.exercise_id,b.value,V.value.weight,V.value.reps,q.value.rest_seconds);_.value.push(ue),w.value++,V.value={weight:null,reps:null},b.value<q.value.sets?(b.value++,re(q.value.rest_seconds||60)):(E.value++,f.value++,b.value=1)}catch(ue){console.error("Error completing set:",ue)}}function T(){confirm("Saltar este ejercicio?")&&(f.value++,b.value=1,V.value={weight:null,reps:null})}function C(){confirm("Finalizar entrenamiento ahora?")&&(f.value=c.value.length)}async function P(){if(h.value&&p.value)try{await o(h.value,p.value),be(),s.push("/history")}catch(ue){console.error("Error finishing session:",ue)}}function fe(){L.value=!0}return(ue,K)=>($(),R("div",q_,[u("div",F_,[u("div",H_,[u("h1",W_,N(l.value?.day_name),1),u("div",K_," "+N(W.value),1)])]),u("main",G_,[d.value?q.value&&f.value<c.value.length?($(),R("div",J_,[u("div",Q_,[u("div",{class:"progress-fill",style:cr({width:ke.value+"%"})},null,4)]),u("div",Y_,[u("div",X_,[u("span",Z_,N(f.value+1)+" / "+N(c.value.length),1),u("h2",ey,N(q.value?.exercise?.name),1)]),u("div",ty,[u("div",sy,[K[7]||(K[7]=u("span",{class:"stat-label"},"Series",-1)),u("span",ny,N(b.value)+" / "+N(q.value?.sets||0),1)]),u("div",ry,[K[8]||(K[8]=u("span",{class:"stat-label"},"Objetivo",-1)),u("span",iy,N(q.value?.reps||"-")+" reps",1)]),u("div",oy,[K[9]||(K[9]=u("span",{class:"stat-label"},"Descanso",-1)),u("span",ay,N(q.value?.rest_seconds||0)+"s",1)])]),u("button",{onClick:fe,class:"btn btn-secondary btn-full"},"  Ver instrucciones ")]),u("div",ly,[u("h3",null,"Registrar Serie "+N(b.value),1),u("div",uy,[u("div",cy,[K[10]||(K[10]=u("label",null,"Peso (kg)",-1)),he(u("input",{"onUpdate:modelValue":K[1]||(K[1]=x=>V.value.weight=x),type:"number",step:"0.5",class:"input input-large",placeholder:"0"},null,512),[[me,V.value.weight,void 0,{number:!0}]])]),u("div",dy,[K[11]||(K[11]=u("label",null,"Repeticiones",-1)),he(u("input",{"onUpdate:modelValue":K[2]||(K[2]=x=>V.value.reps=x),type:"number",class:"input input-large",placeholder:"0"},null,512),[[me,V.value.reps,void 0,{number:!0}]])])]),u("button",{onClick:oe,class:"btn btn-success btn-large btn-full",disabled:!V.value.weight||!V.value.reps},"  Completar Serie ",8,hy),u("div",{class:"action-buttons"},[u("button",{onClick:T,class:"btn btn-secondary"},"  Saltar Ejercicio "),u("button",{onClick:C,class:"btn btn-danger"},"  Finalizar ")])]),J.value.length>0?($(),R("div",fy,[K[12]||(K[12]=u("h4",null,"Series completadas",-1)),u("div",py,[($(!0),R(Oe,null,Qe(J.value,(x,Y)=>($(),R("div",{key:x.id,class:"set-item"},[u("span",vy,"Serie "+N(Y+1),1),u("span",gy,N(x.weight_kg)+"kg  "+N(x.reps)+" reps",1)]))),128))])])):le("",!0),S.value?($(),R("div",my,[u("div",_y,[K[13]||(K[13]=u("h2",null,"Descansa",-1)),u("div",yy,N(O.value)+"s",1),u("button",{onClick:We,class:"btn btn-secondary"}," Saltar descanso ")])])):le("",!0)])):($(),R("div",by,[K[17]||(K[17]=u("div",{class:"finish-icon"},"",-1)),K[18]||(K[18]=u("h2",null,"Entrenamiento Completado!",-1)),u("div",wy,[u("div",Ey,[K[14]||(K[14]=u("span",{class:"finish-label"},"Duracin",-1)),u("span",Sy,N(W.value),1)]),u("div",ky,[K[15]||(K[15]=u("span",{class:"finish-label"},"Ejercicios",-1)),u("span",Ty,N(E.value),1)]),u("div",Cy,[K[16]||(K[16]=u("span",{class:"finish-label"},"Series",-1)),u("span",Oy,N(w.value),1)])]),u("button",{onClick:P,class:"btn btn-primary btn-large"}," Ver Resumen ")])):($(),R("div",z_,[K[6]||(K[6]=u("h2",null,"Listo para entrenar?",-1)),u("p",null,N(c.value.length)+" ejercicios  "+N(A.value)+" series en total",1),u("button",{onClick:Ue,class:"btn btn-primary btn-large"},"  Iniciar Entrenamiento "),u("button",{onClick:K[0]||(K[0]=x=>ue.$router.back()),class:"btn btn-secondary btn-large"},"  Volver ")]))]),L.value&&q.value?($(),R("div",{key:0,class:"modal-overlay",onClick:K[5]||(K[5]=x=>L.value=!1)},[u("div",{class:"modal",onClick:K[4]||(K[4]=Pe(()=>{},["stop"]))},[u("button",{class:"modal-close",onClick:K[3]||(K[3]=x=>L.value=!1)},""),u("h3",Ay,N(q.value?.exercise?.name),1),u("div",xy,[u("div",$y,[K[19]||(K[19]=u("p",{class:"detail-label"},"Grupo muscular",-1)),u("p",Ry,N(q.value?.exercise?.muscle_group||"No especificado"),1)]),q.value?.exercise?.description?($(),R("div",Py,[K[20]||(K[20]=u("p",{class:"detail-label"},"Descripcin",-1)),u("p",Iy,N(q.value?.exercise?.description),1)])):le("",!0),q.value?.exercise?.instructions?($(),R("div",jy,[K[21]||(K[21]=u("p",{class:"detail-label"},"Instrucciones",-1)),u("p",Ny,N(q.value?.exercise?.instructions),1)])):le("",!0)])])])):le("",!0)]))}}),Uy=gt(Dy,[["__scopeId","data-v-8d5f71d4"]]),Ly={class:"page"},My={class:"navbar"},By={class:"nav-container"},Vy={class:"nav-content"},qy={class:"nav-right"},Fy={class:"main-content"},Hy={class:"container"},Wy={key:0,class:"loading"},Ky={key:1,class:"empty-state"},Gy={key:2,class:"sessions-list"},zy=["onClick"],Jy={class:"session-header"},Qy={class:"session-title"},Yy={class:"session-date"},Xy={class:"session-stats"},Zy={class:"stat-item"},eb={class:"stat-value"},tb={class:"stat-item"},sb={class:"stat-value"},nb={class:"stat-item"},rb={class:"stat-value"},ib={key:0,class:"loading-detail"},ob={key:1,class:"session-detail"},ab={class:"detail-header"},lb={class:"detail-info"},ub={class:"detail-date"},cb={class:"detail-title"},db={class:"detail-stats-grid"},hb={class:"detail-stat"},fb={class:"detail-value"},pb={class:"detail-stat"},vb={class:"detail-value"},gb={class:"exercises-performed"},mb={class:"exercise-group-title"},_b={class:"sets-table"},yb=ht({__name:"HistoryView",setup(t){const e=mt(),{loading:s,getTrainingSessions:n,getSessionSets:r}=Sn(),i=M([]),o=M(null),a=M([]),l=M(!1),c=Ie(()=>i.value.find(_=>_.id===o.value)),d=Ie(()=>{const _={};return a.value.forEach(v=>{const g=v.exercise?.name||"Ejercicio desconocido";_[g]||(_[g]=[]),_[g].push(v)}),_});Mt(()=>e.isAuthenticated,_=>{_&&e.user&&h()},{immediate:!0});async function h(){e.user&&(i.value=await n(e.user.id))}async function p(_){o.value=_,l.value=!0;try{a.value=await r(_)}catch(v){console.error("Error loading session sets:",v)}finally{l.value=!1}}function f(_){if(!_)return"";const v=new Date(_);return new Intl.DateTimeFormat("es-ES",{day:"numeric",month:"long",year:"numeric",hour:"2-digit",minute:"2-digit"}).format(v)}function b(_){if(!_)return"0 min";const v=Math.floor(_/3600),g=Math.floor(_%3600/60);return v>0?`${v}h ${g}min`:`${g} min`}function w(_){return 0}function E(_){return 0}return(_,v)=>{const g=Pt("router-link");return $(),R("div",Ly,[u("nav",My,[u("div",By,[u("div",Vy,[v[5]||(v[5]=u("h1",{class:"logo"},"Historial de Entrenamientos",-1)),u("div",qy,[_e(g,{to:"/training",class:"nav-link"},{default:De(()=>[...v[3]||(v[3]=[Se("Entrenamientos",-1)])]),_:1}),_e(g,{to:"/dashboard",class:"nav-link"},{default:De(()=>[...v[4]||(v[4]=[Se("Dashboard",-1)])]),_:1})])])])]),u("main",Fy,[u("div",Hy,[je(s)?($(),R("div",Wy,"Cargando historial...")):i.value.length===0?($(),R("div",Ky,[v[7]||(v[7]=u("p",null,"No has completado ningn entrenamiento an.",-1)),_e(g,{to:"/training",class:"btn btn-primary"},{default:De(()=>[...v[6]||(v[6]=[Se(" Comenzar a Entrenar ",-1)])]),_:1})])):($(),R("div",Gy,[($(!0),R(Oe,null,Qe(i.value,S=>($(),R("div",{key:S.id,onClick:O=>p(S.id),class:"session-card"},[u("div",Jy,[u("div",null,[u("h3",Qy,N(S.training_day?.day_name||"Entrenamiento"),1),u("p",Yy,N(f(S.start_time)),1)]),u("span",{class:rt(["session-status",S.completed?"completed":"incomplete"])},N(S.completed?" Completado":"Incompleto"),3)]),u("div",Xy,[u("div",Zy,[v[8]||(v[8]=u("span",{class:"stat-icon"},"",-1)),u("span",eb,N(b(S.duration_seconds)),1)]),u("div",tb,[v[9]||(v[9]=u("span",{class:"stat-icon"},"",-1)),u("span",sb,N(E(S.id))+" ejercicios",1)]),u("div",nb,[v[10]||(v[10]=u("span",{class:"stat-icon"},"",-1)),u("span",rb,N(w(S.id))+" series",1)])])],8,zy))),128))]))])]),o.value?($(),R("div",{key:0,class:"modal-overlay",onClick:v[2]||(v[2]=S=>o.value=null)},[u("div",{class:"modal modal-large",onClick:v[1]||(v[1]=Pe(()=>{},["stop"]))},[u("button",{class:"modal-close",onClick:v[0]||(v[0]=S=>o.value=null)},""),v[15]||(v[15]=u("h3",{class:"modal-title"},"Detalle del Entrenamiento",-1)),l.value?($(),R("div",ib,"Cargando...")):($(),R("div",ob,[u("div",ab,[u("div",lb,[u("p",ub,N(f(c.value?.start_time)),1),u("h4",cb,N(c.value?.training_day?.day_name),1)]),u("div",db,[u("div",hb,[v[11]||(v[11]=u("span",{class:"detail-label"},"Duracin",-1)),u("span",fb,N(b(c.value?.duration_seconds)),1)]),u("div",pb,[v[12]||(v[12]=u("span",{class:"detail-label"},"Series",-1)),u("span",vb,N(a.value.length),1)])])]),u("div",gb,[v[14]||(v[14]=u("h5",{class:"section-title"},"Ejercicios Realizados",-1)),($(!0),R(Oe,null,Qe(d.value,(S,O)=>($(),R("div",{key:O,class:"exercise-group"},[u("h6",mb,N(O),1),u("div",_b,[v[13]||(v[13]=u("div",{class:"sets-table-header"},[u("span",null,"Serie"),u("span",null,"Peso"),u("span",null,"Reps")],-1)),($(!0),R(Oe,null,Qe(S,(D,L)=>($(),R("div",{key:D.id,class:"sets-table-row"},[u("span",null,N(L+1),1),u("span",null,N(D.weight_kg)+"kg",1),u("span",null,N(D.reps)+" reps",1)]))),128))])]))),128))])]))])])):le("",!0)])}}}),bb=gt(yb,[["__scopeId","data-v-0ab0458b"]]),wb={class:"page"},Eb={class:"navbar"},Sb={class:"nav-container"},kb={class:"nav-content"},Tb={class:"nav-right"},Cb={class:"main-content"},Ob={class:"container"},Ab={class:"header-section"},xb={key:0,class:"loading"},$b={key:1,class:"empty-state"},Rb={key:2,class:"templates-grid"},Pb={class:"template-header"},Ib={class:"template-title"},jb={class:"template-actions"},Nb=["onClick"],Db=["onClick"],Ub={key:0,class:"template-description"},Lb={class:"template-footer"},Mb=["onClick"],Bb=["onClick"],Vb={class:"form-group"},qb={class:"form-group"},Fb={class:"modal-actions"},Hb={class:"modal-subtitle"},Wb={key:0,class:"loading-detail"},Kb={key:1,class:"empty-state-modal"},Gb={key:2},zb={class:"students-list"},Jb=["onClick"],Qb={key:0,class:"check"},Yb={class:"form-group"},Xb={class:"modal-actions"},Zb=["disabled"],ew=ht({__name:"TrainerTemplatesView",setup(t){const e=Ms(),s=mt(),{loading:n,createTemplate:r,getTrainerTemplates:i,getTrainerStudents:o,assignTemplateToStudent:a,deleteTemplate:l}=Cr(),c=M([]),d=M([]),h=M(!1),p=M(!1),f=M(!1),b=M(null),w=M(null),E=M(""),_=M({name:"",description:""});Mt(()=>s.isAuthenticated,J=>{J&&s.user&&s.isTrainer&&v()},{immediate:!0});async function v(){s.user&&(c.value=await i(s.user.id))}async function g(){if(s.user)try{const J=await r(s.user.id,_.value.name,_.value.description);h.value=!1,_.value={name:"",description:""},e.push(`/trainer/templates/${J.id}`)}catch(J){console.error("Error creating template:",J)}}function S(J){e.push(`/trainer/templates/${J}`)}function O(J){e.push(`/trainer/templates/${J}`)}async function D(J){b.value=J,w.value=null,E.value="",p.value=!0,s.user&&(f.value=!0,d.value=await o(s.user.id),f.value=!1)}function L(J){w.value=J}async function V(){if(!(!s.user||!b.value||!w.value))try{await a(b.value.id,w.value,s.user.id,E.value),p.value=!1,alert("Rutina asignada correctamente")}catch(J){console.error("Error assigning template:",J),alert("Error al asignar la rutina")}}async function q(J){if(confirm("Eliminar esta rutina? Esta accin no se puede deshacer."))try{await l(J),await v()}catch(A){console.error("Error deleting template:",A)}}return(J,A)=>{const ke=Pt("router-link");return $(),R("div",wb,[u("nav",Eb,[u("div",Sb,[u("div",kb,[A[13]||(A[13]=u("h1",{class:"logo"},"Mis Rutinas",-1)),u("div",Tb,[_e(ke,{to:"/trainer/students",class:"nav-link"},{default:De(()=>[...A[11]||(A[11]=[Se("Estudiantes",-1)])]),_:1}),_e(ke,{to:"/dashboard",class:"nav-link"},{default:De(()=>[...A[12]||(A[12]=[Se("Dashboard",-1)])]),_:1})])])])]),u("main",Cb,[u("div",Ob,[u("div",Ab,[A[14]||(A[14]=u("h2",{class:"page-title"},"Rutinas de Entrenamiento",-1)),u("button",{onClick:A[0]||(A[0]=W=>h.value=!0),class:"btn btn-primary"}," + Nueva Rutina ")]),je(n)&&c.value.length===0?($(),R("div",xb," Cargando rutinas... ")):c.value.length===0?($(),R("div",$b,[A[15]||(A[15]=u("p",null,"No has creado ninguna rutina an.",-1)),u("button",{onClick:A[1]||(A[1]=W=>h.value=!0),class:"btn btn-primary"}," Crear Primera Rutina ")])):($(),R("div",Rb,[($(!0),R(Oe,null,Qe(c.value,W=>($(),R("div",{key:W.id,class:"template-card"},[u("div",Pb,[u("h3",Ib,N(W.name),1),u("div",jb,[u("button",{onClick:Ue=>S(W.id),class:"btn-icon",title:"Editar"},"  ",8,Nb),u("button",{onClick:Ue=>q(W.id),class:"btn-icon btn-danger",title:"Eliminar"},"  ",8,Db)])]),W.description?($(),R("p",Ub,N(W.description),1)):le("",!0),u("div",Lb,[u("button",{onClick:Ue=>O(W.id),class:"btn btn-secondary btn-sm"}," Ver Detalles ",8,Mb),u("button",{onClick:Ue=>D(W),class:"btn btn-success btn-sm"}," Asignar ",8,Bb)])]))),128))]))])]),h.value?($(),R("div",{key:0,class:"modal-overlay",onClick:A[6]||(A[6]=W=>h.value=!1)},[u("div",{class:"modal",onClick:A[5]||(A[5]=Pe(()=>{},["stop"]))},[A[19]||(A[19]=u("h3",{class:"modal-title"},"Crear Nueva Rutina",-1)),u("form",{onSubmit:Pe(g,["prevent"])},[u("div",Vb,[A[16]||(A[16]=u("label",{class:"label"},"Nombre de la rutina",-1)),he(u("input",{"onUpdate:modelValue":A[2]||(A[2]=W=>_.value.name=W),type:"text",required:"",class:"input",placeholder:"Ej: Rutina Hipertrofia 4 das"},null,512),[[me,_.value.name]])]),u("div",qb,[A[17]||(A[17]=u("label",{class:"label"},"Descripcin (opcional)",-1)),he(u("textarea",{"onUpdate:modelValue":A[3]||(A[3]=W=>_.value.description=W),class:"input",rows:"3",placeholder:"Describe el objetivo de esta rutina..."},null,512),[[me,_.value.description]])]),u("div",Fb,[u("button",{type:"button",onClick:A[4]||(A[4]=W=>h.value=!1),class:"btn btn-secondary"}," Cancelar "),A[18]||(A[18]=u("button",{type:"submit",class:"btn btn-primary"}," Crear Rutina ",-1))])],32)])])):le("",!0),p.value?($(),R("div",{key:1,class:"modal-overlay",onClick:A[10]||(A[10]=W=>p.value=!1)},[u("div",{class:"modal",onClick:A[9]||(A[9]=Pe(()=>{},["stop"]))},[A[22]||(A[22]=u("h3",{class:"modal-title"},"Asignar Rutina",-1)),u("p",Hb,N(b.value?.name),1),f.value?($(),R("div",Wb,"Cargando estudiantes...")):d.value.length===0?($(),R("div",Kb,[...A[20]||(A[20]=[u("p",null,"No tienes estudiantes an.",-1),u("p",{class:"text-sm"},"Los usuarios deben tener tu ID de entrenador en su perfil.",-1)])])):($(),R("div",Gb,[u("div",zb,[($(!0),R(Oe,null,Qe(d.value,W=>($(),R("div",{key:W.id,onClick:Ue=>L(W.id),class:rt(["student-item",{selected:w.value===W.id}])},[u("span",null,N(W.email),1),w.value===W.id?($(),R("span",Qb,"")):le("",!0)],10,Jb))),128))]),u("div",Yb,[A[21]||(A[21]=u("label",{class:"label"},"Notas (opcional)",-1)),he(u("textarea",{"onUpdate:modelValue":A[7]||(A[7]=W=>E.value=W),class:"input",rows:"2",placeholder:"Instrucciones o comentarios..."},null,512),[[me,E.value]])]),u("div",Xb,[u("button",{type:"button",onClick:A[8]||(A[8]=W=>p.value=!1),class:"btn btn-secondary"}," Cancelar "),u("button",{onClick:V,disabled:!w.value,class:"btn btn-primary"}," Asignar Rutina ",8,Zb)])]))])])):le("",!0)])}}}),tw=gt(ew,[["__scopeId","data-v-49086254"]]),sw={class:"page"},nw={class:"navbar"},rw={class:"nav-container"},iw={class:"nav-content"},ow={class:"nav-left"},aw={class:"logo"},lw={class:"main-content"},uw={class:"container"},cw={key:0,class:"loading"},dw={key:1,class:"empty-state"},hw={key:2},fw={key:0,class:"empty-state"},pw={key:1,class:"days-grid"},vw={class:"day-header"},gw={class:"day-title"},mw={class:"day-number"},_w=["onClick"],yw={key:0,class:"day-description"},bw={class:"exercises-list"},ww=["onClick"],Ew={class:"exercise-name"},Sw={class:"exercise-details"},kw={key:0},Tw=["onClick"],Cw=["onClick"],Ow={class:"info-section"},Aw={key:0},xw={class:"form-group"},$w={class:"form-group"},Rw={class:"form-group"},Pw={class:"modal-actions"},Iw={class:"tabs"},jw={key:0},Nw={class:"exercise-search"},Dw={class:"exercise-list-modal"},Uw=["onClick"],Lw={class:"ex-name"},Mw={class:"ex-meta"},Bw={key:0,class:"badge-scope"},Vw={key:1},qw={class:"form-group"},Fw={class:"form-group"},Hw={class:"form-group"},Ww={class:"form-group"},Kw={class:"modal-title"},Gw={class:"form-group"},zw={class:"form-group"},Jw={class:"form-group"},Qw={class:"modal-actions"},Yw={class:"modal-title"},Xw={class:"exercise-detail"},Zw={class:"detail-section"},e0={class:"detail-value"},t0={class:"detail-section"},s0={key:0,class:"detail-section"},n0={class:"detail-value"},r0={key:1,class:"detail-section"},i0={class:"detail-value"},o0=ht({__name:"TrainerTemplateEditView",setup(t){const e=Yl(),s=mt(),{getTemplateComplete:n,createTemplateDay:r,addExerciseToTemplateDay:i,createTrainerExercise:o,deleteTemplateDay:a,removeExerciseFromTemplateDay:l,getAvailableExercises:c}=Cr();Sn();const d=M(!1),h=M(null),p=M([]),f=M(!1),b=M(!1),w=M(!1),E=M(!1),_=M(null),v=M(null),g=M(null),S=M(""),O=M("existing"),D=M({dayNumber:1,name:"",description:""}),L=M({name:"",muscle_group:"",difficulty:"",instructions:""}),V=M({sets:3,reps:"10-12",rest:60}),q=Ie(()=>h.value?.days.reduce((T,C)=>T+C.exercises.length,0)||0),J=Ie(()=>{if(!S.value)return p.value;const T=S.value.toLowerCase();return p.value.filter(C=>C.name.toLowerCase().includes(T)||C.muscle_group?.toLowerCase().includes(T))});gr(async()=>{const T=e.params.templateId;await A(T),await ke()});async function A(T){d.value=!0,h.value=await n(T),d.value=!1}async function ke(){s.user&&(p.value=await c(s.user.id,s.user.id))}async function W(){if(h.value)try{await r(h.value.id,D.value.dayNumber,D.value.name,D.value.description),b.value=!1,D.value={dayNumber:1,name:"",description:""},await A(h.value.id)}catch(T){console.error("Error:",T)}}function Ue(T){g.value=T,S.value="",O.value="existing",w.value=!0}function tt(T){v.value=T,w.value=!1,E.value=!0}async function be(){if(s.user)try{const T=await o(s.user.id,{name:L.value.name,muscle_group:L.value.muscle_group||null,difficulty:L.value.difficulty||null,instructions:L.value.instructions||null});v.value=T,w.value=!1,E.value=!0,L.value={name:"",muscle_group:"",difficulty:"",instructions:""},await ke()}catch(T){console.error("Error:",T)}}async function re(){if(!(!v.value||!g.value||!h.value))try{const T=h.value.days.find(P=>P.id===g.value.id),C=T?T.exercises.length:0;await i(g.value.id,v.value.id,V.value.sets,V.value.reps,V.value.rest,C),E.value=!1,v.value=null,V.value={sets:3,reps:"10-12",rest:60},await A(h.value.id)}catch(T){console.error("Error:",T)}}async function pe(T){if(!(!confirm("Eliminar este ejercicio del da?")||!h.value))try{await l(T),await A(h.value.id)}catch(C){console.error("Error:",C)}}async function We(T){if(!(!confirm("Eliminar este da completo?")||!h.value))try{await a(T),await A(h.value.id)}catch(C){console.error("Error:",C)}}function oe(T){T&&(_.value=T)}return(T,C)=>($(),R("div",sw,[u("nav",nw,[u("div",rw,[u("div",iw,[u("div",ow,[u("button",{onClick:C[0]||(C[0]=P=>T.$router.back()),class:"btn-back"}," Volver"),u("h1",aw,N(h.value?.name||"Cargando..."),1)]),u("button",{onClick:C[1]||(C[1]=P=>f.value=!0),class:"btn btn-secondary btn-sm"},"  Info ")])])]),u("main",lw,[u("div",uw,[d.value&&!h.value?($(),R("div",cw,"Cargando rutina...")):h.value?($(),R("div",hw,[h.value.days.length===0?($(),R("div",fw,[C[32]||(C[32]=u("p",null,"Esta rutina no tiene das configurados an.",-1)),u("button",{onClick:C[2]||(C[2]=P=>b.value=!0),class:"btn btn-primary"}," Crear Primer Da ")])):($(),R("div",pw,[($(!0),R(Oe,null,Qe(h.value.days,P=>($(),R("div",{key:P.id,class:"day-card"},[u("div",vw,[u("div",null,[u("h3",gw,N(P.day_name),1),u("span",mw,"Da "+N(P.day_number),1)]),u("button",{onClick:fe=>We(P.id),class:"btn-icon btn-danger",title:"Eliminar da"},"  ",8,_w)]),P.description?($(),R("p",yw,N(P.description),1)):le("",!0),u("div",bw,[($(!0),R(Oe,null,Qe(P.exercises,(fe,ue)=>($(),R("div",{key:fe.id,class:"exercise-item"},[u("div",{class:"exercise-info",onClick:K=>oe(fe.exercise)},[u("h4",Ew,N(fe.exercise?.name),1),u("p",Sw,[Se(N(fe.sets)+" series  "+N(fe.reps)+" reps ",1),fe.rest_seconds?($(),R("span",kw,"  "+N(fe.rest_seconds)+"s",1)):le("",!0)])],8,ww),u("button",{onClick:K=>pe(fe.id),class:"btn-remove",title:"Eliminar"},"  ",8,Tw)]))),128)),u("button",{onClick:fe=>Ue(P),class:"btn btn-secondary btn-full"}," + Agregar Ejercicio ",8,Cw)])]))),128))])),u("button",{onClick:C[3]||(C[3]=P=>b.value=!0),class:"btn btn-primary btn-floating"}," + Nuevo Da ")])):($(),R("div",dw,[...C[31]||(C[31]=[u("p",null,"No se encontr la rutina",-1)])]))])]),f.value?($(),R("div",{key:0,class:"modal-overlay",onClick:C[6]||(C[6]=P=>f.value=!1)},[u("div",{class:"modal",onClick:C[5]||(C[5]=Pe(()=>{},["stop"]))},[C[37]||(C[37]=u("h3",{class:"modal-title"},"Informacin de la Rutina",-1)),u("div",Ow,[u("p",null,[C[33]||(C[33]=u("strong",null,"Nombre:",-1)),Se(" "+N(h.value?.name),1)]),h.value?.description?($(),R("p",Aw,[C[34]||(C[34]=u("strong",null,"Descripcin:",-1)),Se(" "+N(h.value?.description),1)])):le("",!0),u("p",null,[C[35]||(C[35]=u("strong",null,"Das:",-1)),Se(" "+N(h.value?.days.length||0),1)]),u("p",null,[C[36]||(C[36]=u("strong",null,"Total ejercicios:",-1)),Se(" "+N(q.value),1)])]),u("button",{onClick:C[4]||(C[4]=P=>f.value=!1),class:"btn btn-primary btn-full"}," Cerrar ")])])):le("",!0),b.value?($(),R("div",{key:1,class:"modal-overlay",onClick:C[12]||(C[12]=P=>b.value=!1)},[u("div",{class:"modal",onClick:C[11]||(C[11]=Pe(()=>{},["stop"]))},[C[42]||(C[42]=u("h3",{class:"modal-title"},"Crear Nuevo Da",-1)),u("form",{onSubmit:Pe(W,["prevent"])},[u("div",xw,[C[38]||(C[38]=u("label",{class:"label"},"Nmero del da",-1)),he(u("input",{"onUpdate:modelValue":C[7]||(C[7]=P=>D.value.dayNumber=P),type:"number",min:"1",required:"",class:"input"},null,512),[[me,D.value.dayNumber,void 0,{number:!0}]])]),u("div",$w,[C[39]||(C[39]=u("label",{class:"label"},"Nombre",-1)),he(u("input",{"onUpdate:modelValue":C[8]||(C[8]=P=>D.value.name=P),type:"text",required:"",class:"input",placeholder:"Ej: Pecho y Trceps"},null,512),[[me,D.value.name]])]),u("div",Rw,[C[40]||(C[40]=u("label",{class:"label"},"Descripcin (opcional)",-1)),he(u("textarea",{"onUpdate:modelValue":C[9]||(C[9]=P=>D.value.description=P),class:"input",rows:"3"},null,512),[[me,D.value.description]])]),u("div",Pw,[u("button",{type:"button",onClick:C[10]||(C[10]=P=>b.value=!1),class:"btn btn-secondary"}," Cancelar "),C[41]||(C[41]=u("button",{type:"submit",class:"btn btn-primary"},"Crear",-1))])],32)])])):le("",!0),w.value?($(),R("div",{key:2,class:"modal-overlay",onClick:C[21]||(C[21]=P=>w.value=!1)},[u("div",{class:"modal modal-large",onClick:C[20]||(C[20]=Pe(()=>{},["stop"]))},[C[50]||(C[50]=u("h3",{class:"modal-title"},"Agregar Ejercicio",-1)),u("div",Iw,[u("button",{class:rt(["tab",{active:O.value==="existing"}]),onClick:C[13]||(C[13]=P=>O.value="existing")}," Ejercicios Existentes ",2),u("button",{class:rt(["tab",{active:O.value==="create"}]),onClick:C[14]||(C[14]=P=>O.value="create")}," Crear Nuevo (Entrenador) ",2)]),O.value==="existing"?($(),R("div",jw,[u("div",Nw,[he(u("input",{"onUpdate:modelValue":C[15]||(C[15]=P=>S.value=P),type:"text",placeholder:"Buscar ejercicio...",class:"input"},null,512),[[me,S.value]])]),u("div",Dw,[($(!0),R(Oe,null,Qe(J.value,P=>($(),R("div",{key:P.id,onClick:fe=>tt(P),class:"exercise-list-item"},[u("div",null,[u("p",Lw,N(P.name),1),u("p",Mw,[Se(N(P.muscle_group)+"  "+N(P.difficulty)+" ",1),P.scope!=="global"?($(),R("span",Bw,N(P.scope),1)):le("",!0)])])],8,Uw))),128))])])):($(),R("div",Vw,[u("form",{onSubmit:Pe(be,["prevent"])},[u("div",qw,[C[43]||(C[43]=u("label",{class:"label"},"Nombre del ejercicio *",-1)),he(u("input",{"onUpdate:modelValue":C[16]||(C[16]=P=>L.value.name=P),type:"text",required:"",class:"input"},null,512),[[me,L.value.name]])]),u("div",Fw,[C[45]||(C[45]=u("label",{class:"label"},"Grupo muscular",-1)),he(u("select",{"onUpdate:modelValue":C[17]||(C[17]=P=>L.value.muscle_group=P),class:"input"},[...C[44]||(C[44]=[yr('<option value="" data-v-12f316be>Seleccionar...</option><option value="Pecho" data-v-12f316be>Pecho</option><option value="Espalda" data-v-12f316be>Espalda</option><option value="Piernas" data-v-12f316be>Piernas</option><option value="Hombros" data-v-12f316be>Hombros</option><option value="Brazos" data-v-12f316be>Brazos</option><option value="Core" data-v-12f316be>Core</option>',7)])],512),[[js,L.value.muscle_group]])]),u("div",Hw,[C[47]||(C[47]=u("label",{class:"label"},"Dificultad",-1)),he(u("select",{"onUpdate:modelValue":C[18]||(C[18]=P=>L.value.difficulty=P),class:"input"},[...C[46]||(C[46]=[u("option",{value:""},"Seleccionar...",-1),u("option",{value:"principiante"},"Principiante",-1),u("option",{value:"intermedio"},"Intermedio",-1),u("option",{value:"avanzado"},"Avanzado",-1)])],512),[[js,L.value.difficulty]])]),u("div",Ww,[C[48]||(C[48]=u("label",{class:"label"},"Instrucciones",-1)),he(u("textarea",{"onUpdate:modelValue":C[19]||(C[19]=P=>L.value.instructions=P),class:"input",rows:"4"},null,512),[[me,L.value.instructions]])]),C[49]||(C[49]=u("button",{type:"submit",class:"btn btn-primary btn-full"}," Crear y Agregar ",-1))],32)]))])])):le("",!0),E.value?($(),R("div",{key:3,class:"modal-overlay",onClick:C[27]||(C[27]=P=>E.value=!1)},[u("div",{class:"modal",onClick:C[26]||(C[26]=Pe(()=>{},["stop"]))},[u("h3",Kw,"Configurar: "+N(v.value?.name),1),u("form",{onSubmit:Pe(re,["prevent"])},[u("div",Gw,[C[51]||(C[51]=u("label",{class:"label"},"Series",-1)),he(u("input",{"onUpdate:modelValue":C[22]||(C[22]=P=>V.value.sets=P),type:"number",min:"1",required:"",class:"input"},null,512),[[me,V.value.sets,void 0,{number:!0}]])]),u("div",zw,[C[52]||(C[52]=u("label",{class:"label"},"Repeticiones",-1)),he(u("input",{"onUpdate:modelValue":C[23]||(C[23]=P=>V.value.reps=P),type:"text",required:"",class:"input",placeholder:"10-12"},null,512),[[me,V.value.reps]])]),u("div",Jw,[C[53]||(C[53]=u("label",{class:"label"},"Descanso (segundos)",-1)),he(u("input",{"onUpdate:modelValue":C[24]||(C[24]=P=>V.value.rest=P),type:"number",min:"0",required:"",class:"input"},null,512),[[me,V.value.rest,void 0,{number:!0}]])]),u("div",Qw,[u("button",{type:"button",onClick:C[25]||(C[25]=P=>E.value=!1),class:"btn btn-secondary"}," Cancelar "),C[54]||(C[54]=u("button",{type:"submit",class:"btn btn-primary"},"Agregar",-1))])],32)])])):le("",!0),_.value?($(),R("div",{key:4,class:"modal-overlay",onClick:C[30]||(C[30]=P=>_.value=null)},[u("div",{class:"modal modal-large",onClick:C[29]||(C[29]=Pe(()=>{},["stop"]))},[u("button",{class:"modal-close",onClick:C[28]||(C[28]=P=>_.value=null)},""),u("h3",Yw,N(_.value.name),1),u("div",Xw,[u("div",Zw,[C[55]||(C[55]=u("p",{class:"detail-label"},"Grupo muscular:",-1)),u("p",e0,N(_.value.muscle_group||"No especificado"),1)]),u("div",t0,[C[56]||(C[56]=u("p",{class:"detail-label"},"Dificultad:",-1)),u("span",{class:rt(["badge",`badge-${_.value.difficulty}`])},N(_.value.difficulty||"No especificado"),3)]),_.value.description?($(),R("div",s0,[C[57]||(C[57]=u("p",{class:"detail-label"},"Descripcin:",-1)),u("p",n0,N(_.value.description),1)])):le("",!0),_.value.instructions?($(),R("div",r0,[C[58]||(C[58]=u("p",{class:"detail-label"},"Instrucciones:",-1)),u("p",i0,N(_.value.instructions),1)])):le("",!0)])])])):le("",!0)]))}}),a0=gt(o0,[["__scopeId","data-v-12f316be"]]),l0={class:"page"},u0={class:"navbar"},c0={class:"nav-container"},d0={class:"nav-content"},h0={class:"nav-right"},f0={class:"main-content"},p0={class:"container"},v0={class:"header-section"},g0={class:"stats"},m0={class:"stat-box"},_0={class:"stat-value"},y0={class:"stat-box"},b0={class:"stat-value"},w0={key:0,class:"loading"},E0={key:1,class:"empty-state"},S0={class:"info-box"},k0={class:"trainer-id"},T0={key:2,class:"students-grid"},C0={class:"student-header"},O0={class:"student-avatar"},A0={class:"student-info"},x0={class:"student-name"},$0={class:"student-stats"},R0={class:"stat-item"},P0={class:"stat-text"},I0={class:"student-actions"},j0=["onClick"],N0=["onClick"],D0={class:"modal-title"},U0={key:0,class:"loading-detail"},L0={key:1},M0={class:"section"},B0={key:0,class:"empty-section"},V0={key:1,class:"assignments-list"},q0={class:"assignment-info"},F0={class:"assignment-name"},H0={class:"assignment-date"},W0={key:0,class:"assignment-notes"},K0=["onClick"],G0={class:"modal-subtitle"},z0={key:0,class:"empty-section"},J0={key:1},Q0={class:"templates-select"},Y0=["onClick"],X0={class:"template-option-name"},Z0={key:0,class:"template-option-desc"},e1={key:0,class:"check"},t1={class:"form-group"},s1={class:"modal-actions"},n1=["disabled"],r1=ht({__name:"TrainerStudentsView",setup(t){const e=mt(),{getTrainerStudents:s,getTrainerTemplates:n,getStudentAssignments:r,assignTemplateToStudent:i}=Cr(),o=M(!1),a=M(!1),l=M([]),c=M([]),d=M(null),h=M([]),p=M(!1),f=M(null),b=M(null),w=M(""),E=M({});Mt(()=>e.isAuthenticated,J=>{J&&e.user&&e.isTrainer&&_()},{immediate:!0});async function _(){if(e.user){o.value=!0,l.value=await s(e.user.id),c.value=await n(e.user.id);for(const J of l.value){const A=await r(J.id);E.value[J.id]=A.length}o.value=!1}}function v(J){return E.value[J]||0}async function g(J){const A=l.value.find(ke=>ke.id===J);A&&(d.value=A,a.value=!0,h.value=await r(J),a.value=!1)}function S(J){f.value=J,b.value=null,w.value="",p.value=!0}function O(J){b.value=J}async function D(){if(!(!e.user||!f.value||!b.value))try{await i(b.value,f.value.id,e.user.id,w.value),p.value=!1,alert("Rutina asignada correctamente"),await _()}catch(J){console.error("Error:",J),alert("Error al asignar la rutina")}}async function L(J){confirm("Quitar esta asignacin?")&&alert("Funcionalidad pendiente de implementar")}function V(){e.user?.id&&(navigator.clipboard.writeText(e.user.id),alert("ID copiado al portapapeles"))}function q(J){const A=new Date(J);return new Intl.DateTimeFormat("es-ES",{day:"numeric",month:"long",year:"numeric"}).format(A)}return(J,A)=>{const ke=Pt("router-link");return $(),R("div",l0,[u("nav",u0,[u("div",c0,[u("div",d0,[A[9]||(A[9]=u("h1",{class:"logo"},"Mis Estudiantes",-1)),u("div",h0,[_e(ke,{to:"/trainer/templates",class:"nav-link"},{default:De(()=>[...A[7]||(A[7]=[Se("Rutinas",-1)])]),_:1}),_e(ke,{to:"/dashboard",class:"nav-link"},{default:De(()=>[...A[8]||(A[8]=[Se("Dashboard",-1)])]),_:1})])])])]),u("main",f0,[u("div",p0,[u("div",v0,[A[12]||(A[12]=u("h2",{class:"page-title"},"Gestin de Estudiantes",-1)),u("div",g0,[u("div",m0,[u("span",_0,N(l.value.length),1),A[10]||(A[10]=u("span",{class:"stat-label"},"Estudiantes",-1))]),u("div",y0,[u("span",b0,N(c.value.length),1),A[11]||(A[11]=u("span",{class:"stat-label"},"Rutinas",-1))])])]),o.value&&l.value.length===0?($(),R("div",w0," Cargando estudiantes... ")):l.value.length===0?($(),R("div",E0,[A[14]||(A[14]=u("h3",null,"No tienes estudiantes an",-1)),A[15]||(A[15]=u("p",null,"Los usuarios deben configurar tu ID de entrenador en su perfil para aparecer aqu.",-1)),u("div",S0,[A[13]||(A[13]=u("p",null,[u("strong",null,"Tu ID de entrenador:")],-1)),u("code",k0,N(je(e).user?.id),1),u("button",{onClick:V,class:"btn btn-secondary btn-sm"},"  Copiar ID ")])])):($(),R("div",T0,[($(!0),R(Oe,null,Qe(l.value,W=>($(),R("div",{key:W.id,class:"student-card"},[u("div",C0,[u("div",O0,N(W.email[0].toUpperCase()),1),u("div",A0,[u("h3",x0,N(W.email),1),A[16]||(A[16]=u("span",{class:"student-role"},"Estudiante",-1))])]),u("div",$0,[u("div",R0,[A[17]||(A[17]=u("span",{class:"stat-icon"},"",-1)),u("span",P0,N(v(W.id))+" rutinas asignadas ",1)])]),u("div",I0,[u("button",{onClick:Ue=>g(W.id),class:"btn btn-secondary btn-sm btn-full"}," Ver Detalles ",8,j0),u("button",{onClick:Ue=>S(W),class:"btn btn-primary btn-sm btn-full"}," Asignar Rutina ",8,N0)])]))),128))]))])]),d.value?($(),R("div",{key:0,class:"modal-overlay",onClick:A[2]||(A[2]=W=>d.value=null)},[u("div",{class:"modal modal-large",onClick:A[1]||(A[1]=Pe(()=>{},["stop"]))},[u("button",{class:"modal-close",onClick:A[0]||(A[0]=W=>d.value=null)},""),u("h3",D0,N(d.value.email),1),a.value?($(),R("div",U0," Cargando informacin... ")):($(),R("div",L0,[u("div",M0,[A[19]||(A[19]=u("h4",{class:"section-title"},"Rutinas Asignadas",-1)),h.value.length===0?($(),R("div",B0,[...A[18]||(A[18]=[u("p",null,"Este estudiante no tiene rutinas asignadas an.",-1)])])):($(),R("div",V0,[($(!0),R(Oe,null,Qe(h.value,W=>($(),R("div",{key:W.id,class:"assignment-item"},[u("div",q0,[u("h5",F0,N(W.template?.name),1),u("p",H0," Asignada: "+N(q(W.assigned_at)),1),W.notes?($(),R("p",W0,N(W.notes),1)):le("",!0)]),u("button",{onClick:Ue=>L(W.id),class:"btn-icon btn-danger",title:"Quitar asignacin"},"  ",8,K0)]))),128))]))])]))])])):le("",!0),p.value?($(),R("div",{key:1,class:"modal-overlay",onClick:A[6]||(A[6]=W=>p.value=!1)},[u("div",{class:"modal",onClick:A[5]||(A[5]=Pe(()=>{},["stop"]))},[A[23]||(A[23]=u("h3",{class:"modal-title"},"Asignar Rutina",-1)),u("p",G0,N(f.value?.email),1),c.value.length===0?($(),R("div",z0,[A[21]||(A[21]=u("p",null,"No tienes rutinas creadas an.",-1)),_e(ke,{to:"/trainer/templates",class:"btn btn-primary"},{default:De(()=>[...A[20]||(A[20]=[Se(" Crear Primera Rutina ",-1)])]),_:1})])):($(),R("div",J0,[u("div",Q0,[($(!0),R(Oe,null,Qe(c.value,W=>($(),R("div",{key:W.id,onClick:Ue=>O(W.id),class:rt(["template-option",{selected:b.value===W.id}])},[u("div",null,[u("p",X0,N(W.name),1),W.description?($(),R("p",Z0,N(W.description),1)):le("",!0)]),b.value===W.id?($(),R("span",e1,"")):le("",!0)],10,Y0))),128))]),u("div",t1,[A[22]||(A[22]=u("label",{class:"label"},"Notas para el estudiante (opcional)",-1)),he(u("textarea",{"onUpdate:modelValue":A[3]||(A[3]=W=>w.value=W),class:"input",rows:"3",placeholder:"Instrucciones, objetivos, etc..."},null,512),[[me,w.value]])]),u("div",s1,[u("button",{type:"button",onClick:A[4]||(A[4]=W=>p.value=!1),class:"btn btn-secondary"}," Cancelar "),u("button",{onClick:D,disabled:!b.value,class:"btn btn-primary"}," Asignar Rutina ",8,n1)])]))])])):le("",!0)])}}}),i1=gt(r1,[["__scopeId","data-v-03fcf731"]]),o1=[{path:"/",name:"Home",component:yg,meta:{requiresAuth:!1}},{path:"/login",name:"Login",component:xg,meta:{requiresAuth:!1}},{path:"/register",name:"Register",component:Vg,meta:{requiresAuth:!1}},{path:"/dashboard",name:"Dashboard",component:am,meta:{requiresAuth:!0}},{path:"/training",name:"Training",component:c_,meta:{requiresAuth:!0}},{path:"/training/:dayId",name:"ActiveTraining",component:Uy,meta:{requiresAuth:!0}},{path:"/history",name:"History",component:bb,meta:{requiresAuth:!0}},{path:"/admin/exercises",name:"AdminExercises",component:V_,meta:{requiresAuth:!0,requiresAdmin:!0}},{path:"/trainer/templates",name:"TrainerTemplates",component:tw,meta:{requiresAuth:!0,requiresTrainer:!0}},{path:"/trainer/templates/:templateId",name:"TrainerTemplateEdit",component:a0,meta:{requiresAuth:!0,requiresTrainer:!0}},{path:"/trainer/students",name:"TrainerStudents",component:i1,meta:{requiresAuth:!0,requiresTrainer:!0}}],Wu=jf({history:hf(),routes:o1});Wu.beforeEach((t,e,s)=>{const n=mt(),r=t.meta.requiresAuth,i=t.meta.requiresAdmin,o=t.meta.requiresTrainer;if(n.loading){const l=setInterval(()=>{n.loading||(clearInterval(l),a())},100);return}a();function a(){r&&!n.isAuthenticated?s({name:"Login",query:{redirect:t.fullPath}}):i&&!n.isAdmin?(alert("No tienes permisos de administrador para acceder a esta pgina"),s({name:"Dashboard"})):o&&!n.isTrainerOrAdmin?(alert("Necesitas ser entrenador para acceder a esta pgina"),s({name:"Dashboard"})):(t.name==="Login"||t.name==="Register")&&n.isAuthenticated?s({name:"Dashboard"}):s()}});const eo=ph(Ch),a1=mh();eo.use(a1);eo.use(Wu);const l1=mt();l1.initialize().then(()=>{eo.mount("#app")});
